{"title":"Using Tmux plugins with Tpm","slug":"using-tmux-with-tpm","date":"2017-08-07T17:31:00.000Z","updated":"2019-07-03T22:51:02.816Z","comments":true,"path":"api/articles/using-tmux-with-tpm.json","excerpt":null,"covers":["/images/posts/2017/using-tmux-with-tpm/tmux-screenshot-07.08.2017.png"],"content":"<p>Recently, I decided to organize my Unix <a href=\"https://github.com/pwittchen/dotfiles\" target=\"_blank\" rel=\"noopener\">dotfiles</a> in a better way. I had a few custom scripts I used in my Tmux bottom bar. I kept these scripts in <code>.scripts</code> directory and during installation or upgrade of my personal configuration, <a href=\"https://github.com/pwittchen/dotfiles/blob/master/install.sh\" target=\"_blank\" rel=\"noopener\"><code>install.sh</code></a> script was copying them from <code>.scripts</code> directory to <code>/usr/local/bin/</code> directory. I wanted to make this configuration more solid and consistent, so I decided to transform these scripts into tmux plugins managed by <a href=\"https://github.com/tmux-plugins/tpm\" target=\"_blank\" rel=\"noopener\">tpm</a>. I was already using a few plugins like:</p>\n<ul>\n<li><a href=\"https://github.com/tmux-plugins/tmux-sidebar\" target=\"_blank\" rel=\"noopener\">tmux-sidebar</a></li>\n<li><a href=\"https://github.com/tmux-plugins/tmux-copycat\" target=\"_blank\" rel=\"noopener\">tmux-copycat</a></li>\n<li><a href=\"https://github.com/tmux-plugins/tmux-pain-control\" target=\"_blank\" rel=\"noopener\">tmux-pain-control</a></li>\n<li><a href=\"https://github.com/tmux-plugins/tmux-urlview\" target=\"_blank\" rel=\"noopener\">tmux-urlview</a></li>\n</ul>\n<p>In my Tmux bottom bar, I display battery level, uptime, CPU, RAM, IP number and song currently played on Spotify. Previously I just used scripts copied to <code>/usr/local/bin/</code> and configuration looked like that:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set -g status-right &quot;â†‘ #(showUptime) â‡… #(showCpuUsage) â˜° #(showRamUsage) âˆ´ #(showIp) â†¯ #&#123;showBatteryLevel&#125; â§– #(date &apos;+%a, %b %d, %H:%M&apos;) &quot;</span><br></pre></td></tr></table></figure>\n\n<p>I created the following plugins to replace these scripts:</p>\n<ul>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-battery\" target=\"_blank\" rel=\"noopener\">tmux-plugin-battery</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-uptime\" target=\"_blank\" rel=\"noopener\">tmux-plugin-uptime</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-cpu\" target=\"_blank\" rel=\"noopener\">tmux-plugin-cpu</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-ram\" target=\"_blank\" rel=\"noopener\">tmux-plugin-ram</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-ip\" target=\"_blank\" rel=\"noopener\">tmux-plugin-ip</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-spotify\" target=\"_blank\" rel=\"noopener\">tmux-plugin-spotify</a></li>\n</ul>\n<p>In order to use Tmux plugins, we need to install Tmux Plugin Manager:</p>\n<p>git clone <a href=\"https://github.com/tmux-plugins/tpm\" target=\"_blank\" rel=\"noopener\">https://github.com/tmux-plugins/tpm</a> ~/.tmux/plugins/tpm</p>\n<p>and initialize it at the bottom of our <code>.tmux.conf</code> file:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run &apos;~/.tmux/plugins/tpm/tpm&apos;</span><br></pre></td></tr></table></figure>\n\n<p>After that, itâ€™s good to reload shell (<code>source ~/.zshrc</code>) and Tmux config (<code>tmux source-file ~/.tmux.conf</code>) Next, we can add our plugins to .tmux.conf file:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-sidebar&apos;</span><br><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-copycat&apos;</span><br><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-pain-control&apos;</span><br><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-urlview&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-battery&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-uptime&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-cpu&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-ram&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-ip&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-spotify&apos;</span><br></pre></td></tr></table></figure>\n\n<p>When we are in Tmux, we can install plugins by pressing <code>prefix + I</code> to install plugins. In my case, <code>prefix = Ctrl+b</code>. After that, we can hit <code>Enter</code> and weâ€™re ready to go! Now, I could update my <a href=\"https://github.com/pwittchen/dotfiles/blob/master/.tmux.conf\" target=\"_blank\" rel=\"noopener\"><code>.tmux.conf</code></a> with the variables defined by my plugins:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set -g status-right &quot; ðŸ”‰ #&#123;spotify_song&#125; â†‘ #&#123;uptime&#125; â‡… #&#123;cpu&#125; â˜° #&#123;ram&#125; âˆ´ #&#123;ip&#125; â†¯ #&#123;battery_level&#125; â§– #(date &apos;+%a, %b %d, %H:%M&apos;) &quot;</span><br></pre></td></tr></table></figure>\n\n<p>After this operation, I could remove custom scripts from my dotfiles and desired functionality is delivered via plugins. Moreover, anyone can install these plugins via tpm without messing with custom scripts! </p>\n<p><img src=\"/images/posts/2017/using-tmux-with-tpm/tmux-screenshot-07.08.2017.png\" alt=\"screenshot from tmux after configuration\"> </p>\n<p>Right now, my plugins are in kind of messy state and they donâ€™t work perfectly across all operating systems (e.g. there are problems on macOS), but theyâ€™re usable under Linux Ubuntu 16.04 LTS and itâ€™s a good beginning for organizing mess created by the custom scripts. Thatâ€™s it! I have plans to publish another article describing how to write your custom Tmux plugin, which can be managed via tpm.</p>\n","more":"<p>Recently, I decided to organize my Unix <a href=\"https://github.com/pwittchen/dotfiles\" target=\"_blank\" rel=\"noopener\">dotfiles</a> in a better way. I had a few custom scripts I used in my Tmux bottom bar. I kept these scripts in <code>.scripts</code> directory and during installation or upgrade of my personal configuration, <a href=\"https://github.com/pwittchen/dotfiles/blob/master/install.sh\" target=\"_blank\" rel=\"noopener\"><code>install.sh</code></a> script was copying them from <code>.scripts</code> directory to <code>/usr/local/bin/</code> directory. I wanted to make this configuration more solid and consistent, so I decided to transform these scripts into tmux plugins managed by <a href=\"https://github.com/tmux-plugins/tpm\" target=\"_blank\" rel=\"noopener\">tpm</a>. I was already using a few plugins like:</p>\n<ul>\n<li><a href=\"https://github.com/tmux-plugins/tmux-sidebar\" target=\"_blank\" rel=\"noopener\">tmux-sidebar</a></li>\n<li><a href=\"https://github.com/tmux-plugins/tmux-copycat\" target=\"_blank\" rel=\"noopener\">tmux-copycat</a></li>\n<li><a href=\"https://github.com/tmux-plugins/tmux-pain-control\" target=\"_blank\" rel=\"noopener\">tmux-pain-control</a></li>\n<li><a href=\"https://github.com/tmux-plugins/tmux-urlview\" target=\"_blank\" rel=\"noopener\">tmux-urlview</a></li>\n</ul>\n<p>In my Tmux bottom bar, I display battery level, uptime, CPU, RAM, IP number and song currently played on Spotify. Previously I just used scripts copied to <code>/usr/local/bin/</code> and configuration looked like that:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set -g status-right &quot;â†‘ #(showUptime) â‡… #(showCpuUsage) â˜° #(showRamUsage) âˆ´ #(showIp) â†¯ #&#123;showBatteryLevel&#125; â§– #(date &apos;+%a, %b %d, %H:%M&apos;) &quot;</span><br></pre></td></tr></table></figure>\n\n<p>I created the following plugins to replace these scripts:</p>\n<ul>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-battery\" target=\"_blank\" rel=\"noopener\">tmux-plugin-battery</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-uptime\" target=\"_blank\" rel=\"noopener\">tmux-plugin-uptime</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-cpu\" target=\"_blank\" rel=\"noopener\">tmux-plugin-cpu</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-ram\" target=\"_blank\" rel=\"noopener\">tmux-plugin-ram</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-ip\" target=\"_blank\" rel=\"noopener\">tmux-plugin-ip</a></li>\n<li><a href=\"https://github.com/pwittchen/tmux-plugin-spotify\" target=\"_blank\" rel=\"noopener\">tmux-plugin-spotify</a></li>\n</ul>\n<p>In order to use Tmux plugins, we need to install Tmux Plugin Manager:</p>\n<p>git clone <a href=\"https://github.com/tmux-plugins/tpm\" target=\"_blank\" rel=\"noopener\">https://github.com/tmux-plugins/tpm</a> ~/.tmux/plugins/tpm</p>\n<p>and initialize it at the bottom of our <code>.tmux.conf</code> file:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run &apos;~/.tmux/plugins/tpm/tpm&apos;</span><br></pre></td></tr></table></figure>\n\n<p>After that, itâ€™s good to reload shell (<code>source ~/.zshrc</code>) and Tmux config (<code>tmux source-file ~/.tmux.conf</code>) Next, we can add our plugins to .tmux.conf file:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-sidebar&apos;</span><br><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-copycat&apos;</span><br><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-pain-control&apos;</span><br><span class=\"line\">set -g @plugin &apos;tmux-plugins/tmux-urlview&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-battery&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-uptime&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-cpu&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-ram&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-ip&apos;</span><br><span class=\"line\">set -g @plugin &apos;pwittchen/tmux-plugin-spotify&apos;</span><br></pre></td></tr></table></figure>\n\n<p>When we are in Tmux, we can install plugins by pressing <code>prefix + I</code> to install plugins. In my case, <code>prefix = Ctrl+b</code>. After that, we can hit <code>Enter</code> and weâ€™re ready to go! Now, I could update my <a href=\"https://github.com/pwittchen/dotfiles/blob/master/.tmux.conf\" target=\"_blank\" rel=\"noopener\"><code>.tmux.conf</code></a> with the variables defined by my plugins:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set -g status-right &quot; ðŸ”‰ #&#123;spotify_song&#125; â†‘ #&#123;uptime&#125; â‡… #&#123;cpu&#125; â˜° #&#123;ram&#125; âˆ´ #&#123;ip&#125; â†¯ #&#123;battery_level&#125; â§– #(date &apos;+%a, %b %d, %H:%M&apos;) &quot;</span><br></pre></td></tr></table></figure>\n\n<p>After this operation, I could remove custom scripts from my dotfiles and desired functionality is delivered via plugins. Moreover, anyone can install these plugins via tpm without messing with custom scripts! </p>\n<p><img src=\"/images/posts/2017/using-tmux-with-tpm/tmux-screenshot-07.08.2017.png\" alt=\"screenshot from tmux after configuration\"> </p>\n<p>Right now, my plugins are in kind of messy state and they donâ€™t work perfectly across all operating systems (e.g. there are problems on macOS), but theyâ€™re usable under Linux Ubuntu 16.04 LTS and itâ€™s a good beginning for organizing mess created by the custom scripts. Thatâ€™s it! I have plans to publish another article describing how to write your custom Tmux plugin, which can be managed via tpm.</p>\n","categories":[],"tags":[{"name":"linux","path":"api/tags/linux.json"},{"name":"tmux","path":"api/tags/tmux.json"},{"name":"tpm","path":"api/tags/tpm.json"}]}