{"title":"Adjusting Look and Feel of IntelliJ IDEA and Android Studio on Ubuntu","slug":"intellij-look-and-feel","date":"2015-03-28T15:25:00.000Z","updated":"2019-07-03T22:51:02.810Z","comments":true,"path":"api/articles/intellij-look-and-feel.json","excerpt":null,"covers":["/images/posts/2015/intellij-look-and-feel/android_studio_font_01.png","/images/posts/2015/intellij-look-and-feel/android_studio_font_02.png"],"content":"<h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p><strong>Update</strong>: this is an old post. Right now these problems are no longer valid.</p>\n<p>In contrast to MS Windows, default installation of IntelliJ IDEA, Android Studio and other JetBrains IDEs, in my opinion, doesn’t look good in Ubuntu with Unity. Unfortunately, adjusting look of my favorite IDE is a common problem right now and it was reported to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-57233\" target=\"_blank\" rel=\"noopener\">JetBrains issue tracker</a>. Luckily, we can perform a few tweaks, to improve its look &amp; feel ourselves.</p>\n<h2 id=\"Enabling-HUD\"><a href=\"#Enabling-HUD\" class=\"headerlink\" title=\"Enabling HUD\"></a>Enabling HUD</h2><p>Some Java applications don’t have Head Up Display (HUD) enabled by default. The same problem occurs in IntelliJ IDEA. I’ve described that in article about <a href=\"http://blog.wittchen.biz.pl/software-for-common-users-on-ubuntu/\" target=\"_blank\" rel=\"noopener\">software for common users on Ubuntu</a>. HUD is characteristic element for Unity environment and it’s similar to Apple OS X. I think, it’s useful and allows to have more space on the screen. In addition, I wanted my IDE to behave in the same way as other applications. In order to enable HUD, we have to install additional software:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo add-apt-repository ppa:danjaredg/jayatana</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install jayatana</span><br></pre></td></tr></table></figure>\n\n<p><strong>Hint</strong>: We can skip this step if we’re using different Windows Manager than Unity (e.g. Gnome).</p>\n<h2 id=\"Font-fix\"><a href=\"#Font-fix\" class=\"headerlink\" title=\"Font fix\"></a>Font fix</h2><p>IntelliJ IDEA has problem with font anti-aliasing on Ubuntu. In order to resolve that problem, we need to install Font Fix for Open JDK.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo add-apt-repository ppa:no1wantdthisname/openjdk-fontfix</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install openjdk-7-jdk</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Preparing-run-script\"><a href=\"#Preparing-run-script\" class=\"headerlink\" title=\"Preparing run script\"></a>Preparing run script</h2><p>To finalize font fixing process, we need to prepare additional shell script, place it in the <code>bin/</code> directory with the IDE and run IntelliJ IDEA with that script. Below, I present source of my scripts for IntelliJ IDEA and Android Studio. We can create scripts for other JetBrains IDEs (e.g. PyCharm) in the same way. </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run-idea.sh</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\"># change to your location</span></span><br><span class=\"line\">IDEA_HOME=/home/piotr/Development/java/idea-ce</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-amd64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Note: Can modify $IDEA_HOME/bin/idea&#123;,64&#125;.vmoptions</span></span><br><span class=\"line\"><span class=\"comment\"># instead of setting here.</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dawt.useSystemAAFontSettings=on\" seems worse to me</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dsun.java2d.xrender=true\" makes fonts darker</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> _JAVA_OPTIONS=<span class=\"string\">\"-Dawt.useSystemAAFontSettings=lcd \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dsun.java2d.xrender=true \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dswing.aatext=true \\</span></span><br><span class=\"line\"><span class=\"string\">\t\t      -Dsun.java2d.pmoffscreen=false\"</span></span><br><span class=\"line\"><span class=\"comment\"># Having this set makes menu font size smaller (wtf?)</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> GNOME_DESKTOP_SESSION_ID=this-is-deprecated</span><br><span class=\"line\"><span class=\"comment\"># unset GNOME_DESKTOP_SESSION_ID</span></span><br><span class=\"line\"><span class=\"built_in\">exec</span> <span class=\"variable\">$IDEA_HOME</span>/bin/idea.sh <span class=\"string\">\"<span class=\"variable\">$@</span>\"</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run-studio.sh</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\"># change to your location</span></span><br><span class=\"line\">ANDROID_STUDIO_HOME=/home/piotr/Development/android/android-studio</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-amd64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Note: Can modify $ANDROID_STUDIO_HOME/bin/studio&#123;,64&#125;.vmoptions</span></span><br><span class=\"line\"><span class=\"comment\"># instead of setting here.</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dawt.useSystemAAFontSettings=on\" seems worse to me</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dsun.java2d.xrender=true\" makes fonts darker</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> _JAVA_OPTIONS=<span class=\"string\">\"-Dawt.useSystemAAFontSettings=lcd \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dsun.java2d.xrender=true \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dswing.aatext=true \\</span></span><br><span class=\"line\"><span class=\"string\">\t\t      -Dsun.java2d.pmoffscreen=false\"</span></span><br><span class=\"line\"><span class=\"comment\"># Having this set makes menu font size smaller (wtf?)</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> GNOME_DESKTOP_SESSION_ID=this-is-deprecated</span><br><span class=\"line\"><span class=\"comment\"># unset GNOME_DESKTOP_SESSION_ID</span></span><br><span class=\"line\"><span class=\"built_in\">exec</span> <span class=\"variable\">$ANDROID_STUDIO_HOME</span>/bin/studio.sh <span class=\"string\">\"<span class=\"variable\">$@</span>\"</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Configuring-fonts-amp-appearance\"><a href=\"#Configuring-fonts-amp-appearance\" class=\"headerlink\" title=\"Configuring fonts &amp; appearance\"></a>Configuring fonts &amp; appearance</h2><p>I wasn’t satisfied by default font configuration of IntelliJ IDEA and Android Studio, so I updated it a little. In my opinion, it looks better after such operation. You can see my configuration on the screenshots below. Screenshots are from Android Studio, but configuration can be the same for all JetBrains IDEs. Of course, I also prefer Darcula theme. </p>\n<p><img src=\"/images/posts/2015/intellij-look-and-feel/android_studio_font_01.png\" alt=\"android_studio_font_01\"></p>\n<p><img src=\"/images/posts/2015/intellij-look-and-feel/android_studio_font_02.png\" alt=\"android_studio_font_02\"></p>\n<h2 id=\"Finishing-configuration-amp-system-reboot\"><a href=\"#Finishing-configuration-amp-system-reboot\" class=\"headerlink\" title=\"Finishing configuration &amp; system reboot\"></a>Finishing configuration &amp; system reboot</h2><p>When we performed all of the tasks mentioned in the steps above, we need to perform <strong>reboot of the system</strong>. After that, our IDE and its fonts should look fine. That’s it. I hope it will be helpful for you.</p>\n","more":"<h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p><strong>Update</strong>: this is an old post. Right now these problems are no longer valid.</p>\n<p>In contrast to MS Windows, default installation of IntelliJ IDEA, Android Studio and other JetBrains IDEs, in my opinion, doesn’t look good in Ubuntu with Unity. Unfortunately, adjusting look of my favorite IDE is a common problem right now and it was reported to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-57233\" target=\"_blank\" rel=\"noopener\">JetBrains issue tracker</a>. Luckily, we can perform a few tweaks, to improve its look &amp; feel ourselves.</p>\n<h2 id=\"Enabling-HUD\"><a href=\"#Enabling-HUD\" class=\"headerlink\" title=\"Enabling HUD\"></a>Enabling HUD</h2><p>Some Java applications don’t have Head Up Display (HUD) enabled by default. The same problem occurs in IntelliJ IDEA. I’ve described that in article about <a href=\"http://blog.wittchen.biz.pl/software-for-common-users-on-ubuntu/\" target=\"_blank\" rel=\"noopener\">software for common users on Ubuntu</a>. HUD is characteristic element for Unity environment and it’s similar to Apple OS X. I think, it’s useful and allows to have more space on the screen. In addition, I wanted my IDE to behave in the same way as other applications. In order to enable HUD, we have to install additional software:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo add-apt-repository ppa:danjaredg/jayatana</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install jayatana</span><br></pre></td></tr></table></figure>\n\n<p><strong>Hint</strong>: We can skip this step if we’re using different Windows Manager than Unity (e.g. Gnome).</p>\n<h2 id=\"Font-fix\"><a href=\"#Font-fix\" class=\"headerlink\" title=\"Font fix\"></a>Font fix</h2><p>IntelliJ IDEA has problem with font anti-aliasing on Ubuntu. In order to resolve that problem, we need to install Font Fix for Open JDK.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo add-apt-repository ppa:no1wantdthisname/openjdk-fontfix</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install openjdk-7-jdk</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Preparing-run-script\"><a href=\"#Preparing-run-script\" class=\"headerlink\" title=\"Preparing run script\"></a>Preparing run script</h2><p>To finalize font fixing process, we need to prepare additional shell script, place it in the <code>bin/</code> directory with the IDE and run IntelliJ IDEA with that script. Below, I present source of my scripts for IntelliJ IDEA and Android Studio. We can create scripts for other JetBrains IDEs (e.g. PyCharm) in the same way. </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run-idea.sh</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\"># change to your location</span></span><br><span class=\"line\">IDEA_HOME=/home/piotr/Development/java/idea-ce</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-amd64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Note: Can modify $IDEA_HOME/bin/idea&#123;,64&#125;.vmoptions</span></span><br><span class=\"line\"><span class=\"comment\"># instead of setting here.</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dawt.useSystemAAFontSettings=on\" seems worse to me</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dsun.java2d.xrender=true\" makes fonts darker</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> _JAVA_OPTIONS=<span class=\"string\">\"-Dawt.useSystemAAFontSettings=lcd \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dsun.java2d.xrender=true \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dswing.aatext=true \\</span></span><br><span class=\"line\"><span class=\"string\">\t\t      -Dsun.java2d.pmoffscreen=false\"</span></span><br><span class=\"line\"><span class=\"comment\"># Having this set makes menu font size smaller (wtf?)</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> GNOME_DESKTOP_SESSION_ID=this-is-deprecated</span><br><span class=\"line\"><span class=\"comment\"># unset GNOME_DESKTOP_SESSION_ID</span></span><br><span class=\"line\"><span class=\"built_in\">exec</span> <span class=\"variable\">$IDEA_HOME</span>/bin/idea.sh <span class=\"string\">\"<span class=\"variable\">$@</span>\"</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run-studio.sh</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\"># change to your location</span></span><br><span class=\"line\">ANDROID_STUDIO_HOME=/home/piotr/Development/android/android-studio</span><br><span class=\"line\"><span class=\"built_in\">export</span> JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-amd64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Note: Can modify $ANDROID_STUDIO_HOME/bin/studio&#123;,64&#125;.vmoptions</span></span><br><span class=\"line\"><span class=\"comment\"># instead of setting here.</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dawt.useSystemAAFontSettings=on\" seems worse to me</span></span><br><span class=\"line\"><span class=\"comment\"># \"-Dsun.java2d.xrender=true\" makes fonts darker</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> _JAVA_OPTIONS=<span class=\"string\">\"-Dawt.useSystemAAFontSettings=lcd \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dsun.java2d.xrender=true \\</span></span><br><span class=\"line\"><span class=\"string\">                      -Dswing.aatext=true \\</span></span><br><span class=\"line\"><span class=\"string\">\t\t      -Dsun.java2d.pmoffscreen=false\"</span></span><br><span class=\"line\"><span class=\"comment\"># Having this set makes menu font size smaller (wtf?)</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> GNOME_DESKTOP_SESSION_ID=this-is-deprecated</span><br><span class=\"line\"><span class=\"comment\"># unset GNOME_DESKTOP_SESSION_ID</span></span><br><span class=\"line\"><span class=\"built_in\">exec</span> <span class=\"variable\">$ANDROID_STUDIO_HOME</span>/bin/studio.sh <span class=\"string\">\"<span class=\"variable\">$@</span>\"</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Configuring-fonts-amp-appearance\"><a href=\"#Configuring-fonts-amp-appearance\" class=\"headerlink\" title=\"Configuring fonts &amp; appearance\"></a>Configuring fonts &amp; appearance</h2><p>I wasn’t satisfied by default font configuration of IntelliJ IDEA and Android Studio, so I updated it a little. In my opinion, it looks better after such operation. You can see my configuration on the screenshots below. Screenshots are from Android Studio, but configuration can be the same for all JetBrains IDEs. Of course, I also prefer Darcula theme. </p>\n<p><img src=\"/images/posts/2015/intellij-look-and-feel/android_studio_font_01.png\" alt=\"android_studio_font_01\"></p>\n<p><img src=\"/images/posts/2015/intellij-look-and-feel/android_studio_font_02.png\" alt=\"android_studio_font_02\"></p>\n<h2 id=\"Finishing-configuration-amp-system-reboot\"><a href=\"#Finishing-configuration-amp-system-reboot\" class=\"headerlink\" title=\"Finishing configuration &amp; system reboot\"></a>Finishing configuration &amp; system reboot</h2><p>When we performed all of the tasks mentioned in the steps above, we need to perform <strong>reboot of the system</strong>. After that, our IDE and its fonts should look fine. That’s it. I hope it will be helpful for you.</p>\n","categories":[],"tags":[{"name":"linux","path":"api/tags/linux.json"},{"name":"ubuntu","path":"api/tags/ubuntu.json"},{"name":"intellij","path":"api/tags/intellij.json"}]}