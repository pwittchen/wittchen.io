{"title":"Working with different Git configs","slug":"working-with-different-git-configs","date":"2017-03-10T18:30:00.000Z","updated":"2019-07-03T22:51:02.816Z","comments":true,"path":"api/articles/working-with-different-git-configs.json","excerpt":null,"covers":null,"content":"<h2 id=\"Short-introduction\"><a href=\"#Short-introduction\" class=\"headerlink\" title=\"Short introduction\"></a>Short introduction</h2><p>Sometimes <a href=\"http://stackoverflow.com/questions/4220416/can-i-specify-multiple-users-for-myself-in-gitconfig\" target=\"_blank\" rel=\"noopener\">people need to specify multiple values</a> for single <code>.gitconfig</code> file or they want to share just part of the configuration between two machines. There are different approaches for that. I can show you mine.</p>\n<h2 id=\"Different-configs-for-different-Operating-Systems\"><a href=\"#Different-configs-for-different-Operating-Systems\" class=\"headerlink\" title=\"Different configs for different Operating Systems\"></a>Different configs for different Operating Systems</h2><p>On my private computer, I use Linux. I use Git for my private projects and I use my private e-mail address there. At the same time, I use Git at work on macOS with exactly the same Git configuration, but with a different e-mail address. How to deal with that? In my <a href=\"https://github.com/pwittchen/dotfiles/blob/master/.gitconfig\" target=\"_blank\" rel=\"noopener\">.gitconfig</a> file, I set my private e-mail address, which is used by default. In my <a href=\"https://github.com/pwittchen/dotfiles/blob/master/.zshrc\" target=\"_blank\" rel=\"noopener\">.zshrc</a> file, I created two aliases:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">alias</span> setupGitPersonal=<span class=\"string\">\"git config --global user.email \\\"piotr@wittchen.biz.pl\\\"\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> setupGitForWork=<span class=\"string\">\"git config --global user.email \\\"piotr.wittchen@sap.com\\\"\"</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Hint</strong>: If you want to configure more stuff than just an e-mail, you can do it in the appropriate alias or you can create separate shell scripts for that and place them in <code>/usr/local/bin/</code> directory. Then, on Linux, I don’t have to do anything and my private e-mail address is used out-of-the-box. On macOS, I do the following trick in <code>.zshrc</code> file:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ `uname` = <span class=\"string\">\"Darwin\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  setupGitForWork</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># rest of the macOS config goes here...</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n\n<p>After that, every time I start terminal on macOS, it automatically sets up my e-mail address to the one I use at work and keeps my <code>.gitconfig</code> file updated. <strong>Hint</strong>: If you don’t use <a href=\"https://en.wikipedia.org/wiki/Z_shell\" target=\"_blank\" rel=\"noopener\">zsh</a>, instead of <code>.zshrc</code> file, edit <code>.bashrc</code> file.</p>\n<h2 id=\"Different-configs-for-the-same-OS-on-two-machines\"><a href=\"#Different-configs-for-the-same-OS-on-two-machines\" class=\"headerlink\" title=\"Different configs for the same OS on two machines\"></a>Different configs for the same OS on two machines</h2><p>If you’re using different configs on the different machines with the same OS, you can try another trick. Create configuration file - e.g. <code>.machine_name</code> in your home directory. Setup one name on one machine and another name on a different machine. Next, include this file in your <code>.zshrc</code> or <code>.bashrc</code> file, perform appropriate check and load different settings basing on variable name.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">. ~/.machine_name</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$machineName</span> = <span class=\"string\">\"workMachine\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  setupGitForWork</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  setupGitPersonal</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n\n<p>Contents of the <code>.machine_name</code> file are simple:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">machineName=&quot;workMachine&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Different-configs-on-the-single-machine-with-one-OS\"><a href=\"#Different-configs-on-the-single-machine-with-one-OS\" class=\"headerlink\" title=\"Different configs on the single machine with one OS\"></a>Different configs on the single machine with one OS</h2><p>In such case, we are supposed to perform the manual switch. We can use aliases provided above. When we want to have personal settings, we can open terminal and type <code>setupGitPersonal</code>. When we want to apply work settings, then we can type <code>setupGitForWork</code>.</p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>As we can see, keeping different configs for different machines or operating systems and changing them depending on our needs is not so hard. I hope these ideas will help you to manage your configs.</p>\n","more":"<h2 id=\"Short-introduction\"><a href=\"#Short-introduction\" class=\"headerlink\" title=\"Short introduction\"></a>Short introduction</h2><p>Sometimes <a href=\"http://stackoverflow.com/questions/4220416/can-i-specify-multiple-users-for-myself-in-gitconfig\" target=\"_blank\" rel=\"noopener\">people need to specify multiple values</a> for single <code>.gitconfig</code> file or they want to share just part of the configuration between two machines. There are different approaches for that. I can show you mine.</p>\n<h2 id=\"Different-configs-for-different-Operating-Systems\"><a href=\"#Different-configs-for-different-Operating-Systems\" class=\"headerlink\" title=\"Different configs for different Operating Systems\"></a>Different configs for different Operating Systems</h2><p>On my private computer, I use Linux. I use Git for my private projects and I use my private e-mail address there. At the same time, I use Git at work on macOS with exactly the same Git configuration, but with a different e-mail address. How to deal with that? In my <a href=\"https://github.com/pwittchen/dotfiles/blob/master/.gitconfig\" target=\"_blank\" rel=\"noopener\">.gitconfig</a> file, I set my private e-mail address, which is used by default. In my <a href=\"https://github.com/pwittchen/dotfiles/blob/master/.zshrc\" target=\"_blank\" rel=\"noopener\">.zshrc</a> file, I created two aliases:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">alias</span> setupGitPersonal=<span class=\"string\">\"git config --global user.email \\\"piotr@wittchen.biz.pl\\\"\"</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> setupGitForWork=<span class=\"string\">\"git config --global user.email \\\"piotr.wittchen@sap.com\\\"\"</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Hint</strong>: If you want to configure more stuff than just an e-mail, you can do it in the appropriate alias or you can create separate shell scripts for that and place them in <code>/usr/local/bin/</code> directory. Then, on Linux, I don’t have to do anything and my private e-mail address is used out-of-the-box. On macOS, I do the following trick in <code>.zshrc</code> file:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ `uname` = <span class=\"string\">\"Darwin\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  setupGitForWork</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># rest of the macOS config goes here...</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n\n<p>After that, every time I start terminal on macOS, it automatically sets up my e-mail address to the one I use at work and keeps my <code>.gitconfig</code> file updated. <strong>Hint</strong>: If you don’t use <a href=\"https://en.wikipedia.org/wiki/Z_shell\" target=\"_blank\" rel=\"noopener\">zsh</a>, instead of <code>.zshrc</code> file, edit <code>.bashrc</code> file.</p>\n<h2 id=\"Different-configs-for-the-same-OS-on-two-machines\"><a href=\"#Different-configs-for-the-same-OS-on-two-machines\" class=\"headerlink\" title=\"Different configs for the same OS on two machines\"></a>Different configs for the same OS on two machines</h2><p>If you’re using different configs on the different machines with the same OS, you can try another trick. Create configuration file - e.g. <code>.machine_name</code> in your home directory. Setup one name on one machine and another name on a different machine. Next, include this file in your <code>.zshrc</code> or <code>.bashrc</code> file, perform appropriate check and load different settings basing on variable name.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">. ~/.machine_name</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$machineName</span> = <span class=\"string\">\"workMachine\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  setupGitForWork</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  setupGitPersonal</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n\n<p>Contents of the <code>.machine_name</code> file are simple:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">machineName=&quot;workMachine&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Different-configs-on-the-single-machine-with-one-OS\"><a href=\"#Different-configs-on-the-single-machine-with-one-OS\" class=\"headerlink\" title=\"Different configs on the single machine with one OS\"></a>Different configs on the single machine with one OS</h2><p>In such case, we are supposed to perform the manual switch. We can use aliases provided above. When we want to have personal settings, we can open terminal and type <code>setupGitPersonal</code>. When we want to apply work settings, then we can type <code>setupGitForWork</code>.</p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>As we can see, keeping different configs for different machines or operating systems and changing them depending on our needs is not so hard. I hope these ideas will help you to manage your configs.</p>\n","categories":[],"tags":[{"name":"git","path":"api/tags/git.json"}]}