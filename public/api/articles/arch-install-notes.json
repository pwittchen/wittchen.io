{"title":"Arch Linux - installation notes","slug":"arch-install-notes","date":"2019-07-24T21:59:20.000Z","updated":"2019-07-24T22:30:04.039Z","comments":true,"path":"api/articles/arch-install-notes.json","excerpt":null,"covers":null,"content":"<h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p>For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn’t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn’t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about <a href=\"https://www.youtube.com/watch?v=4PBqpX0_UOc\" target=\"_blank\" rel=\"noopener\">Full Arch Linux Install</a> by <a href=\"https://www.youtube.com/channel/UC2eYFnH61tmytImy1mTYvhA\" target=\"_blank\" rel=\"noopener\">Luke Smith</a> where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you’ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and “can do” attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I’ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an <a href=\"https://wiki.archlinux.org/index.php/Installation_guide\" target=\"_blank\" rel=\"noopener\">official Arch installation guide</a> in Arch Wiki. This article can be additional resource to this stuff.</p>\n<h2 id=\"Booting-installer-from-USB\"><a href=\"#Booting-installer-from-USB\" class=\"headerlink\" title=\"Booting installer from USB\"></a>Booting installer from USB</h2><h3 id=\"Creating-bootable-USB\"><a href=\"#Creating-bootable-USB\" class=\"headerlink\" title=\"Creating bootable USB\"></a>Creating bootable USB</h3><p>In order to create bootable USB, we need to download <code>*.iso</code> file with Arch from <a href=\"https://www.archlinux.org/download/\" target=\"_blank\" rel=\"noopener\">https://www.archlinux.org/download/</a>. We also need to have <code>dd</code> (disk dump) program installed. We need to invoke <code>lsblk</code> before inserting USB drive to see our drives and invoke <code>lsblk</code> again after inserting the USB drive to see, which one it is. We can also have a look at disk sizes, what helps in recognizing our disk. Next, we can call <code>dd</code>:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dd <span class=\"keyword\">if</span>=/path/to/arch.iso of=/dev/sdb status=<span class=\"string\">\"progress\"</span></span><br></pre></td></tr></table></figure>\n\n<p><code>status=&quot;progress&quot;</code> parameter will allow us to monitor progress of the whole process.</p>\n<p><strong>Note</strong>: please, be sure that you are writing on the correct disk! In the example above, we’re writing to <code>/dev/sdb</code>. It may be the same in your case, but it may be different too! It’s just an example!</p>\n<h3 id=\"BIOS-configuration\"><a href=\"#BIOS-configuration\" class=\"headerlink\" title=\"BIOS configuration\"></a>BIOS configuration</h3><p>We need to go into the BIOS before installation. It may be different on different computers. On mine it’s hitting <kbd>Enter</kbd> after reboot and then <kbd>F1</kbd>. Inside BIOS, we need to change order of booting devices and move USB drive to the top. I also had to disable secure boot and quick boot. Moreover I set <code>UEFI/Legacy Boot</code> to <code>Both</code> (<code>UEFI/Legacy Boot Priority</code>: <code>UEFI First</code>, <code>CSM Support</code>: <code>YES</code>). Sometimes network boot may interrupt boot process, so I set it to <code>USB HDD</code>. I had to play more with this stuff on freshly installed system because it was not booting in the beginning. It may be different on your computer. Sometimes, there may be no issue with it.</p>\n<h2 id=\"First-things\"><a href=\"#First-things\" class=\"headerlink\" title=\"First things\"></a>First things</h2><h3 id=\"UEFI-check\"><a href=\"#UEFI-check\" class=\"headerlink\" title=\"UEFI check\"></a>UEFI check</h3><p>Once we have booted installer from USB stick, we need to perform <a href=\"https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface\" target=\"_blank\" rel=\"noopener\">UEFI</a> check as follows.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls /sys/firmware/efivars</span><br></pre></td></tr></table></figure>\n\n<p>If it outputs an error or nothing, that’s ok and we can proceed with installation. If you see bunch of files, then installation procedure may be different or may require additional steps.</p>\n<h3 id=\"Internet-check\"><a href=\"#Internet-check\" class=\"headerlink\" title=\"Internet check\"></a>Internet check</h3><p>We need to check an internet connection because we will need it to download packages. We can do it just by simple ping:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ping wittchen.io</span><br></pre></td></tr></table></figure>\n\n<p>When we see response, that’s ok.</p>\n<p>It’s worth to mention, that it’s good to have ethernet cable connection for the installation process. Optionally, you can use <code>wifi-menu</code> to connect wirelessly, but it’s not recommended for the installation.</p>\n<h2 id=\"System-time-and-date-initial-setup\"><a href=\"#System-time-and-date-initial-setup\" class=\"headerlink\" title=\"System time and date initial setup\"></a>System time and date initial setup</h2><p>To perform system time and date initial setup, we need to run the following command:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">timedatectl set-ntp true</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Partitions\"><a href=\"#Partitions\" class=\"headerlink\" title=\"Partitions\"></a>Partitions</h2><p>Let’s see what partitions do we have on our system. We can view them with <code>lsblk</code> program.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsblk</span><br></pre></td></tr></table></figure>\n\n<p>Before we start doing anything, we should remove existing partitions. We can do it with <code>fdisk</code> tool by running it with our main disk as a parameter. Usually it will be <code>/dev/sda</code>, but in my case it was <code>/dev/nvme0n1</code>. We can get this name from <code>lsblk</code> output.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk /dev/nvme0n1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Removing-existing-partitions\"><a href=\"#Removing-existing-partitions\" class=\"headerlink\" title=\"Removing existing partitions\"></a>Removing existing partitions</h3><p>Next, we can choose different options. In our case, we need to choose <code>:d</code> to delete partitions. We need to call this option for each partition.</p>\n<p>Sometimes, we may have problems with installation or removing old partitions. In that case, we can use alternative method of cleaning disk:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sgdisk --zap-all /dev/nvme0n1p1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Creating-new-partitions\"><a href=\"#Creating-new-partitions\" class=\"headerlink\" title=\"Creating new partitions\"></a>Creating new partitions</h3><p>Now, we have to prepare our disk for the future system installation. Our goal is to have the following configuration of the partitions</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvme0n1     259:0    0   477G  0 disk</span><br><span class=\"line\">├─nvme0n1p1 259:1    0   200M  0 part /boot</span><br><span class=\"line\">├─nvme0n1p2 259:2    0    24G  0 part [SWAP]</span><br><span class=\"line\">├─nvme0n1p3 259:3    0    25G  0 part /</span><br><span class=\"line\">└─nvme0n1p4 259:4    0 427,8G  0 part /home</span><br></pre></td></tr></table></figure>\n\n<p>This is the output from my current system and <code>nvme0n1</code> is the disk. First partition (<code>nvme0n1p1</code>) is <code>boot</code> partition used during the system boot. Next partition (<code>nvme0n1p2</code>) is a SWAP partition, which acts as an overflow for our RAM memory, when it gets filled up. Third partition (<code>nvme0n1p3</code>) is root partition, which is the root of the file system and programs will be installed there. The last partition (<code>nvme0n1p4</code>) is home partition, where we are going to keep our files.</p>\n<p>In order to create new partition, we have to call <code>fdisk /dev/nvme0n1p1</code> (if we haven’t done it yet).<br>Let’s create boot partition. Type <code>:c</code> for create. We leave first sector empty, hit <kbd>Enter</kbd> in the last sector we put <code>+200M</code> for 200 megabytes, which is recommended value for boot partitoin and confirm it with <kbd>Enter</kbd>. We follow this procedure for SWAP, which should have size = <code>1.5 * size of RAM in computer</code>. I currently have 16GB of RAM, so it’s <code>1.5 * 16 GB = 24 GB</code>, so I put <code>+24G</code> in the last sector. Next, we can create root partition. It should have around <code>+25G</code>. You can decrease it if you have small disk or increase it if you have huge disk and plans to install a lot of programs. In the end, we are creating home partition, where in the last sector option we can just hit <kbd>Enter</kbd> and <code>fdisk</code> will assign remaining disk space to this partition. When we’re done, we should confirm our partition configuration with <code>:w</code> like write. Then, we can type <code>lsblk</code> again to see our written configuration. It should look like in the example above.</p>\n<h3 id=\"Creating-file-systems\"><a href=\"#Creating-file-systems\" class=\"headerlink\" title=\"Creating file systems\"></a>Creating file systems</h3><p>Next, we can to create file systems on our partitions. In general, we can use <code>ext4</code>, which is Linux file system. Some devices may have boot problems or may have specific BIOS setup. In that case, it’s recommended to use <code>FAT32</code> file system. Let’s use <code>mkfs</code> program to create file systems.</p>\n<p>We will create <code>FAT32</code> file system on our boot partition:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkfs.vfat -F32 /dev/nvme0n1p1</span><br></pre></td></tr></table></figure>\n\n<p>Then, we will create <code>ext4</code> file systems on root and home partitions:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkfs.ext4 /dev/nvme0n1p3</span><br><span class=\"line\">mkfs.ext4 /dev/nvme0n1p4</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Creating-SWAP\"><a href=\"#Creating-SWAP\" class=\"headerlink\" title=\"Creating SWAP\"></a>Creating SWAP</h3><p>Now, we can create SWAP on the <code>nvme0n1p2</code> partition:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkswap /dev/nvme0n1p2</span><br></pre></td></tr></table></figure>\n\n<p>Next, we can turn the SWAP on:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swapon /dev/nvme0n1p2</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Mounting-partitions\"><a href=\"#Mounting-partitions\" class=\"headerlink\" title=\"Mounting partitions\"></a>Mounting partitions</h3><p>Right now, we are ready to mount our partitions.</p>\n<p>We can mount the root partition as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount /dev/nvme0n1p3 /mnt</span><br></pre></td></tr></table></figure>\n\n<p>When we list this partition:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls /mnt</span><br></pre></td></tr></table></figure>\n\n<p>we should see <code>lost+found</code> file, which is a generic system file.</p>\n<p>Now on the root partition we can create home and boot directories.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /mnt/home</span><br><span class=\"line\">mkdir /mnt/boot</span><br></pre></td></tr></table></figure>\n\n<p>and mount our previously created partitions into these dirs:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount /dev/nvme0n1p1 /mnt/boot</span><br><span class=\"line\">mount /dev/nvme0n1p4 /mnt/home</span><br></pre></td></tr></table></figure>\n\n<p>and then we can type <code>lsblk</code> to see that everything is created properly.</p>\n<h2 id=\"Arch-installation\"><a href=\"#Arch-installation\" class=\"headerlink\" title=\"Arch installation\"></a>Arch installation</h2><p>Now, there is an easy part. We have everything prepared and we’re ready to install the operating system. </p>\n<p>Arch can be installed with literally <strong>one command</strong>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacstrap /mnt base</span><br></pre></td></tr></table></figure>\n\n<p>It’s recommended to install <code>base-devel</code> package, which contains additional software, which may be required to run everything. We can also install <code>vim</code>, to have an editor to edit our configs and other stuff. The final command can look like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacstrap /mnt base base-devel vim</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Creating-fstab\"><a href=\"#Creating-fstab\" class=\"headerlink\" title=\"Creating fstab\"></a>Creating fstab</h2><p>We should also create <code>fstab</code> file, which contains information about system drives and mounted partitions and file systems.<br>We can do it as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure>\n\n<p>My <code>/etc/fstab</code> file looks like that:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Static information about the filesystems.</span><br><span class=\"line\"># See fstab(5) for details.</span><br><span class=\"line\"></span><br><span class=\"line\"># &lt;file system&gt; &lt;dir&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt;</span><br><span class=\"line\"># /dev/nvme0n1p3</span><br><span class=\"line\">UUID=d94887d0-daff-4a4b-a28a-1de3fdadbb58\t/         \text4      \trw,relatime\t0 1</span><br><span class=\"line\"></span><br><span class=\"line\"># /dev/nvme0n1p1</span><br><span class=\"line\">UUID=97B8-B124      \t/boot     \tvfat      \trw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro\t0 2</span><br><span class=\"line\"></span><br><span class=\"line\"># /dev/nvme0n1p4</span><br><span class=\"line\">UUID=75b24330-5ca7-47fc-a6ea-3d4cd826df4d\t/home     \text4      \trw,relatime\t0 2</span><br><span class=\"line\"></span><br><span class=\"line\"># /dev/nvme0n1p2</span><br><span class=\"line\">UUID=2788826f-9abf-44c7-b2d5-15323be8ba4e\tnone      \tswap      \tdefaults  \t0 0</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Operations-inside-the-system\"><a href=\"#Operations-inside-the-system\" class=\"headerlink\" title=\"Operations inside the system\"></a>Operations inside the system</h2><h3 id=\"Changing-root\"><a href=\"#Changing-root\" class=\"headerlink\" title=\"Changing root\"></a>Changing root</h3><p>Now, we can change the root:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arch-chroot /mnt</span><br></pre></td></tr></table></figure>\n\n<p>After typing command above, we jumped from the bootable USB drive into the operating system installed on the disk of our computer. </p>\n<p>Now, we’re able to perform operations inside the system.</p>\n<h3 id=\"Installing-network-manager\"><a href=\"#Installing-network-manager\" class=\"headerlink\" title=\"Installing network manager\"></a>Installing network manager</h3><p>First of all, we should install network manger via <code>pacman</code> to have network and Internet connectivity:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S networkmanager</span><br></pre></td></tr></table></figure>\n\n<p>to enable network manager, we can type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable NetworkManager</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Installing-GRUB\"><a href=\"#Installing-GRUB\" class=\"headerlink\" title=\"Installing GRUB\"></a>Installing GRUB</h3><p>We also have to install GRUB, which will be responsible for booting our operating system:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S grub</span><br></pre></td></tr></table></figure>\n\n<p>Next, we have to configure it:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grub-install --target=i386-pc /dev/nvme0n1</span><br></pre></td></tr></table></figure>\n\n<p>Please note, we provided path to the disk (drive) - not the partition.</p>\n<p>Next, we should create <code>/boot/grub/grub.cfg</code> configuration file:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Setting-password\"><a href=\"#Setting-password\" class=\"headerlink\" title=\"Setting password\"></a>Setting password</h3><p>to set the password, we can just type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passwd</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Setting-locale\"><a href=\"#Setting-locale\" class=\"headerlink\" title=\"Setting locale\"></a>Setting locale</h3><p>To set locale, we need to edit <code>/etc/locale.gen</code> (e.g. via vim) and uncomment desired locales (one or more).</p>\n<p>In my case I uncommented:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pl_PL.UTF-8</span><br><span class=\"line\">pl_PL ISO-8859-2</span><br><span class=\"line\">en_US.UTF-8</span><br><span class=\"line\">en_US ISO-88591</span><br></pre></td></tr></table></figure>\n\n<p>becasue I wanted to use both Polish and English language.</p>\n<p>Now, we can type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">locale-gen</span><br></pre></td></tr></table></figure>\n\n<p>To set default locale, we have to edit <code>/etc/locale.conf</code> and set <code>LANG</code> variable as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>\n\n<p>Of course, we can set <code>pl_PL.UTF-8</code> too or any other language we want to use as default system language. I personally use English as a OS language, bacause it’s easier to diagnose possible issues, when you have English messages in terminal. Nevertheles, I use Polish as an input language, to be able to use Polish letters, european metric system, Polish currency, etc. It should be adjusted to our needs.</p>\n<h3 id=\"Setting-timezone\"><a href=\"#Setting-timezone\" class=\"headerlink\" title=\"Setting timezone\"></a>Setting timezone</h3><p>You can browse time zones in <code>/usr/share/zoneinfo</code> directory. To set our time zone, we need to create a symbolic lin between desired time zone and <code>/etc/localtime</code> file. Once we change our time zone, we can create a symbolic link again.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls -sf /usr/share/zoneinfo/Europe/Warsaw /etc/localtime</span><br></pre></td></tr></table></figure>\n\n<p>My time zone is Warsaw in Europe, but you can set your own time zone here.</p>\n<h3 id=\"Setting-hostname\"><a href=\"#Setting-hostname\" class=\"headerlink\" title=\"Setting hostname\"></a>Setting hostname</h3><p>To create our <code>hostname</code>, which is name of the computer, we can edit <code>/etc/hostname</code> file and put our name there.</p>\n<p>My hostname is <code>arch</code>.</p>\n<h2 id=\"Finalization\"><a href=\"#Finalization\" class=\"headerlink\" title=\"Finalization\"></a>Finalization</h2><h3 id=\"Unmounting-file-systems\"><a href=\"#Unmounting-file-systems\" class=\"headerlink\" title=\"Unmounting file systems\"></a>Unmounting file systems</h3><p>Before we reboot our computer, we should unmount partitions:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount -R /mnt</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Rebooting\"><a href=\"#Rebooting\" class=\"headerlink\" title=\"Rebooting\"></a>Rebooting</h3><p>To reboot computer, we can just type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reboot</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"What’s-next\"><a href=\"#What’s-next\" class=\"headerlink\" title=\"What’s next?\"></a>What’s next?</h2><p>Once, our computer will be restarted, GRUB should boot our operating system and we should see the black screen with white letters and command prompt. It means, everything went fine, our system is installed and booted! Now, we’re ready to install other sutff (e.g. Desktop Environment or Window Manager). We can also leave it without GUI, if our computer has really low specs or when we’re planning to use this machine as a server or something like that.</p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>To wrap up, installing Arch is not trivial and requires some proficiency with Linux and terminal. Neverhteless, once you have some basics, it’s no that hard as we can expect. In addition, we have great documentation and resources on the web about it. Going through this process can be nice lesson. You can see, how much stuff automatic installers are doing for us. Moreover, we can totally adjust system to our needs. We don’t need to have a bloat of not necessary packages and programs like we have on Ubuntu. We can install exactly what we need and track our packages. I haven’t mentioned it before, but Arch has rolling release system. It means, there are no huge system updates like in Ubuntu, Windows or macOS. We can gradually update our system by installing small amount of single packages and our system can be up to date basically everyday. I’m using Arch for a few weeks for now and it seems to be one of the best and most stable operating systems I have used so far. It’s quite hard to break something on this system until you explicitly break it (e.g. by typing into terminal commands you don’t understand). It’s also light-weight and customizable. I cannot recommend this system to people who are not familiar with Linux, don’t like to play with computers and software, don’t want to fix stuff for themselves, customize system etc., but if you’re are not in this group, this OS may be for you. </p>\n","more":"<h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p>For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn’t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn’t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about <a href=\"https://www.youtube.com/watch?v=4PBqpX0_UOc\" target=\"_blank\" rel=\"noopener\">Full Arch Linux Install</a> by <a href=\"https://www.youtube.com/channel/UC2eYFnH61tmytImy1mTYvhA\" target=\"_blank\" rel=\"noopener\">Luke Smith</a> where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you’ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and “can do” attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I’ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an <a href=\"https://wiki.archlinux.org/index.php/Installation_guide\" target=\"_blank\" rel=\"noopener\">official Arch installation guide</a> in Arch Wiki. This article can be additional resource to this stuff.</p>\n<h2 id=\"Booting-installer-from-USB\"><a href=\"#Booting-installer-from-USB\" class=\"headerlink\" title=\"Booting installer from USB\"></a>Booting installer from USB</h2><h3 id=\"Creating-bootable-USB\"><a href=\"#Creating-bootable-USB\" class=\"headerlink\" title=\"Creating bootable USB\"></a>Creating bootable USB</h3><p>In order to create bootable USB, we need to download <code>*.iso</code> file with Arch from <a href=\"https://www.archlinux.org/download/\" target=\"_blank\" rel=\"noopener\">https://www.archlinux.org/download/</a>. We also need to have <code>dd</code> (disk dump) program installed. We need to invoke <code>lsblk</code> before inserting USB drive to see our drives and invoke <code>lsblk</code> again after inserting the USB drive to see, which one it is. We can also have a look at disk sizes, what helps in recognizing our disk. Next, we can call <code>dd</code>:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dd <span class=\"keyword\">if</span>=/path/to/arch.iso of=/dev/sdb status=<span class=\"string\">\"progress\"</span></span><br></pre></td></tr></table></figure>\n\n<p><code>status=&quot;progress&quot;</code> parameter will allow us to monitor progress of the whole process.</p>\n<p><strong>Note</strong>: please, be sure that you are writing on the correct disk! In the example above, we’re writing to <code>/dev/sdb</code>. It may be the same in your case, but it may be different too! It’s just an example!</p>\n<h3 id=\"BIOS-configuration\"><a href=\"#BIOS-configuration\" class=\"headerlink\" title=\"BIOS configuration\"></a>BIOS configuration</h3><p>We need to go into the BIOS before installation. It may be different on different computers. On mine it’s hitting <kbd>Enter</kbd> after reboot and then <kbd>F1</kbd>. Inside BIOS, we need to change order of booting devices and move USB drive to the top. I also had to disable secure boot and quick boot. Moreover I set <code>UEFI/Legacy Boot</code> to <code>Both</code> (<code>UEFI/Legacy Boot Priority</code>: <code>UEFI First</code>, <code>CSM Support</code>: <code>YES</code>). Sometimes network boot may interrupt boot process, so I set it to <code>USB HDD</code>. I had to play more with this stuff on freshly installed system because it was not booting in the beginning. It may be different on your computer. Sometimes, there may be no issue with it.</p>\n<h2 id=\"First-things\"><a href=\"#First-things\" class=\"headerlink\" title=\"First things\"></a>First things</h2><h3 id=\"UEFI-check\"><a href=\"#UEFI-check\" class=\"headerlink\" title=\"UEFI check\"></a>UEFI check</h3><p>Once we have booted installer from USB stick, we need to perform <a href=\"https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface\" target=\"_blank\" rel=\"noopener\">UEFI</a> check as follows.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls /sys/firmware/efivars</span><br></pre></td></tr></table></figure>\n\n<p>If it outputs an error or nothing, that’s ok and we can proceed with installation. If you see bunch of files, then installation procedure may be different or may require additional steps.</p>\n<h3 id=\"Internet-check\"><a href=\"#Internet-check\" class=\"headerlink\" title=\"Internet check\"></a>Internet check</h3><p>We need to check an internet connection because we will need it to download packages. We can do it just by simple ping:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ping wittchen.io</span><br></pre></td></tr></table></figure>\n\n<p>When we see response, that’s ok.</p>\n<p>It’s worth to mention, that it’s good to have ethernet cable connection for the installation process. Optionally, you can use <code>wifi-menu</code> to connect wirelessly, but it’s not recommended for the installation.</p>\n<h2 id=\"System-time-and-date-initial-setup\"><a href=\"#System-time-and-date-initial-setup\" class=\"headerlink\" title=\"System time and date initial setup\"></a>System time and date initial setup</h2><p>To perform system time and date initial setup, we need to run the following command:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">timedatectl set-ntp true</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Partitions\"><a href=\"#Partitions\" class=\"headerlink\" title=\"Partitions\"></a>Partitions</h2><p>Let’s see what partitions do we have on our system. We can view them with <code>lsblk</code> program.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsblk</span><br></pre></td></tr></table></figure>\n\n<p>Before we start doing anything, we should remove existing partitions. We can do it with <code>fdisk</code> tool by running it with our main disk as a parameter. Usually it will be <code>/dev/sda</code>, but in my case it was <code>/dev/nvme0n1</code>. We can get this name from <code>lsblk</code> output.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk /dev/nvme0n1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Removing-existing-partitions\"><a href=\"#Removing-existing-partitions\" class=\"headerlink\" title=\"Removing existing partitions\"></a>Removing existing partitions</h3><p>Next, we can choose different options. In our case, we need to choose <code>:d</code> to delete partitions. We need to call this option for each partition.</p>\n<p>Sometimes, we may have problems with installation or removing old partitions. In that case, we can use alternative method of cleaning disk:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sgdisk --zap-all /dev/nvme0n1p1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Creating-new-partitions\"><a href=\"#Creating-new-partitions\" class=\"headerlink\" title=\"Creating new partitions\"></a>Creating new partitions</h3><p>Now, we have to prepare our disk for the future system installation. Our goal is to have the following configuration of the partitions</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvme0n1     259:0    0   477G  0 disk</span><br><span class=\"line\">├─nvme0n1p1 259:1    0   200M  0 part /boot</span><br><span class=\"line\">├─nvme0n1p2 259:2    0    24G  0 part [SWAP]</span><br><span class=\"line\">├─nvme0n1p3 259:3    0    25G  0 part /</span><br><span class=\"line\">└─nvme0n1p4 259:4    0 427,8G  0 part /home</span><br></pre></td></tr></table></figure>\n\n<p>This is the output from my current system and <code>nvme0n1</code> is the disk. First partition (<code>nvme0n1p1</code>) is <code>boot</code> partition used during the system boot. Next partition (<code>nvme0n1p2</code>) is a SWAP partition, which acts as an overflow for our RAM memory, when it gets filled up. Third partition (<code>nvme0n1p3</code>) is root partition, which is the root of the file system and programs will be installed there. The last partition (<code>nvme0n1p4</code>) is home partition, where we are going to keep our files.</p>\n<p>In order to create new partition, we have to call <code>fdisk /dev/nvme0n1p1</code> (if we haven’t done it yet).<br>Let’s create boot partition. Type <code>:c</code> for create. We leave first sector empty, hit <kbd>Enter</kbd> in the last sector we put <code>+200M</code> for 200 megabytes, which is recommended value for boot partitoin and confirm it with <kbd>Enter</kbd>. We follow this procedure for SWAP, which should have size = <code>1.5 * size of RAM in computer</code>. I currently have 16GB of RAM, so it’s <code>1.5 * 16 GB = 24 GB</code>, so I put <code>+24G</code> in the last sector. Next, we can create root partition. It should have around <code>+25G</code>. You can decrease it if you have small disk or increase it if you have huge disk and plans to install a lot of programs. In the end, we are creating home partition, where in the last sector option we can just hit <kbd>Enter</kbd> and <code>fdisk</code> will assign remaining disk space to this partition. When we’re done, we should confirm our partition configuration with <code>:w</code> like write. Then, we can type <code>lsblk</code> again to see our written configuration. It should look like in the example above.</p>\n<h3 id=\"Creating-file-systems\"><a href=\"#Creating-file-systems\" class=\"headerlink\" title=\"Creating file systems\"></a>Creating file systems</h3><p>Next, we can to create file systems on our partitions. In general, we can use <code>ext4</code>, which is Linux file system. Some devices may have boot problems or may have specific BIOS setup. In that case, it’s recommended to use <code>FAT32</code> file system. Let’s use <code>mkfs</code> program to create file systems.</p>\n<p>We will create <code>FAT32</code> file system on our boot partition:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkfs.vfat -F32 /dev/nvme0n1p1</span><br></pre></td></tr></table></figure>\n\n<p>Then, we will create <code>ext4</code> file systems on root and home partitions:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkfs.ext4 /dev/nvme0n1p3</span><br><span class=\"line\">mkfs.ext4 /dev/nvme0n1p4</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Creating-SWAP\"><a href=\"#Creating-SWAP\" class=\"headerlink\" title=\"Creating SWAP\"></a>Creating SWAP</h3><p>Now, we can create SWAP on the <code>nvme0n1p2</code> partition:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkswap /dev/nvme0n1p2</span><br></pre></td></tr></table></figure>\n\n<p>Next, we can turn the SWAP on:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swapon /dev/nvme0n1p2</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Mounting-partitions\"><a href=\"#Mounting-partitions\" class=\"headerlink\" title=\"Mounting partitions\"></a>Mounting partitions</h3><p>Right now, we are ready to mount our partitions.</p>\n<p>We can mount the root partition as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount /dev/nvme0n1p3 /mnt</span><br></pre></td></tr></table></figure>\n\n<p>When we list this partition:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls /mnt</span><br></pre></td></tr></table></figure>\n\n<p>we should see <code>lost+found</code> file, which is a generic system file.</p>\n<p>Now on the root partition we can create home and boot directories.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /mnt/home</span><br><span class=\"line\">mkdir /mnt/boot</span><br></pre></td></tr></table></figure>\n\n<p>and mount our previously created partitions into these dirs:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount /dev/nvme0n1p1 /mnt/boot</span><br><span class=\"line\">mount /dev/nvme0n1p4 /mnt/home</span><br></pre></td></tr></table></figure>\n\n<p>and then we can type <code>lsblk</code> to see that everything is created properly.</p>\n<h2 id=\"Arch-installation\"><a href=\"#Arch-installation\" class=\"headerlink\" title=\"Arch installation\"></a>Arch installation</h2><p>Now, there is an easy part. We have everything prepared and we’re ready to install the operating system. </p>\n<p>Arch can be installed with literally <strong>one command</strong>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacstrap /mnt base</span><br></pre></td></tr></table></figure>\n\n<p>It’s recommended to install <code>base-devel</code> package, which contains additional software, which may be required to run everything. We can also install <code>vim</code>, to have an editor to edit our configs and other stuff. The final command can look like this:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacstrap /mnt base base-devel vim</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Creating-fstab\"><a href=\"#Creating-fstab\" class=\"headerlink\" title=\"Creating fstab\"></a>Creating fstab</h2><p>We should also create <code>fstab</code> file, which contains information about system drives and mounted partitions and file systems.<br>We can do it as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure>\n\n<p>My <code>/etc/fstab</code> file looks like that:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Static information about the filesystems.</span><br><span class=\"line\"># See fstab(5) for details.</span><br><span class=\"line\"></span><br><span class=\"line\"># &lt;file system&gt; &lt;dir&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt;</span><br><span class=\"line\"># /dev/nvme0n1p3</span><br><span class=\"line\">UUID=d94887d0-daff-4a4b-a28a-1de3fdadbb58\t/         \text4      \trw,relatime\t0 1</span><br><span class=\"line\"></span><br><span class=\"line\"># /dev/nvme0n1p1</span><br><span class=\"line\">UUID=97B8-B124      \t/boot     \tvfat      \trw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro\t0 2</span><br><span class=\"line\"></span><br><span class=\"line\"># /dev/nvme0n1p4</span><br><span class=\"line\">UUID=75b24330-5ca7-47fc-a6ea-3d4cd826df4d\t/home     \text4      \trw,relatime\t0 2</span><br><span class=\"line\"></span><br><span class=\"line\"># /dev/nvme0n1p2</span><br><span class=\"line\">UUID=2788826f-9abf-44c7-b2d5-15323be8ba4e\tnone      \tswap      \tdefaults  \t0 0</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Operations-inside-the-system\"><a href=\"#Operations-inside-the-system\" class=\"headerlink\" title=\"Operations inside the system\"></a>Operations inside the system</h2><h3 id=\"Changing-root\"><a href=\"#Changing-root\" class=\"headerlink\" title=\"Changing root\"></a>Changing root</h3><p>Now, we can change the root:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arch-chroot /mnt</span><br></pre></td></tr></table></figure>\n\n<p>After typing command above, we jumped from the bootable USB drive into the operating system installed on the disk of our computer. </p>\n<p>Now, we’re able to perform operations inside the system.</p>\n<h3 id=\"Installing-network-manager\"><a href=\"#Installing-network-manager\" class=\"headerlink\" title=\"Installing network manager\"></a>Installing network manager</h3><p>First of all, we should install network manger via <code>pacman</code> to have network and Internet connectivity:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S networkmanager</span><br></pre></td></tr></table></figure>\n\n<p>to enable network manager, we can type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable NetworkManager</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Installing-GRUB\"><a href=\"#Installing-GRUB\" class=\"headerlink\" title=\"Installing GRUB\"></a>Installing GRUB</h3><p>We also have to install GRUB, which will be responsible for booting our operating system:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S grub</span><br></pre></td></tr></table></figure>\n\n<p>Next, we have to configure it:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grub-install --target=i386-pc /dev/nvme0n1</span><br></pre></td></tr></table></figure>\n\n<p>Please note, we provided path to the disk (drive) - not the partition.</p>\n<p>Next, we should create <code>/boot/grub/grub.cfg</code> configuration file:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Setting-password\"><a href=\"#Setting-password\" class=\"headerlink\" title=\"Setting password\"></a>Setting password</h3><p>to set the password, we can just type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passwd</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Setting-locale\"><a href=\"#Setting-locale\" class=\"headerlink\" title=\"Setting locale\"></a>Setting locale</h3><p>To set locale, we need to edit <code>/etc/locale.gen</code> (e.g. via vim) and uncomment desired locales (one or more).</p>\n<p>In my case I uncommented:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pl_PL.UTF-8</span><br><span class=\"line\">pl_PL ISO-8859-2</span><br><span class=\"line\">en_US.UTF-8</span><br><span class=\"line\">en_US ISO-88591</span><br></pre></td></tr></table></figure>\n\n<p>becasue I wanted to use both Polish and English language.</p>\n<p>Now, we can type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">locale-gen</span><br></pre></td></tr></table></figure>\n\n<p>To set default locale, we have to edit <code>/etc/locale.conf</code> and set <code>LANG</code> variable as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>\n\n<p>Of course, we can set <code>pl_PL.UTF-8</code> too or any other language we want to use as default system language. I personally use English as a OS language, bacause it’s easier to diagnose possible issues, when you have English messages in terminal. Nevertheles, I use Polish as an input language, to be able to use Polish letters, european metric system, Polish currency, etc. It should be adjusted to our needs.</p>\n<h3 id=\"Setting-timezone\"><a href=\"#Setting-timezone\" class=\"headerlink\" title=\"Setting timezone\"></a>Setting timezone</h3><p>You can browse time zones in <code>/usr/share/zoneinfo</code> directory. To set our time zone, we need to create a symbolic lin between desired time zone and <code>/etc/localtime</code> file. Once we change our time zone, we can create a symbolic link again.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls -sf /usr/share/zoneinfo/Europe/Warsaw /etc/localtime</span><br></pre></td></tr></table></figure>\n\n<p>My time zone is Warsaw in Europe, but you can set your own time zone here.</p>\n<h3 id=\"Setting-hostname\"><a href=\"#Setting-hostname\" class=\"headerlink\" title=\"Setting hostname\"></a>Setting hostname</h3><p>To create our <code>hostname</code>, which is name of the computer, we can edit <code>/etc/hostname</code> file and put our name there.</p>\n<p>My hostname is <code>arch</code>.</p>\n<h2 id=\"Finalization\"><a href=\"#Finalization\" class=\"headerlink\" title=\"Finalization\"></a>Finalization</h2><h3 id=\"Unmounting-file-systems\"><a href=\"#Unmounting-file-systems\" class=\"headerlink\" title=\"Unmounting file systems\"></a>Unmounting file systems</h3><p>Before we reboot our computer, we should unmount partitions:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount -R /mnt</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Rebooting\"><a href=\"#Rebooting\" class=\"headerlink\" title=\"Rebooting\"></a>Rebooting</h3><p>To reboot computer, we can just type:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reboot</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"What’s-next\"><a href=\"#What’s-next\" class=\"headerlink\" title=\"What’s next?\"></a>What’s next?</h2><p>Once, our computer will be restarted, GRUB should boot our operating system and we should see the black screen with white letters and command prompt. It means, everything went fine, our system is installed and booted! Now, we’re ready to install other sutff (e.g. Desktop Environment or Window Manager). We can also leave it without GUI, if our computer has really low specs or when we’re planning to use this machine as a server or something like that.</p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>To wrap up, installing Arch is not trivial and requires some proficiency with Linux and terminal. Neverhteless, once you have some basics, it’s no that hard as we can expect. In addition, we have great documentation and resources on the web about it. Going through this process can be nice lesson. You can see, how much stuff automatic installers are doing for us. Moreover, we can totally adjust system to our needs. We don’t need to have a bloat of not necessary packages and programs like we have on Ubuntu. We can install exactly what we need and track our packages. I haven’t mentioned it before, but Arch has rolling release system. It means, there are no huge system updates like in Ubuntu, Windows or macOS. We can gradually update our system by installing small amount of single packages and our system can be up to date basically everyday. I’m using Arch for a few weeks for now and it seems to be one of the best and most stable operating systems I have used so far. It’s quite hard to break something on this system until you explicitly break it (e.g. by typing into terminal commands you don’t understand). It’s also light-weight and customizable. I cannot recommend this system to people who are not familiar with Linux, don’t like to play with computers and software, don’t want to fix stuff for themselves, customize system etc., but if you’re are not in this group, this OS may be for you. </p>\n","categories":[],"tags":[{"name":"linux","path":"api/tags/linux.json"},{"name":"arch","path":"api/tags/arch.json"},{"name":"install","path":"api/tags/install.json"}]}