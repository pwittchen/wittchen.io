{"title":"Checking consistency of git branches","slug":"checking-consistency-of-git-branches","date":"2015-05-14T13:16:00.000Z","updated":"2019-07-03T22:51:02.810Z","comments":true,"path":"api/articles/checking-consistency-of-git-branches.json","excerpt":null,"covers":null,"content":"<p>Recently I’ve created a simple Python script, which checks whether ‘development’ branch has all changes from ‘master’ branch in a Git repository. It’s important when we work in a <a href=\"http://nvie.com/posts/a-successful-git-branching-model/\" target=\"_blank\" rel=\"noopener\">Git Flow</a>. Branch inconsistency may occur when change with hot-fix will be committed to ‘master’ branch and we forget to merge ‘master’ branch back to ‘development’ branch to have our hot-fix in a ‘development’ version of the project as well. We should keep branch consistency to avoid merge conflicts and problems with release of the project in the future. Mentioned script is able to perform necessary validation helping to detect potential problems. Moreover, script can be integrated with the Jenkins CI server and we can execute it from a command line via Jenkins job. When, changes from ‘master’ won’t be merged into ‘development’, job will fail. In opposite case, job should finish with a success. In a Jenkins job we need to remember to add the following <em>Additional Behaviours</em> in <em>Source Code Management</em> (Git) section:</p>\n<ul>\n<li>Clean before checkout</li>\n<li>Wipe out repository and force clone</li>\n</ul>\n<p>Usage of this script is quite simple: </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ python compare-branches.py &lt;path_to_your_git_repository&gt;</span><br></pre></td></tr></table></figure>\n\n<p>Script is open-source and can be found at: <a href=\"https://github.com/pwittchen/git-branch-comparator\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/git-branch-comparator</a></p>\n","more":"<p>Recently I’ve created a simple Python script, which checks whether ‘development’ branch has all changes from ‘master’ branch in a Git repository. It’s important when we work in a <a href=\"http://nvie.com/posts/a-successful-git-branching-model/\" target=\"_blank\" rel=\"noopener\">Git Flow</a>. Branch inconsistency may occur when change with hot-fix will be committed to ‘master’ branch and we forget to merge ‘master’ branch back to ‘development’ branch to have our hot-fix in a ‘development’ version of the project as well. We should keep branch consistency to avoid merge conflicts and problems with release of the project in the future. Mentioned script is able to perform necessary validation helping to detect potential problems. Moreover, script can be integrated with the Jenkins CI server and we can execute it from a command line via Jenkins job. When, changes from ‘master’ won’t be merged into ‘development’, job will fail. In opposite case, job should finish with a success. In a Jenkins job we need to remember to add the following <em>Additional Behaviours</em> in <em>Source Code Management</em> (Git) section:</p>\n<ul>\n<li>Clean before checkout</li>\n<li>Wipe out repository and force clone</li>\n</ul>\n<p>Usage of this script is quite simple: </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ python compare-branches.py &lt;path_to_your_git_repository&gt;</span><br></pre></td></tr></table></figure>\n\n<p>Script is open-source and can be found at: <a href=\"https://github.com/pwittchen/git-branch-comparator\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/git-branch-comparator</a></p>\n","categories":[],"tags":[{"name":"git","path":"api/tags/git.json"},{"name":"python","path":"api/tags/python.json"}]}