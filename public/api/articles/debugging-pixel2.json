{"title":"Debugging Google Pixel 2","slug":"debugging-pixel2","date":"2018-06-20T21:05:56.000Z","updated":"2019-07-03T22:51:02.810Z","comments":true,"path":"api/articles/debugging-pixel2.json","excerpt":null,"covers":["/images/posts/2018/debugging-pixel2/pixel2_usb_screenshot.png"],"content":"<p>I recently destroyed my good old Nexus 6 phone. It’s still working, but display screen is broken. Due to this fact, I’ve had an excuse to buy new Pixel 2 phone. It’s pretty expansive, but its quality is really good. As usual, I wanted to debug an app on this device and encountered problem related to device permissions. </p>\n<p>Once I connected the phone, to my laptop and typed <code>adb devices</code>, I’ve seen the following message:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List of devices attached</span><br><span class=\"line\">HT7AS1A03004    no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]</span><br></pre></td></tr></table></figure>\n\n<p>and I couldn’t debug my apps.</p>\n<p>Later, I enabled debugging in:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Settings -&gt; System -&gt; Developer Options -&gt; USB Debugging</span><br></pre></td></tr></table></figure>\n\n<p>Of course, in order to see these options, we need to tap several times on the compilation number first in:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Settings -&gt; System -&gt; Information about the phone</span><br></pre></td></tr></table></figure>\n\n<p>After that, debug options will be enabled</p>\n<p>Nevertheless, I still couldn’t debug my apps!</p>\n<p>I realized, I have connected phone just for charging</p>\n<p><img src=\"/images/posts/2018/debugging-pixel2/pixel2_usb_screenshot.png\" alt></p>\n<p>Once, I switched it to “Transfer files”, I could finally debug my phone.</p>\n<p>It’s important to note, that it’s good to restart <code>adb</code> (Android Debug Bridge) after changing connection mode to avoid any further problems.</p>\n<p>We can do this as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb kill-server</span><br><span class=\"line\">adb start-server</span><br></pre></td></tr></table></figure>\n\n<p>Now, we should see the following message:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* daemon not running; starting now at tcp:5037</span><br><span class=\"line\">* daemon started successfully</span><br></pre></td></tr></table></figure>\n\n<p>Next, we can type <code>adb devices</code> again and we see that our device is finally attached.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List of devices attached</span><br><span class=\"line\">HT7AS1A03004    device</span><br></pre></td></tr></table></figure>\n\n<p>Now, we can install our apps or run logcat with <code>adb logcat</code> command or even more fancy colored <a href=\"https://github.com/JakeWharton/pidcat\" target=\"_blank\" rel=\"noopener\">pidcat</a> if we want to.</p>\n<p>I hope, you will find this post useful in case of having similar issues.</p>\n","more":"<p>I recently destroyed my good old Nexus 6 phone. It’s still working, but display screen is broken. Due to this fact, I’ve had an excuse to buy new Pixel 2 phone. It’s pretty expansive, but its quality is really good. As usual, I wanted to debug an app on this device and encountered problem related to device permissions. </p>\n<p>Once I connected the phone, to my laptop and typed <code>adb devices</code>, I’ve seen the following message:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List of devices attached</span><br><span class=\"line\">HT7AS1A03004    no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]</span><br></pre></td></tr></table></figure>\n\n<p>and I couldn’t debug my apps.</p>\n<p>Later, I enabled debugging in:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Settings -&gt; System -&gt; Developer Options -&gt; USB Debugging</span><br></pre></td></tr></table></figure>\n\n<p>Of course, in order to see these options, we need to tap several times on the compilation number first in:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Settings -&gt; System -&gt; Information about the phone</span><br></pre></td></tr></table></figure>\n\n<p>After that, debug options will be enabled</p>\n<p>Nevertheless, I still couldn’t debug my apps!</p>\n<p>I realized, I have connected phone just for charging</p>\n<p><img src=\"/images/posts/2018/debugging-pixel2/pixel2_usb_screenshot.png\" alt></p>\n<p>Once, I switched it to “Transfer files”, I could finally debug my phone.</p>\n<p>It’s important to note, that it’s good to restart <code>adb</code> (Android Debug Bridge) after changing connection mode to avoid any further problems.</p>\n<p>We can do this as follows:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb kill-server</span><br><span class=\"line\">adb start-server</span><br></pre></td></tr></table></figure>\n\n<p>Now, we should see the following message:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* daemon not running; starting now at tcp:5037</span><br><span class=\"line\">* daemon started successfully</span><br></pre></td></tr></table></figure>\n\n<p>Next, we can type <code>adb devices</code> again and we see that our device is finally attached.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List of devices attached</span><br><span class=\"line\">HT7AS1A03004    device</span><br></pre></td></tr></table></figure>\n\n<p>Now, we can install our apps or run logcat with <code>adb logcat</code> command or even more fancy colored <a href=\"https://github.com/JakeWharton/pidcat\" target=\"_blank\" rel=\"noopener\">pidcat</a> if we want to.</p>\n<p>I hope, you will find this post useful in case of having similar issues.</p>\n","categories":[],"tags":[{"name":"android","path":"api/tags/android.json"}]}