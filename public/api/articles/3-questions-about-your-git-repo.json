{"title":"3 questions about your Git repository","slug":"3-questions-about-your-git-repo","date":"2015-12-28T20:37:00.000Z","updated":"2019-07-03T22:51:02.806Z","comments":true,"path":"api/articles/3-questions-about-your-git-repo.json","excerpt":null,"covers":null,"content":"<h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p>Can you answer the following questions about your Git repository?</p>\n<ol>\n<li>Does development branch has all changes from master branch?</li>\n<li>Is your gitlog a crap?</li>\n<li>How old are your branches?</li>\n</ol>\n<p>If not, but you want to know answers, you’re lucky, because I prepared 3 simple scripts for you, which can help to find it out.</p>\n<h2 id=\"Does-development-branch-has-all-changes-from-master-branch\"><a href=\"#Does-development-branch-has-all-changes-from-master-branch\" class=\"headerlink\" title=\"Does development branch has all changes from master branch?\"></a>Does development branch has all changes from master branch?</h2><p><strong><a href=\"https://github.com/pwittchen/git-branch-comparator\" target=\"_blank\" rel=\"noopener\">git-branch-comparator</a></strong> is a python script, which checks if development branch has all changes from master branch in Git repository. Another, easier way to accomplish the same task suggested in comments by Mike (thanks!) is to call simply:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git pull</span><br><span class=\"line\">$ git branch --contains master --no-merged development</span><br></pre></td></tr></table></figure>\n\n<p>When we are working in a Git Flow and critical bug occurs on production, sometimes there is a necessity to create so called hot-fix. We can create separate branch from master branch for this hot-fix and then merge it into master branch or we can commit a change on master branch. Second option is not recommended. After that, we have to remember to merge master branch into a development branch to have our hot-fix in a development version as well and avoid merge conflicts in the future. This python script checks, if all changes made on master branch were also merged into development branch to keep those two branches consistent. We can add it as a job into Jenkins CI server and monitor branches consistency. In addition, release jobs can depend on that job and we can avoid merge conflicts or project unstability before release. </p>\n<p><strong>source code &amp; documentation</strong>: <a href=\"https://github.com/pwittchen/git-branch-comparator\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/git-branch-comparator</a></p>\n<h2 id=\"Is-your-gitlog-a-crap\"><a href=\"#Is-your-gitlog-a-crap\" class=\"headerlink\" title=\"Is your gitlog a crap?\"></a>Is your gitlog a crap?</h2><p><strong><a href=\"https://github.com/pwittchen/craplog\" target=\"_blank\" rel=\"noopener\">craplog</a></strong> is a python script, which checks if git git log of the given project is crappy or not. Right now, script is very simple. It just checks if more than half of the commit messages are good. Commit message is considered as good, when it contains more than two words. Of course, this is not the only condition determining the quality of the commit message, but this is early beta version of the script and can be improved later. I’ve read <a href=\"https://github.com/torvalds/linux/pull/17\" target=\"_blank\" rel=\"noopener\">a discussion in one of the pull requests to Linux kernel</a>. It made me think about quality of Git commit messages. Of course, Linux kernel is a specific project and has its own standards. Maybe not all of these standards will be valid for a simpler or less complicated projects. Nevertheless, a lot of people don’t pay attention to git commit messages. They put crappy stuff inside them like random letters and numbers or stupid expressions, which has no specific meaning, aren’t related to the project or aren’t informative enough. In my opinion, good git log is one of the factors determining good quality of the project. Sometimes, we need to browse log to find some changes or analyze project history in order to fix a bug or find important information. It’s easier to do it, when git log is good. I’ve made some of the mentioned mistakes in the past, but I try to avoid them now. </p>\n<p><strong>source code &amp; documentation</strong>: <a href=\"https://github.com/pwittchen/craplog\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/craplog</a></p>\n<h2 id=\"How-old-are-your-branches\"><a href=\"#How-old-are-your-branches\" class=\"headerlink\" title=\"How old are your branches?\"></a>How old are your branches?</h2><p><strong><a href=\"https://github.com/pwittchen/git-aged-branches\" target=\"_blank\" rel=\"noopener\">git-aged-branches</a></strong> is a shell script showing git branches of defined repository with age of their last commit. It works on Mac OS X, Linux and can be helpful while investigating old Git branches to delete. This script does not delete anything! It’s just for informational purposes. </p>\n<p><strong>source code &amp; documentation</strong>: <a href=\"https://github.com/pwittchen/git-aged-branches\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/git-aged-branches</a></p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>I hope, some of you will find these tools useful and maybe they’ll solve your current problems or help to improve quality of your projects. If you would like to know more details about mentioned projects, check instructions how to use them and their source code, visit linked repositories on GitHub. </p>\n<p><strong>Note</strong>: Any feedback, new issues or pull requests are appreciated!</p>\n","more":"<h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p>Can you answer the following questions about your Git repository?</p>\n<ol>\n<li>Does development branch has all changes from master branch?</li>\n<li>Is your gitlog a crap?</li>\n<li>How old are your branches?</li>\n</ol>\n<p>If not, but you want to know answers, you’re lucky, because I prepared 3 simple scripts for you, which can help to find it out.</p>\n<h2 id=\"Does-development-branch-has-all-changes-from-master-branch\"><a href=\"#Does-development-branch-has-all-changes-from-master-branch\" class=\"headerlink\" title=\"Does development branch has all changes from master branch?\"></a>Does development branch has all changes from master branch?</h2><p><strong><a href=\"https://github.com/pwittchen/git-branch-comparator\" target=\"_blank\" rel=\"noopener\">git-branch-comparator</a></strong> is a python script, which checks if development branch has all changes from master branch in Git repository. Another, easier way to accomplish the same task suggested in comments by Mike (thanks!) is to call simply:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git pull</span><br><span class=\"line\">$ git branch --contains master --no-merged development</span><br></pre></td></tr></table></figure>\n\n<p>When we are working in a Git Flow and critical bug occurs on production, sometimes there is a necessity to create so called hot-fix. We can create separate branch from master branch for this hot-fix and then merge it into master branch or we can commit a change on master branch. Second option is not recommended. After that, we have to remember to merge master branch into a development branch to have our hot-fix in a development version as well and avoid merge conflicts in the future. This python script checks, if all changes made on master branch were also merged into development branch to keep those two branches consistent. We can add it as a job into Jenkins CI server and monitor branches consistency. In addition, release jobs can depend on that job and we can avoid merge conflicts or project unstability before release. </p>\n<p><strong>source code &amp; documentation</strong>: <a href=\"https://github.com/pwittchen/git-branch-comparator\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/git-branch-comparator</a></p>\n<h2 id=\"Is-your-gitlog-a-crap\"><a href=\"#Is-your-gitlog-a-crap\" class=\"headerlink\" title=\"Is your gitlog a crap?\"></a>Is your gitlog a crap?</h2><p><strong><a href=\"https://github.com/pwittchen/craplog\" target=\"_blank\" rel=\"noopener\">craplog</a></strong> is a python script, which checks if git git log of the given project is crappy or not. Right now, script is very simple. It just checks if more than half of the commit messages are good. Commit message is considered as good, when it contains more than two words. Of course, this is not the only condition determining the quality of the commit message, but this is early beta version of the script and can be improved later. I’ve read <a href=\"https://github.com/torvalds/linux/pull/17\" target=\"_blank\" rel=\"noopener\">a discussion in one of the pull requests to Linux kernel</a>. It made me think about quality of Git commit messages. Of course, Linux kernel is a specific project and has its own standards. Maybe not all of these standards will be valid for a simpler or less complicated projects. Nevertheless, a lot of people don’t pay attention to git commit messages. They put crappy stuff inside them like random letters and numbers or stupid expressions, which has no specific meaning, aren’t related to the project or aren’t informative enough. In my opinion, good git log is one of the factors determining good quality of the project. Sometimes, we need to browse log to find some changes or analyze project history in order to fix a bug or find important information. It’s easier to do it, when git log is good. I’ve made some of the mentioned mistakes in the past, but I try to avoid them now. </p>\n<p><strong>source code &amp; documentation</strong>: <a href=\"https://github.com/pwittchen/craplog\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/craplog</a></p>\n<h2 id=\"How-old-are-your-branches\"><a href=\"#How-old-are-your-branches\" class=\"headerlink\" title=\"How old are your branches?\"></a>How old are your branches?</h2><p><strong><a href=\"https://github.com/pwittchen/git-aged-branches\" target=\"_blank\" rel=\"noopener\">git-aged-branches</a></strong> is a shell script showing git branches of defined repository with age of their last commit. It works on Mac OS X, Linux and can be helpful while investigating old Git branches to delete. This script does not delete anything! It’s just for informational purposes. </p>\n<p><strong>source code &amp; documentation</strong>: <a href=\"https://github.com/pwittchen/git-aged-branches\" target=\"_blank\" rel=\"noopener\">https://github.com/pwittchen/git-aged-branches</a></p>\n<h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p>I hope, some of you will find these tools useful and maybe they’ll solve your current problems or help to improve quality of your projects. If you would like to know more details about mentioned projects, check instructions how to use them and their source code, visit linked repositories on GitHub. </p>\n<p><strong>Note</strong>: Any feedback, new issues or pull requests are appreciated!</p>\n","categories":[],"tags":[{"name":"git","path":"api/tags/git.json"},{"name":"python","path":"api/tags/python.json"}]}