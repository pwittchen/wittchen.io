<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Publishing a JAR/AAR to the Maven Central | Piotr Wittchen</title><meta name=keywords content="java,gradle"><meta name=description content="Introduction
As a Java/JVM/Android developers we rely on the work of other people through frameworks and libraries. Many of them are open-source. Most of the developers are consumers of such projects. What if we would like to create our own library and distribute it to other developers? We can always create it and share a *.jar or *.aar file with others. Drawback of such solution is the fact that source of distribution may not be trusted. We also have problems with versioning. Consumers of the library have to constantly download and update their files. It&rsquo;s much better to publish our library to Maven Central Repository and allow others to easily and seamlessly add it as an external dependency to pom.xml file (in case of Maven) or build.gradle file (in case of Gradle). In such case, dependency is managed by the appropriate build system and distributed via trusted source. This may be not easy for the first time that&rsquo;s why I decided to collect information related to this topic in a single article. Let&rsquo;s see how to do this."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/notes/publishing-jar-aar-to-maven-central/><link crossorigin=anonymous href=/assets/css/stylesheet.ce07c2a628121ab9051d703ded1d918162d348e5c03783b702262170087c359e.css integrity="sha256-zgfCpigSGrkFHXA97R2RgWLTSOXAN4O3AiYhcAh8NZ4=" rel="preload stylesheet" as=style><link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wittchen.io/notes/publishing-jar-aar-to-maven-central/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wittchen.io/notes/publishing-jar-aar-to-maven-central/"><meta property="og:site_name" content="Piotr Wittchen"><meta property="og:title" content="Publishing a JAR/AAR to the Maven Central"><meta property="og:description" content="Introduction As a Java/JVM/Android developers we rely on the work of other people through frameworks and libraries. Many of them are open-source. Most of the developers are consumers of such projects. What if we would like to create our own library and distribute it to other developers? We can always create it and share a *.jar or *.aar file with others. Drawback of such solution is the fact that source of distribution may not be trusted. We also have problems with versioning. Consumers of the library have to constantly download and update their files. It’s much better to publish our library to Maven Central Repository and allow others to easily and seamlessly add it as an external dependency to pom.xml file (in case of Maven) or build.gradle file (in case of Gradle). In such case, dependency is managed by the appropriate build system and distributed via trusted source. This may be not easy for the first time that’s why I decided to collect information related to this topic in a single article. Let’s see how to do this."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="notes"><meta property="article:published_time" content="2019-05-24T19:18:27+00:00"><meta property="article:modified_time" content="2019-05-24T19:18:27+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Gradle"><meta name=twitter:card content="summary"><meta name=twitter:title content="Publishing a JAR/AAR to the Maven Central"><meta name=twitter:description content="Introduction
As a Java/JVM/Android developers we rely on the work of other people through frameworks and libraries. Many of them are open-source. Most of the developers are consumers of such projects. What if we would like to create our own library and distribute it to other developers? We can always create it and share a *.jar or *.aar file with others. Drawback of such solution is the fact that source of distribution may not be trusted. We also have problems with versioning. Consumers of the library have to constantly download and update their files. It&rsquo;s much better to publish our library to Maven Central Repository and allow others to easily and seamlessly add it as an external dependency to pom.xml file (in case of Maven) or build.gradle file (in case of Gradle). In such case, dependency is managed by the appropriate build system and distributed via trusted source. This may be not easy for the first time that&rsquo;s why I decided to collect information related to this topic in a single article. Let&rsquo;s see how to do this."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://wittchen.io/notes/"},{"@type":"ListItem","position":2,"name":"Publishing a JAR/AAR to the Maven Central","item":"https://wittchen.io/notes/publishing-jar-aar-to-maven-central/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Publishing a JAR/AAR to the Maven Central","name":"Publishing a JAR\/AAR to the Maven Central","description":"Introduction As a Java/JVM/Android developers we rely on the work of other people through frameworks and libraries. Many of them are open-source. Most of the developers are consumers of such projects. What if we would like to create our own library and distribute it to other developers? We can always create it and share a *.jar or *.aar file with others. Drawback of such solution is the fact that source of distribution may not be trusted. We also have problems with versioning. Consumers of the library have to constantly download and update their files. It\u0026rsquo;s much better to publish our library to Maven Central Repository and allow others to easily and seamlessly add it as an external dependency to pom.xml file (in case of Maven) or build.gradle file (in case of Gradle). In such case, dependency is managed by the appropriate build system and distributed via trusted source. This may be not easy for the first time that\u0026rsquo;s why I decided to collect information related to this topic in a single article. Let\u0026rsquo;s see how to do this.\n","keywords":["java","gradle"],"articleBody":"Introduction As a Java/JVM/Android developers we rely on the work of other people through frameworks and libraries. Many of them are open-source. Most of the developers are consumers of such projects. What if we would like to create our own library and distribute it to other developers? We can always create it and share a *.jar or *.aar file with others. Drawback of such solution is the fact that source of distribution may not be trusted. We also have problems with versioning. Consumers of the library have to constantly download and update their files. It’s much better to publish our library to Maven Central Repository and allow others to easily and seamlessly add it as an external dependency to pom.xml file (in case of Maven) or build.gradle file (in case of Gradle). In such case, dependency is managed by the appropriate build system and distributed via trusted source. This may be not easy for the first time that’s why I decided to collect information related to this topic in a single article. Let’s see how to do this.\nGenerating a GPG Key Before we upload library, we need to generate GPG key.\nIn order to generate GPG key, we need to open the terminal and type the following command:\ngpg2 --gen-key Then, we should see the output:\n... gpg: key YOUR_KEY_ID marked as ultimately trusted ... Read more at: https://alexcabal.com/creating-the-perfect-gpg-keypair\nDistributing the public key Next, we need to distribute public key. We can do that as follows:\ngpg --keyserver hkp://pool.sks-keyservers.net --send-keys YOUR_KEY_ID We can distribute our key to multiple servers to speed up the synchronization process (pgp.mit.edu, keyserver.ubuntu.com, etc.)\nWe can also list our keys as follows:\ngpg2 --list-keys To list secret keys, we can type:\ngpg2 --list-secret-keys Preparing the Gradle configuration In my case, I used Gradle as a build system, which works well for Java, Kotlin and Android projects. We can use Maven for this purpose as well. As a reference, I used a Gradle script prepared by Chris Banes. You can have a look at it in one of my projects.\nIn my libraries, I usually have the following structure:\n/ ├── library │ ├── gradle.properties │ └── build.gradle │ ├── build.gradle ├── maven_push.gradle └── gradle.properties In maven_push.gradle I keep the mentioned release script. In the library/gradle.properties, I keep details about artifact released from a given directory:\nPOM_NAME=reactivenetwork POM_ARTIFACT_ID=reactivenetwork-rx2 POM_PACKAGING=aar It can be jar if you’re releasing pure Java library. Here’s an example for Android library.\nIn the /gradle.properties file, I keep release configuration:\nVERSION_NAME=3.0.3 VERSION_CODE=34 GROUP=com.github.pwittchen POM_DESCRIPTION=Android library listening network connection state and Internet connectivity with RxJava Observables POM_URL=https://github.com/pwittchen/ReactiveNetwork POM_SCM_URL=https://github.com/pwittchen/ReactiveNetwork POM_SCM_CONNECTION=scm:git@github.com:pwittchen/ReactiveNetwork.git POM_SCM_DEV_CONNECTION=scm:git@github.com:pwittchen/ReactiveNetwork.git POM_LICENCE_NAME=The Apache Software License, Version 2.0 POM_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt POM_LICENCE_DIST=repo POM_DEVELOPER_ID=pwittchen POM_DEVELOPER_NAME=Piotr Wittchen org.gradle.daemon=true org.gradle.jvmargs=-XX:MaxPermSize=1024m -XX:+CMSClassUnloadingEnabled -XX:+HeapDumpOnOutOfMemoryError -Xmx2048m In the library/build.gradle file I need to include release Gradle script:\napply from: '../maven_push.gradle' ... In the $HOME/.gradle/gradle.properties file, I keep system-wide release configuration for Sonatype:\nsigning.keyId=YOUR_KEY_ID signing.password=YOUR_SIGNING_PASSWORD signing.secretKeyRingFile=/home/piotr/.gnupg/secring.gpg NEXUS_USERNAME=YOUR_NEXUS_USERNAME NEXUS_PASSWORD=YOUR_NEXUS_PASSWORD YOUR_NEXUS_USERNAME and YOUR_NEXUS_PASSWORD can be defined during account creation on the http://oss.sonatype.org website.\nOf course, you need to provide your own path to secretKeyRingFile, which was created during generating key.\nIf you’re interested in the complete project structure prepared for library release, you can have a look at the following examples:\nJava library (compiled into *.jar file): https://github.com/pwittchen/kirai Android library written in Java (compiled into *.aar file): https://github.com/pwittchen/ReactiveNetwork Android library written in Kotlin (compiled into *.aar file): https://github.com/pwittchen/RxBiometric Creating a Jira ticket for Sonatype We should create a Sonatype Jira account and a new project ticket. You can have a look at my first issue. It took a bit longer in my case, because I needed to adjust package name.\nTo avoid my mistakes, have a look at the following guides:\nhttps://central.sonatype.org/pages/ossrh-guide.html https://central.sonatype.org/pages/choosing-your-coordinates.html Please note, this step is required for the first time only as well as generating keys. After that, we we’ll be able to release as many artifacts under the given package name as we want. These steps need to be repeated in the case of registering the new package name.\nThis is reasonable from the security and stability perspective because random people cannot just override widely used packages what might cause serious problems in many projects around the world.\nUploading an artifact Once, we have everything set up, we can go to our project via terminal, and type:\n./gradlew uploadArchives and wait while artifacts are being uploaded.\nReleasing an artifact Next, we need to go to the http://oss.sonatype.org website, log in and on the left-hand side, click “Staging Repositories”. Then, we need to sort artifacts by date (Updated column), to view the recently updated items. We should find our artifact (it should be on the top) and click it. We can verify its contents to ensure that everything is ok (package name, version, etc.) and then, we should press “Release” on our artifact. Once release is done, we should press “Close” on the artifact.\nCommenting the Jira ticket When we are done with the previous steps, we should go back to our Jira ticket and provide the comment:\nI have promoted my first release. Thanks. Waiting for the Maven sync After all of these steps, we need to wait for the acceptance from the people from Sonatype and Maven Sync. Maven Sync can take no longer than 48 hours. It’s usually faster, but it won’t happen immediately after releasing and closing an artifact like in the release of the Python packages.\nSummary We can see, that release process may be overwhelming and time consuming, but once we release the first artifact, we can skip most of these steps like generating keys and creating Jira ticket. We just need to have Gradle or Maven configuration, upload artifacts, release and close them via sonatype website and wait for the Maven Sync. Process of releasing new versions of the same artifact is the same as the first release (excluding mentioned first-time steps). During the next release, we simply need to bump library version in the Gradle configuration before uploading artifacts. In the future, I’m planning to write another article, which shows how to skip manual steps of going to Sonatype website and releasig artifacts via clicking on the page via Gradle plugins, so everything will be automated via CLI.\nLinks and references https://stackoverflow.com/questions/28846802/how-to-manually-publish-jar-to-maven-central https://chris.banes.dev/2013/08/27/pushing-aars-to-maven-central/ https://dzone.com/articles/deploy-maven-central https://central.sonatype.org/pages/gradle.html https://central.sonatype.org/pages/apache-maven.html https://central.sonatype.org/pages/working-with-pgp-signatures.html https://alexcabal.com/creating-the-perfect-gpg-keypair https://central.sonatype.org/pages/ossrh-guide.html https://central.sonatype.org/pages/choosing-your-coordinates.html https://gist.github.com/diegopacheco/13c0754f0ab36482f4f804ef3f05f989 ","wordCount":"1045","inLanguage":"en","datePublished":"2019-05-24T19:18:27Z","dateModified":"2019-05-24T19:18:27Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/notes/publishing-jar-aar-to-maven-central/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script><script defer data-website-id=dfid_D4sN47CVgrrCRR7KCciN3 data-domain=wittchen.io src=https://datafa.st/js/script.js></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)">Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><button id=menu-toggle class=menu-toggle aria-label="Toggle menu" aria-expanded=false>
<svg class="hamburger-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
<svg class="close-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button><ul id=menu><li><a href=https://wittchen.io/notes/ title=notes><span>notes</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/projects/ title=projects><span>projects</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/notes/>Notes</a></div><h1 class="post-title entry-hint-parent">Publishing a JAR/AAR to the Maven Central</h1><div class=post-meta><span title='2019-05-24 19:18:27 +0000 UTC'>May 24, 2019</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;1045 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/notes/publishing-jar-aar-to-maven-central.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>As a Java/JVM/Android developers we rely on the work of other people through frameworks and libraries. Many of them are open-source. Most of the developers are consumers of such projects. What if we would like to create our own library and distribute it to other developers? We can always create it and share a <code>*.jar</code> or <code>*.aar</code> file with others. Drawback of such solution is the fact that source of distribution may not be trusted. We also have problems with versioning. Consumers of the library have to constantly download and update their files. It&rsquo;s much better to publish our library to Maven Central Repository and allow others to easily and seamlessly add it as an external dependency to <code>pom.xml</code> file (in case of Maven) or <code>build.gradle</code> file (in case of Gradle). In such case, dependency is managed by the appropriate build system and distributed via trusted source. This may be not easy for the first time that&rsquo;s why I decided to collect information related to this topic in a single article. Let&rsquo;s see how to do this.</p><h2 id=generating-a-gpg-key>Generating a GPG Key<a hidden class=anchor aria-hidden=true href=#generating-a-gpg-key>#</a></h2><p>Before we upload library, we need to generate GPG key.</p><p>In order to generate GPG key, we need to open the terminal and type the following command:</p><pre tabindex=0><code>gpg2 --gen-key
</code></pre><p>Then, we should see the output:</p><pre tabindex=0><code>...
gpg: key YOUR_KEY_ID marked as ultimately trusted
...
</code></pre><p>Read more at: <a href=https://alexcabal.com/creating-the-perfect-gpg-keypair>https://alexcabal.com/creating-the-perfect-gpg-keypair</a></p><h2 id=distributing-the-public-key>Distributing the public key<a hidden class=anchor aria-hidden=true href=#distributing-the-public-key>#</a></h2><p>Next, we need to distribute public key. We can do that as follows:</p><pre tabindex=0><code>gpg --keyserver hkp://pool.sks-keyservers.net --send-keys YOUR_KEY_ID
</code></pre><p>We can distribute our key to multiple servers to speed up the synchronization process (pgp.mit.edu, keyserver.ubuntu.com, etc.)</p><p>We can also list our keys as follows:</p><pre tabindex=0><code>gpg2 --list-keys
</code></pre><p>To list secret keys, we can type:</p><pre tabindex=0><code>gpg2 --list-secret-keys
</code></pre><h2 id=preparing-the-gradle-configuration>Preparing the Gradle configuration<a hidden class=anchor aria-hidden=true href=#preparing-the-gradle-configuration>#</a></h2><p>In my case, I used Gradle as a build system, which works well for Java, Kotlin and Android projects. We can use Maven for this purpose as well. As a reference, I used <a href=https://github.com/chrisbanes/gradle-mvn-push>a Gradle script prepared by Chris Banes</a>. You can have a look at it in <a href=https://github.com/pwittchen/ReactiveNetwork/blob/RxJava2.x/maven_push.gradle>one of my projects</a>.</p><p>In my libraries, I usually have the following structure:</p><pre tabindex=0><code>/
├── library
│   ├── gradle.properties
│   └── build.gradle
│
├── build.gradle
├── maven_push.gradle
└── gradle.properties
</code></pre><p>In <code>maven_push.gradle</code> I keep the mentioned release script. In the <code>library/gradle.properties</code>, I keep details about artifact released from a given directory:</p><pre tabindex=0><code>POM_NAME=reactivenetwork
POM_ARTIFACT_ID=reactivenetwork-rx2
POM_PACKAGING=aar
</code></pre><p>It can be <code>jar</code> if you&rsquo;re releasing pure Java library. Here&rsquo;s an example for Android library.</p><p>In the <code>/gradle.properties</code> file, I keep release configuration:</p><pre tabindex=0><code>VERSION_NAME=3.0.3
VERSION_CODE=34
GROUP=com.github.pwittchen

POM_DESCRIPTION=Android library listening network connection state and Internet connectivity with RxJava Observables
POM_URL=https://github.com/pwittchen/ReactiveNetwork
POM_SCM_URL=https://github.com/pwittchen/ReactiveNetwork
POM_SCM_CONNECTION=scm:git@github.com:pwittchen/ReactiveNetwork.git
POM_SCM_DEV_CONNECTION=scm:git@github.com:pwittchen/ReactiveNetwork.git
POM_LICENCE_NAME=The Apache Software License, Version 2.0
POM_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt
POM_LICENCE_DIST=repo
POM_DEVELOPER_ID=pwittchen
POM_DEVELOPER_NAME=Piotr Wittchen

org.gradle.daemon=true
org.gradle.jvmargs=-XX:MaxPermSize=1024m -XX:+CMSClassUnloadingEnabled -XX:+HeapDumpOnOutOfMemoryError -Xmx2048m
</code></pre><p>In the <code>library/build.gradle</code> file I need to include release Gradle script:</p><pre tabindex=0><code>apply from: &#39;../maven_push.gradle&#39;
...
</code></pre><p>In the <code>$HOME/.gradle/gradle.properties</code> file, I keep system-wide release configuration for Sonatype:</p><pre tabindex=0><code>signing.keyId=YOUR_KEY_ID
signing.password=YOUR_SIGNING_PASSWORD
signing.secretKeyRingFile=/home/piotr/.gnupg/secring.gpg

NEXUS_USERNAME=YOUR_NEXUS_USERNAME
NEXUS_PASSWORD=YOUR_NEXUS_PASSWORD
</code></pre><p><code>YOUR_NEXUS_USERNAME</code> and <code>YOUR_NEXUS_PASSWORD</code> can be defined during account creation on the <a href=http://oss.sonatype.org>http://oss.sonatype.org</a> website.</p><p>Of course, you need to provide your own path to <code>secretKeyRingFile</code>, which was created during generating key.</p><p>If you&rsquo;re interested in the complete project structure prepared for library release, you can have a look at the following examples:</p><ul><li>Java library (compiled into <code>*.jar</code> file): <a href=https://github.com/pwittchen/kirai>https://github.com/pwittchen/kirai</a></li><li>Android library written in Java (compiled into <code>*.aar</code> file): <a href=https://github.com/pwittchen/ReactiveNetwork>https://github.com/pwittchen/ReactiveNetwork</a></li><li>Android library written in Kotlin (compiled into <code>*.aar</code> file): <a href=https://github.com/pwittchen/RxBiometric>https://github.com/pwittchen/RxBiometric</a></li></ul><h2 id=creating-a-jira-ticket-for-sonatype>Creating a Jira ticket for Sonatype<a hidden class=anchor aria-hidden=true href=#creating-a-jira-ticket-for-sonatype>#</a></h2><p>We should create a <a href=https://issues.sonatype.org/secure/Signup!default.jspa>Sonatype Jira account</a> and <a href="https://issues.sonatype.org/secure/CreateIssue.jspa?issuetype=21&amp;pid=10134">a new project ticket</a>. You can have a look at <a href=https://issues.sonatype.org/browse/OSSRH-13199>my first issue</a>. It took a bit longer in my case, because I needed to adjust package name.</p><p>To avoid my mistakes, have a look at the following guides:</p><ul><li><a href=https://central.sonatype.org/pages/ossrh-guide.html>https://central.sonatype.org/pages/ossrh-guide.html</a></li><li><a href=https://central.sonatype.org/pages/choosing-your-coordinates.html>https://central.sonatype.org/pages/choosing-your-coordinates.html</a></li></ul><p>Please note, this step is required for the first time only as well as generating keys. After that, we we&rsquo;ll be able to release as many artifacts under the given package name as we want. These steps need to be repeated in the case of registering the new package name.</p><p>This is reasonable from the security and stability perspective because random people cannot just override widely used packages what might cause serious problems in many projects around the world.</p><h2 id=uploading-an-artifact>Uploading an artifact<a hidden class=anchor aria-hidden=true href=#uploading-an-artifact>#</a></h2><p>Once, we have everything set up, we can go to our project via terminal, and type:</p><pre tabindex=0><code>./gradlew uploadArchives
</code></pre><p>and wait while artifacts are being uploaded.</p><h2 id=releasing-an-artifact>Releasing an artifact<a hidden class=anchor aria-hidden=true href=#releasing-an-artifact>#</a></h2><p>Next, we need to go to the <a href=http://oss.sonatype.org>http://oss.sonatype.org</a> website, log in and on the left-hand side, click &ldquo;Staging Repositories&rdquo;. Then, we need to sort artifacts by date (Updated column), to view the recently updated items. We should find our artifact (it should be on the top) and click it. We can verify its contents to ensure that everything is ok (package name, version, etc.) and then, we should press &ldquo;Release&rdquo; on our artifact. Once release is done, we should press &ldquo;Close&rdquo; on the artifact.</p><h2 id=commenting-the-jira-ticket>Commenting the Jira ticket<a hidden class=anchor aria-hidden=true href=#commenting-the-jira-ticket>#</a></h2><p>When we are done with the previous steps, we should go back to our Jira ticket and provide the comment:</p><pre tabindex=0><code>I have promoted my first release. Thanks.
</code></pre><h2 id=waiting-for-the-maven-sync>Waiting for the Maven sync<a hidden class=anchor aria-hidden=true href=#waiting-for-the-maven-sync>#</a></h2><p>After all of these steps, we need to wait for the acceptance from the people from Sonatype and Maven Sync. Maven Sync can take no longer than 48 hours. It&rsquo;s usually faster, but it won&rsquo;t happen immediately after releasing and closing an artifact like in the release of the Python packages.</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>We can see, that release process may be overwhelming and time consuming, but <strong>once we release the first artifact, we can skip most of these steps</strong> like generating keys and creating Jira ticket. We just need to have Gradle or Maven configuration, upload artifacts, release and close them via sonatype website and wait for the Maven Sync. Process of releasing new versions of the same artifact is the same as the first release (excluding mentioned first-time steps). During the next release, we simply need to bump library version in the Gradle configuration before uploading artifacts. In the future, I&rsquo;m planning to write another article, which shows how to skip manual steps of going to Sonatype website and releasig artifacts via clicking on the page via Gradle plugins, so everything will be automated via CLI.</p><h2 id=links-and-references>Links and references<a hidden class=anchor aria-hidden=true href=#links-and-references>#</a></h2><ul><li><a href=https://stackoverflow.com/questions/28846802/how-to-manually-publish-jar-to-maven-central>https://stackoverflow.com/questions/28846802/how-to-manually-publish-jar-to-maven-central</a></li><li><a href=https://chris.banes.dev/2013/08/27/pushing-aars-to-maven-central/>https://chris.banes.dev/2013/08/27/pushing-aars-to-maven-central/</a></li><li><a href=https://dzone.com/articles/deploy-maven-central>https://dzone.com/articles/deploy-maven-central</a></li><li><a href=https://central.sonatype.org/pages/gradle.html>https://central.sonatype.org/pages/gradle.html</a></li><li><a href=https://central.sonatype.org/pages/apache-maven.html>https://central.sonatype.org/pages/apache-maven.html</a></li><li><a href=https://central.sonatype.org/pages/working-with-pgp-signatures.html>https://central.sonatype.org/pages/working-with-pgp-signatures.html</a></li><li><a href=https://alexcabal.com/creating-the-perfect-gpg-keypair>https://alexcabal.com/creating-the-perfect-gpg-keypair</a></li><li><a href=https://central.sonatype.org/pages/ossrh-guide.html>https://central.sonatype.org/pages/ossrh-guide.html</a></li><li><a href=https://central.sonatype.org/pages/choosing-your-coordinates.html>https://central.sonatype.org/pages/choosing-your-coordinates.html</a></li><li><a href=https://gist.github.com/diegopacheco/13c0754f0ab36482f4f804ef3f05f989>https://gist.github.com/diegopacheco/13c0754f0ab36482f4f804ef3f05f989</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/java/>Java</a></li><li><a href=https://wittchen.io/tags/gradle/>Gradle</a></li></ul><nav class=paginav><a class=prev href=https://wittchen.io/notes/zen-of-java-library-release-process/><span class=title>« Prev</span><br><span>Zen of the Java library release process</span>
</a><a class=next href=https://wittchen.io/notes/kyma-meets-ccv2-hackathon-summary/><span class=title>Next »</span><br><span>Kyma meets CCV2 hackathon summary</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://wittchen.io/>Piotr Wittchen</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a> (modified | inspired by <a href=https://ui.shadcn.com/ rel=noopener target=_blank>shadcn-ui</a>)</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>(function(){const e=document.querySelector(".header");if(!e)return;function t(){window.scrollY>10?e.classList.add("scrolled"):e.classList.remove("scrolled")}window.addEventListener("scroll",t,{passive:!0}),t()})(),function(){const t=document.getElementById("menu-toggle"),e=document.getElementById("menu");if(!t||!e)return;function s(){const n=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!n),e.classList.toggle("menu-open"),document.body.classList.toggle("menu-open"),n||window.scrollTo(0,0)}function n(){t.setAttribute("aria-expanded","false"),e.classList.remove("menu-open"),document.body.classList.remove("menu-open")}t.addEventListener("click",s),e.querySelectorAll("a").forEach(e=>{e.addEventListener("click",n)}),document.addEventListener("keydown",function(t){t.key==="Escape"&&e.classList.contains("menu-open")&&n()}),window.addEventListener("resize",function(){window.innerWidth>768&&e.classList.contains("menu-open")&&n()})}()</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>