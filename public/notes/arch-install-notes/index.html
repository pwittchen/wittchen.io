<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Arch Linux - installation notes | Piotr Wittchen</title><meta name=keywords content="arch,linux"><meta name=description content="Introduction
For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn&rsquo;t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn&rsquo;t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about Full Arch Linux Install by Luke Smith where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you&rsquo;ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and &ldquo;can do&rdquo; attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I&rsquo;ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an official Arch installation guide in Arch Wiki. This article can be additional resource to this stuff."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/notes/arch-install-notes/><link crossorigin=anonymous href=/assets/css/stylesheet.c80af583edbf6d005480808633396d1a9b0d58ca46d1324669dcdadb75be4dd5.css integrity="sha256-yAr1g+2/bQBUgICGMzltGpsNWMpG0TJGadza23W+TdU=" rel="preload stylesheet" as=style><link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wittchen.io/notes/arch-install-notes/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wittchen.io/notes/arch-install-notes/"><meta property="og:site_name" content="Piotr Wittchen"><meta property="og:title" content="Arch Linux - installation notes"><meta property="og:description" content="Introduction For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn’t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn’t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about Full Arch Linux Install by Luke Smith where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you’ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and “can do” attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I’ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an official Arch installation guide in Arch Wiki. This article can be additional resource to this stuff."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="notes"><meta property="article:published_time" content="2019-07-24T23:59:20+00:00"><meta property="article:modified_time" content="2019-07-24T23:59:20+00:00"><meta property="article:tag" content="Arch"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="Arch Linux - installation notes"><meta name=twitter:description content="Introduction
For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn&rsquo;t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn&rsquo;t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about Full Arch Linux Install by Luke Smith where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you&rsquo;ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and &ldquo;can do&rdquo; attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I&rsquo;ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an official Arch installation guide in Arch Wiki. This article can be additional resource to this stuff."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://wittchen.io/notes/"},{"@type":"ListItem","position":2,"name":"Arch Linux - installation notes","item":"https://wittchen.io/notes/arch-install-notes/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Arch Linux - installation notes","name":"Arch Linux - installation notes","description":"Introduction For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn\u0026rsquo;t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn\u0026rsquo;t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about Full Arch Linux Install by Luke Smith where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you\u0026rsquo;ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and \u0026ldquo;can do\u0026rdquo; attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I\u0026rsquo;ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an official Arch installation guide in Arch Wiki. This article can be additional resource to this stuff.\n","keywords":["arch","linux"],"articleBody":"Introduction For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn’t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn’t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about Full Arch Linux Install by Luke Smith where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you’ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and “can do” attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I’ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an official Arch installation guide in Arch Wiki. This article can be additional resource to this stuff.\nBooting installer from USB Creating bootable USB In order to create bootable USB, we need to download *.iso file with Arch from https://www.archlinux.org/download/. We also need to have dd (disk dump) program installed. We need to invoke lsblk before inserting USB drive to see our drives and invoke lsblk again after inserting the USB drive to see, which one it is. We can also have a look at disk sizes, what helps in recognizing our disk. Next, we can call dd:\ndd if=/path/to/arch.iso of=/dev/sdb status=\"progress\" status=\"progress\" parameter will allow us to monitor progress of the whole process.\nNote: please, be sure that you are writing on the correct disk! In the example above, we’re writing to /dev/sdb. It may be the same in your case, but it may be different too! It’s just an example!\nBIOS configuration We need to go into the BIOS before installation. It may be different on different computers. On mine it’s hitting Enter after reboot and then F1. Inside BIOS, we need to change order of booting devices and move USB drive to the top. I also had to disable secure boot and quick boot. Moreover I set UEFI/Legacy Boot to Both (UEFI/Legacy Boot Priority: UEFI First, CSM Support: YES). Sometimes network boot may interrupt boot process, so I set it to USB HDD. I had to play more with this stuff on freshly installed system because it was not booting in the beginning. It may be different on your computer. Sometimes, there may be no issue with it.\nFirst things UEFI check Once we have booted installer from USB stick, we need to perform UEFI check as follows.\nls /sys/firmware/efivars If it outputs an error or nothing, that’s ok and we can proceed with installation. If you see bunch of files, then installation procedure may be different or may require additional steps.\nInternet check We need to check an internet connection because we will need it to download packages. We can do it just by simple ping:\nping wittchen.io When we see response, that’s ok.\nIt’s worth to mention, that it’s good to have ethernet cable connection for the installation process. Optionally, you can use wifi-menu to connect wirelessly, but it’s not recommended for the installation.\nSystem time and date initial setup To perform system time and date initial setup, we need to run the following command:\ntimedatectl set-ntp true Partitions Let’s see what partitions do we have on our system. We can view them with lsblk program.\nlsblk Before we start doing anything, we should remove existing partitions. We can do it with fdisk tool by running it with our main disk as a parameter. Usually it will be /dev/sda, but in my case it was /dev/nvme0n1. We can get this name from lsblk output.\nfdisk /dev/nvme0n1 Removing existing partitions Next, we can choose different options. In our case, we need to choose :d to delete partitions. We need to call this option for each partition.\nSometimes, we may have problems with installation or removing old partitions. In that case, we can use alternative method of cleaning disk:\nsgdisk --zap-all /dev/nvme0n1p1 Creating new partitions Now, we have to prepare our disk for the future system installation. Our goal is to have the following configuration of the partitions\nnvme0n1 259:0 0 477G 0 disk ├─nvme0n1p1 259:1 0 200M 0 part /boot ├─nvme0n1p2 259:2 0 24G 0 part [SWAP] ├─nvme0n1p3 259:3 0 25G 0 part / └─nvme0n1p4 259:4 0 427,8G 0 part /home This is the output from my current system and nvme0n1 is the disk. First partition (nvme0n1p1) is boot partition used during the system boot. Next partition (nvme0n1p2) is a SWAP partition, which acts as an overflow for our RAM memory, when it gets filled up. Third partition (nvme0n1p3) is root partition, which is the root of the file system and programs will be installed there. The last partition (nvme0n1p4) is home partition, where we are going to keep our files.\nIn order to create new partition, we have to call fdisk /dev/nvme0n1p1 (if we haven’t done it yet). Let’s create boot partition. Type :c for create. We leave first sector empty, hit Enter in the last sector we put +200M for 200 megabytes, which is recommended value for boot partitoin and confirm it with Enter. We follow this procedure for SWAP, which should have size = 1.5 * size of RAM in computer. I currently have 16GB of RAM, so it’s 1.5 * 16 GB = 24 GB, so I put +24G in the last sector. Next, we can create root partition. It should have around +25G. You can decrease it if you have small disk or increase it if you have huge disk and plans to install a lot of programs. In the end, we are creating home partition, where in the last sector option we can just hit Enter and fdisk will assign remaining disk space to this partition. When we’re done, we should confirm our partition configuration with :w like write. Then, we can type lsblk again to see our written configuration. It should look like in the example above.\nCreating file systems Next, we can to create file systems on our partitions. In general, we can use ext4, which is Linux file system. Some devices may have boot problems or may have specific BIOS setup. In that case, it’s recommended to use FAT32 file system. Let’s use mkfs program to create file systems.\nWe will create FAT32 file system on our boot partition:\nmkfs.vfat -F32 /dev/nvme0n1p1 Then, we will create ext4 file systems on root and home partitions:\nmkfs.ext4 /dev/nvme0n1p3 mkfs.ext4 /dev/nvme0n1p4 Creating SWAP Now, we can create SWAP on the nvme0n1p2 partition:\nmkswap /dev/nvme0n1p2 Next, we can turn the SWAP on:\nswapon /dev/nvme0n1p2 Mounting partitions Right now, we are ready to mount our partitions.\nWe can mount the root partition as follows:\nmount /dev/nvme0n1p3 /mnt When we list this partition:\nls /mnt we should see lost+found file, which is a generic system file.\nNow on the root partition we can create home and boot directories.\nmkdir /mnt/home mkdir /mnt/boot and mount our previously created partitions into these dirs:\nmount /dev/nvme0n1p1 /mnt/boot mount /dev/nvme0n1p4 /mnt/home and then we can type lsblk to see that everything is created properly.\nArch installation Now, there is an easy part. We have everything prepared and we’re ready to install the operating system.\nArch can be installed with literally one command:\npacstrap /mnt base It’s recommended to install base-devel package, which contains additional software, which may be required to run everything. We can also install vim, to have an editor to edit our configs and other stuff. The final command can look like this:\npacstrap /mnt base base-devel vim Creating fstab We should also create fstab file, which contains information about system drives and mounted partitions and file systems. We can do it as follows:\ngenfstab -U /mnt \u003e\u003e /mnt/etc/fstab My /etc/fstab file looks like that:\n# Static information about the filesystems. # See fstab(5) for details. # # /dev/nvme0n1p3 UUID=d94887d0-daff-4a4b-a28a-1de3fdadbb58/ ext4 rw,relatime0 1 # /dev/nvme0n1p1 UUID=97B8-B124 /boot vfat rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro0 2 # /dev/nvme0n1p4 UUID=75b24330-5ca7-47fc-a6ea-3d4cd826df4d/home ext4 rw,relatime0 2 # /dev/nvme0n1p2 UUID=2788826f-9abf-44c7-b2d5-15323be8ba4enone swap defaults 0 0 Operations inside the system Changing root Now, we can change the root:\narch-chroot /mnt After typing command above, we jumped from the bootable USB drive into the operating system installed on the disk of our computer.\nNow, we’re able to perform operations inside the system.\nInstalling network manager First of all, we should install network manger via pacman to have network and Internet connectivity:\npacman -S networkmanager to enable network manager, we can type:\nsystemctl enable NetworkManager Installing GRUB We also have to install GRUB, which will be responsible for booting our operating system:\npacman -S grub Next, we have to configure it:\ngrub-install --target=i386-pc /dev/nvme0n1 Please note, we provided path to the disk (drive) - not the partition.\nNext, we should create /boot/grub/grub.cfg configuration file:\ngrub-mkconfig -o /boot/grub/grub.cfg Setting password to set the password, we can just type:\npasswd Setting locale To set locale, we need to edit /etc/locale.gen (e.g. via vim) and uncomment desired locales (one or more).\nIn my case I uncommented:\npl_PL.UTF-8 pl_PL ISO-8859-2 en_US.UTF-8 en_US ISO-88591 becasue I wanted to use both Polish and English language.\nNow, we can type:\nlocale-gen To set default locale, we have to edit /etc/locale.conf and set LANG variable as follows:\nLANG=en_US.UTF-8 Of course, we can set pl_PL.UTF-8 too or any other language we want to use as default system language. I personally use English as a OS language, bacause it’s easier to diagnose possible issues, when you have English messages in terminal. Nevertheles, I use Polish as an input language, to be able to use Polish letters, european metric system, Polish currency, etc. It should be adjusted to our needs.\nSetting timezone You can browse time zones in /usr/share/zoneinfo directory. To set our time zone, we need to create a symbolic lin between desired time zone and /etc/localtime file. Once we change our time zone, we can create a symbolic link again.\nln -sf /usr/share/zoneinfo/Europe/Warsaw /etc/localtime My time zone is Warsaw in Europe, but you can set your own time zone here.\nSetting hostname To create our hostname, which is name of the computer, we can edit /etc/hostname file and put our name there.\nMy hostname is arch.\nFinalization Unmounting file systems Before we reboot our computer, we should unmount partitions:\numount -R /mnt Rebooting To reboot computer, we can just type:\nreboot What’s next? Once, our computer will be restarted, GRUB should boot our operating system and we should see the black screen with white letters and command prompt. It means, everything went fine, our system is installed and booted! Now, we’re ready to install other sutff (e.g. Desktop Environment or Window Manager). We can also leave it without GUI, if our computer has really low specs or when we’re planning to use this machine as a server or something like that.\nSummary To wrap up, installing Arch is not trivial and requires some proficiency with Linux and terminal. Neverhteless, once you have some basics, it’s no that hard as we can expect. In addition, we have great documentation and resources on the web about it. Going through this process can be nice lesson. You can see, how much stuff automatic installers are doing for us. Moreover, we can totally adjust system to our needs. We don’t need to have a bloat of not necessary packages and programs like we have on Ubuntu. We can install exactly what we need and track our packages. I haven’t mentioned it before, but Arch has rolling release system. It means, there are no huge system updates like in Ubuntu, Windows or macOS. We can gradually update our system by installing small amount of single packages and our system can be up to date basically everyday. I’m using Arch for a few weeks for now and it seems to be one of the best and most stable operating systems I have used so far. It’s quite hard to break something on this system until you explicitly break it (e.g. by typing into terminal commands you don’t understand). It’s also light-weight and customizable. I cannot recommend this system to people who are not familiar with Linux, don’t like to play with computers and software, don’t want to fix stuff for themselves, customize system etc., but if you’re are not in this group, this OS may be for you.\n","wordCount":"2244","inLanguage":"en","datePublished":"2019-07-24T23:59:20Z","dateModified":"2019-07-24T23:59:20Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/notes/arch-install-notes/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script><script defer data-website-id=dfid_D4sN47CVgrrCRR7KCciN3 data-domain=wittchen.io src=https://datafa.st/js/script.js></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)">Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/notes/ title=notes><span>notes</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/projects/ title=projects><span>projects</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/notes/>Notes</a></div><h1 class="post-title entry-hint-parent">Arch Linux - installation notes</h1><div class=post-meta><span title='2019-07-24 23:59:20 +0000 UTC'>July 24, 2019</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;2244 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/notes/arch-install-notes.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>For a long time, I was considering switching from Ubuntu do Arch Linux distribution, but I didn&rsquo;t have enough knowledge, time and energy to do this. I definitely knew it requires some specific knowledge and manual steps to perform. I also didn&rsquo;t wat to spend too much time on reading the documentation. Moreover, I know that sometimes I could have specific issues related to my hardware, which are not listed in documentation and I have to deal with them on my own. Due to these facts I was discouraged to install Arch. Recently, I found awesome video about <a href="https://www.youtube.com/watch?v=4PBqpX0_UOc">Full Arch Linux Install</a> by <a href=https://www.youtube.com/channel/UC2eYFnH61tmytImy1mTYvhA>Luke Smith</a> where everything is explained very clearly in each step. I watched it one time without doing anything and then, watched it next time performing all the steps described there. I had a few issues related to my hardware and BIOS, but I managed to install Arch on my ThinkPad T470s thanks to this video. During the installation, I made a few notes for myself for the future possible installations. Maybe you&rsquo;ll find them useful too. The whole process is actually simpler than I thought. It just requires some practical knowledge about Linux, patience and &ldquo;can do&rdquo; attitude. I divided this article into steps and sub-steps, which are required to perform the installation. Please, keep in mind the fact that in the end of the installation, we will have an empty command prompt with plain OS without any GUI and we will have to install the graphical environment from the terminal. It will not be covered in this article, but I think, I&rsquo;ll cover it in another one. Of course, this article contains just my notes, which help me understand everything well because and I like documenting this kind of things for the future. If you searching for Arch installation guide, I recommend you to see linked video or an <a href=https://wiki.archlinux.org/index.php/Installation_guide>official Arch installation guide</a> in Arch Wiki. This article can be additional resource to this stuff.</p><h2 id=booting-installer-from-usb>Booting installer from USB<a hidden class=anchor aria-hidden=true href=#booting-installer-from-usb>#</a></h2><h3 id=creating-bootable-usb>Creating bootable USB<a hidden class=anchor aria-hidden=true href=#creating-bootable-usb>#</a></h3><p>In order to create bootable USB, we need to download <code>*.iso</code> file with Arch from <a href=https://www.archlinux.org/download/>https://www.archlinux.org/download/</a>. We also need to have <code>dd</code> (disk dump) program installed. We need to invoke <code>lsblk</code> before inserting USB drive to see our drives and invoke <code>lsblk</code> again after inserting the USB drive to see, which one it is. We can also have a look at disk sizes, what helps in recognizing our disk. Next, we can call <code>dd</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dd <span class=k>if</span><span class=o>=</span>/path/to/arch.iso <span class=nv>of</span><span class=o>=</span>/dev/sdb <span class=nv>status</span><span class=o>=</span><span class=s2>&#34;progress&#34;</span>
</span></span></code></pre></div><p><code>status="progress"</code> parameter will allow us to monitor progress of the whole process.</p><p><strong>Note</strong>: please, be sure that you are writing on the correct disk! In the example above, we&rsquo;re writing to <code>/dev/sdb</code>. It may be the same in your case, but it may be different too! It&rsquo;s just an example!</p><h3 id=bios-configuration>BIOS configuration<a hidden class=anchor aria-hidden=true href=#bios-configuration>#</a></h3><p>We need to go into the BIOS before installation. It may be different on different computers. On mine it&rsquo;s hitting Enter after reboot and then F1. Inside BIOS, we need to change order of booting devices and move USB drive to the top. I also had to disable secure boot and quick boot. Moreover I set <code>UEFI/Legacy Boot</code> to <code>Both</code> (<code>UEFI/Legacy Boot Priority</code>: <code>UEFI First</code>, <code>CSM Support</code>: <code>YES</code>). Sometimes network boot may interrupt boot process, so I set it to <code>USB HDD</code>. I had to play more with this stuff on freshly installed system because it was not booting in the beginning. It may be different on your computer. Sometimes, there may be no issue with it.</p><h2 id=first-things>First things<a hidden class=anchor aria-hidden=true href=#first-things>#</a></h2><h3 id=uefi-check>UEFI check<a hidden class=anchor aria-hidden=true href=#uefi-check>#</a></h3><p>Once we have booted installer from USB stick, we need to perform <a href=https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface>UEFI</a> check as follows.</p><pre tabindex=0><code>ls /sys/firmware/efivars
</code></pre><p>If it outputs an error or nothing, that&rsquo;s ok and we can proceed with installation. If you see bunch of files, then installation procedure may be different or may require additional steps.</p><h3 id=internet-check>Internet check<a hidden class=anchor aria-hidden=true href=#internet-check>#</a></h3><p>We need to check an internet connection because we will need it to download packages. We can do it just by simple ping:</p><pre tabindex=0><code>ping wittchen.io
</code></pre><p>When we see response, that&rsquo;s ok.</p><p>It&rsquo;s worth to mention, that it&rsquo;s good to have ethernet cable connection for the installation process. Optionally, you can use <code>wifi-menu</code> to connect wirelessly, but it&rsquo;s not recommended for the installation.</p><h2 id=system-time-and-date-initial-setup>System time and date initial setup<a hidden class=anchor aria-hidden=true href=#system-time-and-date-initial-setup>#</a></h2><p>To perform system time and date initial setup, we need to run the following command:</p><pre tabindex=0><code>timedatectl set-ntp true
</code></pre><h2 id=partitions>Partitions<a hidden class=anchor aria-hidden=true href=#partitions>#</a></h2><p>Let&rsquo;s see what partitions do we have on our system. We can view them with <code>lsblk</code> program.</p><pre tabindex=0><code>lsblk
</code></pre><p>Before we start doing anything, we should remove existing partitions. We can do it with <code>fdisk</code> tool by running it with our main disk as a parameter. Usually it will be <code>/dev/sda</code>, but in my case it was <code>/dev/nvme0n1</code>. We can get this name from <code>lsblk</code> output.</p><pre tabindex=0><code>fdisk /dev/nvme0n1
</code></pre><h3 id=removing-existing-partitions>Removing existing partitions<a hidden class=anchor aria-hidden=true href=#removing-existing-partitions>#</a></h3><p>Next, we can choose different options. In our case, we need to choose <code>:d</code> to delete partitions. We need to call this option for each partition.</p><p>Sometimes, we may have problems with installation or removing old partitions. In that case, we can use alternative method of cleaning disk:</p><pre tabindex=0><code>sgdisk --zap-all /dev/nvme0n1p1
</code></pre><h3 id=creating-new-partitions>Creating new partitions<a hidden class=anchor aria-hidden=true href=#creating-new-partitions>#</a></h3><p>Now, we have to prepare our disk for the future system installation. Our goal is to have the following configuration of the partitions</p><pre tabindex=0><code>nvme0n1     259:0    0   477G  0 disk
├─nvme0n1p1 259:1    0   200M  0 part /boot
├─nvme0n1p2 259:2    0    24G  0 part [SWAP]
├─nvme0n1p3 259:3    0    25G  0 part /
└─nvme0n1p4 259:4    0 427,8G  0 part /home
</code></pre><p>This is the output from my current system and <code>nvme0n1</code> is the disk. First partition (<code>nvme0n1p1</code>) is <code>boot</code> partition used during the system boot. Next partition (<code>nvme0n1p2</code>) is a SWAP partition, which acts as an overflow for our RAM memory, when it gets filled up. Third partition (<code>nvme0n1p3</code>) is root partition, which is the root of the file system and programs will be installed there. The last partition (<code>nvme0n1p4</code>) is home partition, where we are going to keep our files.</p><p>In order to create new partition, we have to call <code>fdisk /dev/nvme0n1p1</code> (if we haven&rsquo;t done it yet).
Let&rsquo;s create boot partition. Type <code>:c</code> for create. We leave first sector empty, hit Enter in the last sector we put <code>+200M</code> for 200 megabytes, which is recommended value for boot partitoin and confirm it with Enter. We follow this procedure for SWAP, which should have size = <code>1.5 * size of RAM in computer</code>. I currently have 16GB of RAM, so it&rsquo;s <code>1.5 * 16 GB = 24 GB</code>, so I put <code>+24G</code> in the last sector. Next, we can create root partition. It should have around <code>+25G</code>. You can decrease it if you have small disk or increase it if you have huge disk and plans to install a lot of programs. In the end, we are creating home partition, where in the last sector option we can just hit Enter and <code>fdisk</code> will assign remaining disk space to this partition. When we&rsquo;re done, we should confirm our partition configuration with <code>:w</code> like write. Then, we can type <code>lsblk</code> again to see our written configuration. It should look like in the example above.</p><h3 id=creating-file-systems>Creating file systems<a hidden class=anchor aria-hidden=true href=#creating-file-systems>#</a></h3><p>Next, we can to create file systems on our partitions. In general, we can use <code>ext4</code>, which is Linux file system. Some devices may have boot problems or may have specific BIOS setup. In that case, it&rsquo;s recommended to use <code>FAT32</code> file system. Let&rsquo;s use <code>mkfs</code> program to create file systems.</p><p>We will create <code>FAT32</code> file system on our boot partition:</p><pre tabindex=0><code>mkfs.vfat -F32 /dev/nvme0n1p1
</code></pre><p>Then, we will create <code>ext4</code> file systems on root and home partitions:</p><pre tabindex=0><code>mkfs.ext4 /dev/nvme0n1p3
mkfs.ext4 /dev/nvme0n1p4
</code></pre><h3 id=creating-swap>Creating SWAP<a hidden class=anchor aria-hidden=true href=#creating-swap>#</a></h3><p>Now, we can create SWAP on the <code>nvme0n1p2</code> partition:</p><pre tabindex=0><code>mkswap /dev/nvme0n1p2
</code></pre><p>Next, we can turn the SWAP on:</p><pre tabindex=0><code>swapon /dev/nvme0n1p2
</code></pre><h3 id=mounting-partitions>Mounting partitions<a hidden class=anchor aria-hidden=true href=#mounting-partitions>#</a></h3><p>Right now, we are ready to mount our partitions.</p><p>We can mount the root partition as follows:</p><pre tabindex=0><code>mount /dev/nvme0n1p3 /mnt
</code></pre><p>When we list this partition:</p><pre tabindex=0><code>ls /mnt
</code></pre><p>we should see <code>lost+found</code> file, which is a generic system file.</p><p>Now on the root partition we can create home and boot directories.</p><pre tabindex=0><code>mkdir /mnt/home
mkdir /mnt/boot
</code></pre><p>and mount our previously created partitions into these dirs:</p><pre tabindex=0><code>mount /dev/nvme0n1p1 /mnt/boot
mount /dev/nvme0n1p4 /mnt/home
</code></pre><p>and then we can type <code>lsblk</code> to see that everything is created properly.</p><h2 id=arch-installation>Arch installation<a hidden class=anchor aria-hidden=true href=#arch-installation>#</a></h2><p>Now, there is an easy part. We have everything prepared and we&rsquo;re ready to install the operating system.</p><p>Arch can be installed with literally <strong>one command</strong>:</p><pre tabindex=0><code>pacstrap /mnt base
</code></pre><p>It&rsquo;s recommended to install <code>base-devel</code> package, which contains additional software, which may be required to run everything. We can also install <code>vim</code>, to have an editor to edit our configs and other stuff. The final command can look like this:</p><pre tabindex=0><code>pacstrap /mnt base base-devel vim
</code></pre><h2 id=creating-fstab>Creating fstab<a hidden class=anchor aria-hidden=true href=#creating-fstab>#</a></h2><p>We should also create <code>fstab</code> file, which contains information about system drives and mounted partitions and file systems.
We can do it as follows:</p><pre tabindex=0><code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</code></pre><p>My <code>/etc/fstab</code> file looks like that:</p><pre tabindex=0><code># Static information about the filesystems.
# See fstab(5) for details.

# &lt;file system&gt; &lt;dir&gt; &lt;type&gt; &lt;options&gt; &lt;dump&gt; &lt;pass&gt;
# /dev/nvme0n1p3
UUID=d94887d0-daff-4a4b-a28a-1de3fdadbb58/         ext4      rw,relatime0 1

# /dev/nvme0n1p1
UUID=97B8-B124      /boot     vfat      rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro0 2

# /dev/nvme0n1p4
UUID=75b24330-5ca7-47fc-a6ea-3d4cd826df4d/home     ext4      rw,relatime0 2

# /dev/nvme0n1p2
UUID=2788826f-9abf-44c7-b2d5-15323be8ba4enone      swap      defaults  0 0
</code></pre><h2 id=operations-inside-the-system>Operations inside the system<a hidden class=anchor aria-hidden=true href=#operations-inside-the-system>#</a></h2><h3 id=changing-root>Changing root<a hidden class=anchor aria-hidden=true href=#changing-root>#</a></h3><p>Now, we can change the root:</p><pre tabindex=0><code>arch-chroot /mnt
</code></pre><p>After typing command above, we jumped from the bootable USB drive into the operating system installed on the disk of our computer.</p><p>Now, we&rsquo;re able to perform operations inside the system.</p><h3 id=installing-network-manager>Installing network manager<a hidden class=anchor aria-hidden=true href=#installing-network-manager>#</a></h3><p>First of all, we should install network manger via <code>pacman</code> to have network and Internet connectivity:</p><pre tabindex=0><code>pacman -S networkmanager
</code></pre><p>to enable network manager, we can type:</p><pre tabindex=0><code>systemctl enable NetworkManager
</code></pre><h3 id=installing-grub>Installing GRUB<a hidden class=anchor aria-hidden=true href=#installing-grub>#</a></h3><p>We also have to install GRUB, which will be responsible for booting our operating system:</p><pre tabindex=0><code>pacman -S grub
</code></pre><p>Next, we have to configure it:</p><pre tabindex=0><code>grub-install --target=i386-pc /dev/nvme0n1
</code></pre><p>Please note, we provided path to the disk (drive) - not the partition.</p><p>Next, we should create <code>/boot/grub/grub.cfg</code> configuration file:</p><pre tabindex=0><code>grub-mkconfig -o /boot/grub/grub.cfg
</code></pre><h3 id=setting-password>Setting password<a hidden class=anchor aria-hidden=true href=#setting-password>#</a></h3><p>to set the password, we can just type:</p><pre tabindex=0><code>passwd
</code></pre><h3 id=setting-locale>Setting locale<a hidden class=anchor aria-hidden=true href=#setting-locale>#</a></h3><p>To set locale, we need to edit <code>/etc/locale.gen</code> (e.g. via vim) and uncomment desired locales (one or more).</p><p>In my case I uncommented:</p><pre tabindex=0><code>pl_PL.UTF-8
pl_PL ISO-8859-2
en_US.UTF-8
en_US ISO-88591
</code></pre><p>becasue I wanted to use both Polish and English language.</p><p>Now, we can type:</p><pre tabindex=0><code>locale-gen
</code></pre><p>To set default locale, we have to edit <code>/etc/locale.conf</code> and set <code>LANG</code> variable as follows:</p><pre tabindex=0><code>LANG=en_US.UTF-8
</code></pre><p>Of course, we can set <code>pl_PL.UTF-8</code> too or any other language we want to use as default system language. I personally use English as a OS language, bacause it&rsquo;s easier to diagnose possible issues, when you have English messages in terminal. Nevertheles, I use Polish as an input language, to be able to use Polish letters, european metric system, Polish currency, etc. It should be adjusted to our needs.</p><h3 id=setting-timezone>Setting timezone<a hidden class=anchor aria-hidden=true href=#setting-timezone>#</a></h3><p>You can browse time zones in <code>/usr/share/zoneinfo</code> directory. To set our time zone, we need to create a symbolic lin between desired time zone and <code>/etc/localtime</code> file. Once we change our time zone, we can create a symbolic link again.</p><pre tabindex=0><code>ln -sf /usr/share/zoneinfo/Europe/Warsaw /etc/localtime
</code></pre><p>My time zone is Warsaw in Europe, but you can set your own time zone here.</p><h3 id=setting-hostname>Setting hostname<a hidden class=anchor aria-hidden=true href=#setting-hostname>#</a></h3><p>To create our <code>hostname</code>, which is name of the computer, we can edit <code>/etc/hostname</code> file and put our name there.</p><p>My hostname is <code>arch</code>.</p><h2 id=finalization>Finalization<a hidden class=anchor aria-hidden=true href=#finalization>#</a></h2><h3 id=unmounting-file-systems>Unmounting file systems<a hidden class=anchor aria-hidden=true href=#unmounting-file-systems>#</a></h3><p>Before we reboot our computer, we should unmount partitions:</p><pre tabindex=0><code>umount -R /mnt
</code></pre><h3 id=rebooting>Rebooting<a hidden class=anchor aria-hidden=true href=#rebooting>#</a></h3><p>To reboot computer, we can just type:</p><pre tabindex=0><code>reboot
</code></pre><h2 id=whats-next>What&rsquo;s next?<a hidden class=anchor aria-hidden=true href=#whats-next>#</a></h2><p>Once, our computer will be restarted, GRUB should boot our operating system and we should see the black screen with white letters and command prompt. It means, everything went fine, our system is installed and booted! Now, we&rsquo;re ready to install other sutff (e.g. Desktop Environment or Window Manager). We can also leave it without GUI, if our computer has really low specs or when we&rsquo;re planning to use this machine as a server or something like that.</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>To wrap up, installing Arch is not trivial and requires some proficiency with Linux and terminal. Neverhteless, once you have some basics, it&rsquo;s no that hard as we can expect. In addition, we have great documentation and resources on the web about it. Going through this process can be nice lesson. You can see, how much stuff automatic installers are doing for us. Moreover, we can totally adjust system to our needs. We don&rsquo;t need to have a bloat of not necessary packages and programs like we have on Ubuntu. We can install exactly what we need and track our packages. I haven&rsquo;t mentioned it before, but Arch has rolling release system. It means, there are no huge system updates like in Ubuntu, Windows or macOS. We can gradually update our system by installing small amount of single packages and our system can be up to date basically everyday. I&rsquo;m using Arch for a few weeks for now and it seems to be one of the best and most stable operating systems I have used so far. It&rsquo;s quite hard to break something on this system until you explicitly break it (e.g. by typing into terminal commands you don&rsquo;t understand). It&rsquo;s also light-weight and customizable. I cannot recommend this system to people who are not familiar with Linux, don&rsquo;t like to play with computers and software, don&rsquo;t want to fix stuff for themselves, customize system etc., but if you&rsquo;re are not in this group, this OS may be for you.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/arch/>Arch</a></li><li><a href=https://wittchen.io/tags/linux/>Linux</a></li></ul><nav class=paginav><a class=prev href=https://wittchen.io/notes/arch-install-notes-gui-and-utils/><span class=title>« Prev</span><br><span>Arch Linux - installation notes no. 2 (GUI and utils)</span>
</a><a class=next href=https://wittchen.io/notes/zen-of-java-library-release-process/><span class=title>Next »</span><br><span>Zen of the Java library release process</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://wittchen.io/>Piotr Wittchen</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>