<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Dockerizing Hybris | Piotr Wittchen</title>
<meta name=keywords content><meta name=description content="Introduction
A few months ago, I started work at Hybris, which was acquired by SAP, so our &ldquo;division&rdquo; is officially called SAP Hybris. I work in a team developing an extension for Hybris platform with assisting extensions and internal framework. There are many teams around the world developing their own extensions, which are finally integrated and packed into Commerce Suite provided to the clients and partners. We have our own development environment, but sometimes there&rsquo;s need to build and run whole Commerce Suite in the case of system tests, bug reproduction, verification, etc. It&rsquo;s not really hard, but you have to know what to do and you have to perform a lot of steps manually. This is kind of old approach in present days. Moreover, it&rsquo;s really big project, so build and initialization process takes time. You have to download huge zipped package, unpack it, run Gradle script with installation recipe, compile project, run initialization and finally start the server."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/posts/dockerizing-hybris/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wittchen.io/posts/dockerizing-hybris/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wittchen.io/posts/dockerizing-hybris/"><meta property="og:site_name" content="Piotr Wittchen"><meta property="og:title" content="Dockerizing Hybris"><meta property="og:description" content="Introduction A few months ago, I started work at Hybris, which was acquired by SAP, so our “division” is officially called SAP Hybris. I work in a team developing an extension for Hybris platform with assisting extensions and internal framework. There are many teams around the world developing their own extensions, which are finally integrated and packed into Commerce Suite provided to the clients and partners. We have our own development environment, but sometimes there’s need to build and run whole Commerce Suite in the case of system tests, bug reproduction, verification, etc. It’s not really hard, but you have to know what to do and you have to perform a lot of steps manually. This is kind of old approach in present days. Moreover, it’s really big project, so build and initialization process takes time. You have to download huge zipped package, unpack it, run Gradle script with installation recipe, compile project, run initialization and finally start the server."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-07-27T21:52:00+00:00"><meta property="article:modified_time" content="2016-07-27T21:52:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Dockerizing Hybris"><meta name=twitter:description content="Introduction
A few months ago, I started work at Hybris, which was acquired by SAP, so our &ldquo;division&rdquo; is officially called SAP Hybris. I work in a team developing an extension for Hybris platform with assisting extensions and internal framework. There are many teams around the world developing their own extensions, which are finally integrated and packed into Commerce Suite provided to the clients and partners. We have our own development environment, but sometimes there&rsquo;s need to build and run whole Commerce Suite in the case of system tests, bug reproduction, verification, etc. It&rsquo;s not really hard, but you have to know what to do and you have to perform a lot of steps manually. This is kind of old approach in present days. Moreover, it&rsquo;s really big project, so build and initialization process takes time. You have to download huge zipped package, unpack it, run Gradle script with installation recipe, compile project, run initialization and finally start the server."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wittchen.io/posts/"},{"@type":"ListItem","position":2,"name":"Dockerizing Hybris","item":"https://wittchen.io/posts/dockerizing-hybris/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Dockerizing Hybris","name":"Dockerizing Hybris","description":"Introduction A few months ago, I started work at Hybris, which was acquired by SAP, so our \u0026ldquo;division\u0026rdquo; is officially called SAP Hybris. I work in a team developing an extension for Hybris platform with assisting extensions and internal framework. There are many teams around the world developing their own extensions, which are finally integrated and packed into Commerce Suite provided to the clients and partners. We have our own development environment, but sometimes there\u0026rsquo;s need to build and run whole Commerce Suite in the case of system tests, bug reproduction, verification, etc. It\u0026rsquo;s not really hard, but you have to know what to do and you have to perform a lot of steps manually. This is kind of old approach in present days. Moreover, it\u0026rsquo;s really big project, so build and initialization process takes time. You have to download huge zipped package, unpack it, run Gradle script with installation recipe, compile project, run initialization and finally start the server.\n","keywords":[],"articleBody":"Introduction A few months ago, I started work at Hybris, which was acquired by SAP, so our “division” is officially called SAP Hybris. I work in a team developing an extension for Hybris platform with assisting extensions and internal framework. There are many teams around the world developing their own extensions, which are finally integrated and packed into Commerce Suite provided to the clients and partners. We have our own development environment, but sometimes there’s need to build and run whole Commerce Suite in the case of system tests, bug reproduction, verification, etc. It’s not really hard, but you have to know what to do and you have to perform a lot of steps manually. This is kind of old approach in present days. Moreover, it’s really big project, so build and initialization process takes time. You have to download huge zipped package, unpack it, run Gradle script with installation recipe, compile project, run initialization and finally start the server.\nAutomating work I wondered if it’s possible to automate mentioned process. Moreover, I wanted to learn more about Docker and create more advanced Dockerfile than “hello world”, which will be real life use case. That’s why I decided to dockerize SAP Hybris Commerce Suite. I called this project ydocker and you can find it at https://github.com/pwittchen/ydocker. Before you start doing anything, you need to remember to install Docker on your system. You can check out my notes about installation Docker on Linux in learning-docker repository. Note #1: It’s not official company solution yet. Right now it’s just my personal proof of concept. Note #2: I had problems with building and running this Docker container on OS X and I haven’t tested it on MS Windows. These systems need to use boot2docker, Docker Toolbox or another approach like that. I had no problems with it on Linux (Ubuntu 14.04 LTS), so this system is recommended if you want to build and run this container successfully. Probably other Linux distributions or Ubuntu versions will handle this as well. Note #3 (update from 01.10.2016): Guys working on Docker improved their software for Mac, so it should work without any problems on this system now. It was tested on OS X El Capitan 10.11.6 and works fine. We just need to get Docker for Mac.\nBuilding Docker container Except for Dockerfile, ydocker repository also contains helper script ydocker, which has the following parameters:\n-b building Docker container -r running Hybris Server in Docker container -c running Docker container with CLI -i showing info about Docker container -u showing Commerce Suite Download Url -d deleting Docker container -h showing help This script uses configuration file ydocker.conf, which has the following contents:\nDOCKER_IMAGE_NAME=sap-hybris-commerce-suite COMMERCE_SUITE_VERSION=latest RECIPE=b2c_acc HOST_PORT=9002 CONTAINER_PORT=9002 You can customize this configuration. E.g. choose a different version of the suite, different recipe or change server port. To build container, you can just type:\n./ydocker -b Then, provide your credentials and Docker will:\ncreate container based on Ubuntu install Java 8 set Java 8 as default Java version install wget download SAP Hybris Commerce Suite via wget unpack downloaded SAP Hybris Commerce Suite remove downloaded zipped package to save some disk space run configured installation recipe compile the project run system initialization It may take some time. If you have good hardware setup it may take about 30 minutes.\nRunning Docker container When everything is done, you can run docker image, with the command:\n./ydocker -r After that, Docker will start the server at localhost (127.0.0.1) and port 9002, which is exposed. Commerce Suite will be started in a default configuration, which is not production ready, but is good for testing and demonstration purposes. You need to wait for a few minutes to let the server warm up and then you can open administration console from the browser at http://127.0.0.1:9002. In addition, if you want to browse generated configuration or unpacked suite, you can run Docker container with CLI with the following command:\n./ydocker -c It won’t start the server, but allow you to take a look around container via terminal.\nSummary That’s it! This proof of concept shows that we can get, build and run complicated and a huge project like SAP Hybris Commerce Suite inside Docker container, automate a lot of manual work and transform old school manual deployment and build process into elegant and standardized Docker container.\n","wordCount":"723","inLanguage":"en","datePublished":"2016-07-27T21:52:00Z","dateModified":"2016-07-27T21:52:00Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/posts/dockerizing-hybris/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)">Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Dockerizing Hybris</h1><div class=post-meta><span title='2016-07-27 21:52:00 +0000 UTC'>July 27, 2016</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;723 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/posts/dockerizing-hybris.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>A few months ago, I started work at <a href=http://hybris.com/>Hybris</a>, which was acquired by SAP, so our &ldquo;division&rdquo; is officially called SAP Hybris. I work in a team developing an extension for Hybris platform with assisting extensions and internal framework. There are many teams around the world developing their own extensions, which are finally integrated and packed into Commerce Suite provided to the clients and partners. We have our own development environment, but sometimes there&rsquo;s need to build and run whole Commerce Suite in the case of system tests, bug reproduction, verification, etc. It&rsquo;s not really hard, but you have to know what to do and you have to perform a lot of steps manually. This is kind of old approach in present days. Moreover, it&rsquo;s really big project, so build and initialization process takes time. You have to download huge zipped package, unpack it, run Gradle script with installation recipe, compile project, run initialization and finally start the server.</p><h2 id=automating-work>Automating work<a hidden class=anchor aria-hidden=true href=#automating-work>#</a></h2><p>I wondered if it&rsquo;s possible to automate mentioned process. Moreover, I wanted to learn more about <a href=https://www.docker.com/>Docker</a> and create more advanced <code>Dockerfile</code> than &ldquo;hello world&rdquo;, which will be real life use case. That&rsquo;s why I decided to dockerize SAP Hybris Commerce Suite. I called this project <a href=https://github.com/pwittchen/ydocker><strong>ydocker</strong></a> and you can find it at <a href=https://github.com/pwittchen/ydocker>https://github.com/pwittchen/ydocker</a>. Before you start doing anything, you need to remember to install Docker on your system. You can check out my notes about <a href=https://github.com/pwittchen/learning-docker#installation-on-linux>installation Docker on Linux</a> in <a href=https://github.com/pwittchen/learning-docker>learning-docker</a> repository. <strong>Note #1</strong>: <strong>It&rsquo;s not official company solution</strong> yet. Right now it&rsquo;s just my personal proof of concept. <strong>Note #2</strong>: I had problems with building and running this Docker container on OS X and I haven&rsquo;t tested it on MS Windows. These systems need to use boot2docker, Docker Toolbox or another approach like that. <strong>I had no problems with it on Linux (Ubuntu 14.04 LTS)</strong>, so this system is recommended if you want to build and run this container successfully. Probably other Linux distributions or Ubuntu versions will handle this as well. <strong>Note #3 (update from 01.10.2016)</strong>: Guys working on Docker improved their software for Mac, so it should work without any problems on this system now. It was tested on OS X El Capitan 10.11.6 and works fine. We just need to get <a href=https://docs.docker.com/docker-for-mac/>Docker for Mac</a>.</p><h2 id=building-docker-container>Building Docker container<a hidden class=anchor aria-hidden=true href=#building-docker-container>#</a></h2><p>Except for <code>Dockerfile</code>, ydocker repository also contains helper script <code>ydocker</code>, which has the following parameters:</p><pre tabindex=0><code>-b    building Docker container
-r    running Hybris Server in Docker container
-c    running Docker container with CLI
-i    showing info about Docker container
-u    showing Commerce Suite Download Url
-d    deleting Docker container
-h    showing help
</code></pre><p>This script uses configuration file <code>ydocker.conf</code>, which has the following contents:</p><pre tabindex=0><code>DOCKER_IMAGE_NAME=sap-hybris-commerce-suite
COMMERCE_SUITE_VERSION=latest
RECIPE=b2c_acc
HOST_PORT=9002
CONTAINER_PORT=9002
</code></pre><p>You can customize this configuration. E.g. choose a different version of the suite, different recipe or change server port.
To build container, you can just type:</p><pre tabindex=0><code>./ydocker -b
</code></pre><p>Then, provide your credentials and Docker will:</p><ol><li>create container based on Ubuntu</li><li>install Java 8</li><li>set Java 8 as default Java version</li><li>install wget</li><li>download SAP Hybris Commerce Suite via wget</li><li>unpack downloaded SAP Hybris Commerce Suite</li><li>remove downloaded zipped package to save some disk space</li><li>run configured installation recipe</li><li>compile the project</li><li>run system initialization</li></ol><p>It may take some time. If you have good hardware setup it may take about 30 minutes.</p><h2 id=running-docker-container>Running Docker container<a hidden class=anchor aria-hidden=true href=#running-docker-container>#</a></h2><p>When everything is done, you can run docker image, with the command:</p><pre tabindex=0><code>./ydocker -r
</code></pre><p>After that, Docker will start the server at <code>localhost</code> (<code>127.0.0.1</code>) and port <code>9002</code>, which is exposed. Commerce Suite will be started in a default configuration, which is not production ready, but is good for testing and demonstration purposes. You need to wait for a few minutes to let the server warm up and then you can open administration console from the browser at <code>http://127.0.0.1:9002</code>. In addition, if you want to browse generated configuration or unpacked suite, you can run Docker container with CLI with the following command:</p><pre tabindex=0><code>./ydocker -c
</code></pre><p>It won&rsquo;t start the server, but allow you to take a look around container via terminal.</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>That&rsquo;s it! This proof of concept shows that we can get, build and run complicated and a huge project like SAP Hybris Commerce Suite inside Docker container, automate a lot of manual work and transform old school manual deployment and build process into elegant and standardized Docker container.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://wittchen.io/posts/lifting-quality-of-a-shell-script/><span class=title>« Prev</span><br><span>Lifting quality of a shell script</span>
</a><a class=next href=https://wittchen.io/posts/reactive-network-2/><span class=title>Next »</span><br><span>ReactiveNetwork - release of v. 0.2.0</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://wittchen.io/>Piotr Wittchen</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>