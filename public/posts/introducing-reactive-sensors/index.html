<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Introducing ReactiveSensors | Piotr Wittchen</title><meta name=keywords content="android"><meta name=description content="Another month, another library. Recently, I&rsquo;ve released yet another reactive library called ReactiveSensors. It&rsquo;s an open-source Android library monitoring hardware sensors with RxJava Observables. Library is compatible with RxJava 1.0.+ and RxAndroid 1.0.+ and uses them under the hood.
Library is available at: https://github.com/pwittchen/ReactiveSensors.
In my opinion, hardware sensors are perfect case for applying RxJava, because in fact we&rsquo;re constantly receiving a stream of events emitted by many sensors. With Reactive Programming approach we have plenty of possibilities and easy API for manipulating received sensor&rsquo;s data."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/posts/introducing-reactive-sensors/><link crossorigin=anonymous href=/assets/css/stylesheet.cdcf872f971c70fddc7fd480e8457cd308ed0cf287b498bcdc6183fc6d147858.css integrity="sha256-zc+HL5cccP3cf9SA6EV80wjtDPKHtJi83GGD/G0UeFg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Introducing ReactiveSensors"><meta property="og:description" content="Another month, another library. Recently, I&rsquo;ve released yet another reactive library called ReactiveSensors. It&rsquo;s an open-source Android library monitoring hardware sensors with RxJava Observables. Library is compatible with RxJava 1.0.+ and RxAndroid 1.0.+ and uses them under the hood.
Library is available at: https://github.com/pwittchen/ReactiveSensors.
In my opinion, hardware sensors are perfect case for applying RxJava, because in fact we&rsquo;re constantly receiving a stream of events emitted by many sensors. With Reactive Programming approach we have plenty of possibilities and easy API for manipulating received sensor&rsquo;s data."><meta property="og:type" content="article"><meta property="og:url" content="https://wittchen.io/posts/introducing-reactive-sensors/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-09-05T20:03:00+00:00"><meta property="article:modified_time" content="2015-09-05T20:03:00+00:00"><meta property="og:site_name" content="Piotr Wittchen"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introducing ReactiveSensors"><meta name=twitter:description content="Another month, another library. Recently, I&rsquo;ve released yet another reactive library called ReactiveSensors. It&rsquo;s an open-source Android library monitoring hardware sensors with RxJava Observables. Library is compatible with RxJava 1.0.+ and RxAndroid 1.0.+ and uses them under the hood.
Library is available at: https://github.com/pwittchen/ReactiveSensors.
In my opinion, hardware sensors are perfect case for applying RxJava, because in fact we&rsquo;re constantly receiving a stream of events emitted by many sensors. With Reactive Programming approach we have plenty of possibilities and easy API for manipulating received sensor&rsquo;s data."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wittchen.io/posts/"},{"@type":"ListItem","position":2,"name":"Introducing ReactiveSensors","item":"https://wittchen.io/posts/introducing-reactive-sensors/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Introducing ReactiveSensors","name":"Introducing ReactiveSensors","description":"Another month, another library. Recently, I\u0026rsquo;ve released yet another reactive library called ReactiveSensors. It\u0026rsquo;s an open-source Android library monitoring hardware sensors with RxJava Observables. Library is compatible with RxJava 1.0.+ and RxAndroid 1.0.+ and uses them under the hood.\nLibrary is available at: https://github.com/pwittchen/ReactiveSensors.\nIn my opinion, hardware sensors are perfect case for applying RxJava, because in fact we\u0026rsquo;re constantly receiving a stream of events emitted by many sensors. With Reactive Programming approach we have plenty of possibilities and easy API for manipulating received sensor\u0026rsquo;s data.","keywords":["android"],"articleBody":"Another month, another library. Recently, I’ve released yet another reactive library called ReactiveSensors. It’s an open-source Android library monitoring hardware sensors with RxJava Observables. Library is compatible with RxJava 1.0.+ and RxAndroid 1.0.+ and uses them under the hood.\nLibrary is available at: https://github.com/pwittchen/ReactiveSensors.\nIn my opinion, hardware sensors are perfect case for applying RxJava, because in fact we’re constantly receiving a stream of events emitted by many sensors. With Reactive Programming approach we have plenty of possibilities and easy API for manipulating received sensor’s data.\nUsage of the library is really simple. You just need to subscribe an Observable with RxJava in the same way like in any other reactive library.\nCode sample below demonstrates how to observe Gyroscope sensor:\nnew ReactiveSensors(context).observeSensor(Sensor.TYPE_GYROSCOPE) .subscribeOn(Schedulers.io()) .filter(ReactiveSensorEvent.filterSensorChanged()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Action1ReactiveSensorEvent() { @Override public void call(ReactiveSensorEvent reactiveSensorEvent) { SensorEvent event = reactiveSensorEvent.getSensorEvent(); float x = event.values[0]; float y = event.values[1]; float z = event.values[2]; String message = String.format(\"x = %f, y = %f, z = %f\", x, y, z); Log.d(\"gyroscope readings\", message); } }); } Please note that we are filtering events occuring when sensors reading change with ReactiveSensorEvent.filterSensorChanged() method. There’s also event describing change of sensor’s accuracy, which can be filtered with ReactiveSensorEvent.filterAccuracyChanged() method. When we don’t apply any filter, we will be notified both about sensor readings and accuracy changes.\nWe can observe any hardware sensor in the same way. You can check list of all sensors in official Android documentation.\nI’ve created section about Good Practices regarding working with hardware sensors on Android in README.md file in the GitHub repository.You should also read an article about Best Practices for Accessing and Using Sensors in official Android documentation.\nRead more in the README.md file located in the repository of the library at: https://github.com/pwittchen/ReactiveSensors.\nYou can also find JavaDoc at: http://pwittchen.github.io/ReactiveSensors/.\nIf you want to use ReactiveSensors in your project, add the following dependency to your build.gradle file:\ndependencies { compile 'com.github.pwittchen:reactivesensors:0.0.1' } Feel free to send me feedback, report an issue or fork the library!\n","wordCount":"334","inLanguage":"en","datePublished":"2015-09-05T20:03:00Z","dateModified":"2015-09-05T20:03:00Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/posts/introducing-reactive-sensors/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)"><img src=https://wittchen.io/apple-touch-icon.png alt aria-label=logo height=35>Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://github.com/pwittchen title=code><span>code</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://wittchen.io/setup/ title=setup><span>setup</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/posts/>Posts</a></div><h1 class=post-title>Introducing ReactiveSensors</h1><div class=post-meta><span title="2015-09-05 20:03:00 +0000 UTC">September 5, 2015</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;334 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/posts/introducing-reactive-sensors.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Another month, another library. Recently, I&rsquo;ve released yet another reactive library called <a href=https://github.com/pwittchen/ReactiveSensors>ReactiveSensors</a>. It&rsquo;s an open-source Android library monitoring hardware sensors with RxJava Observables. Library is compatible with RxJava 1.0.+ and RxAndroid 1.0.+ and uses them under the hood.</p><p>Library is available at: <a href=https://github.com/pwittchen/ReactiveSensors>https://github.com/pwittchen/ReactiveSensors</a>.</p><p>In my opinion, hardware sensors are perfect case for applying RxJava, because in fact we&rsquo;re constantly receiving a stream of events emitted by many sensors. With Reactive Programming approach we have plenty of possibilities and easy API for manipulating received sensor&rsquo;s data.</p><p>Usage of the library is really simple. You just need to subscribe an Observable with RxJava in the same way like in any other reactive library.</p><p>Code sample below demonstrates how to observe Gyroscope sensor:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>new</span> <span class=n>ReactiveSensors</span><span class=o>(</span><span class=n>context</span><span class=o>).</span><span class=na>observeSensor</span><span class=o>(</span><span class=n>Sensor</span><span class=o>.</span><span class=na>TYPE_GYROSCOPE</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=na>subscribeOn</span><span class=o>(</span><span class=n>Schedulers</span><span class=o>.</span><span class=na>io</span><span class=o>())</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=na>filter</span><span class=o>(</span><span class=n>ReactiveSensorEvent</span><span class=o>.</span><span class=na>filterSensorChanged</span><span class=o>())</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=na>observeOn</span><span class=o>(</span><span class=n>AndroidSchedulers</span><span class=o>.</span><span class=na>mainThread</span><span class=o>())</span>
</span></span><span class=line><span class=cl>    <span class=o>.</span><span class=na>subscribe</span><span class=o>(</span><span class=k>new</span> <span class=n>Action1</span><span class=o>&lt;</span><span class=n>ReactiveSensorEvent</span><span class=o>&gt;()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=nd>@Override</span> <span class=kd>public</span> <span class=kt>void</span> <span class=nf>call</span><span class=o>(</span><span class=n>ReactiveSensorEvent</span> <span class=n>reactiveSensorEvent</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>SensorEvent</span> <span class=n>event</span> <span class=o>=</span> <span class=n>reactiveSensorEvent</span><span class=o>.</span><span class=na>getSensorEvent</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>float</span> <span class=n>x</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=na>values</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>float</span> <span class=n>y</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=na>values</span><span class=o>[</span><span class=n>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>float</span> <span class=n>z</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=na>values</span><span class=o>[</span><span class=n>2</span><span class=o>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>String</span> <span class=n>message</span> <span class=o>=</span> <span class=n>String</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=s>&#34;x = %f, y = %f, z = %f&#34;</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>z</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>Log</span><span class=o>.</span><span class=na>d</span><span class=o>(</span><span class=s>&#34;gyroscope readings&#34;</span><span class=o>,</span> <span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>});</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>Please note that we are filtering events occuring when sensors reading change with <code>ReactiveSensorEvent.filterSensorChanged()</code> method. There&rsquo;s also event describing change of sensor&rsquo;s accuracy, which can be filtered with <code>ReactiveSensorEvent.filterAccuracyChanged()</code> method. When we don&rsquo;t apply any filter, we will be notified both about sensor readings and accuracy changes.</p><p>We can observe <strong>any hardware sensor</strong> in the same way. You can check <a href=http://developer.android.com/guide/topics/sensors/sensors_overview.html#sensors-intro>list of all sensors in official Android documentation</a>.</p><p>I&rsquo;ve created <a href=https://github.com/pwittchen/ReactiveSensors#good-practices>section about Good Practices</a> regarding working with hardware sensors on Android in <code>README.md</code> file in the GitHub repository.You should also read an article about <a href=http://developer.android.com/guide/topics/sensors/sensors_overview.html#sensors-practices>Best Practices for Accessing and Using Sensors in official Android documentation</a>.</p><p>Read more in the <code>README.md</code> file located in the repository of the library at: <a href=https://github.com/pwittchen/ReactiveSensors>https://github.com/pwittchen/ReactiveSensors</a>.</p><p>You can also find JavaDoc at: <a href=http://pwittchen.github.io/ReactiveSensors/>http://pwittchen.github.io/ReactiveSensors/</a>.</p><p>If you want to use ReactiveSensors in your project, add the following dependency to your <code>build.gradle</code> file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gradle data-lang=gradle><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>compile</span> <span class=s1>&#39;com.github.pwittchen:reactivesensors:0.0.1&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>Feel free to send me feedback, report an issue or fork the library!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/android/>android</a></li></ul><nav class=paginav><a class=prev href=https://wittchen.io/posts/using-tmux/><span class=title>« Prev</span><br><span>Using tmux</span></a>
<a class=next href=https://wittchen.io/posts/learning-python/><span class=title>Next »</span><br><span>Learning python</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://wittchen.io/>Piotr Wittchen</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>