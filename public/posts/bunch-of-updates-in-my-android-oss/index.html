<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bunch of updates in my OSS for Android | Piotr Wittchen</title><meta name=keywords content="android,open-source"><meta name=description content="Introduction In the last days I prepared a bunch of updates in my open-source software for Android. Most of them are bug fixes and are related to increasing robustness of the projects as well as their overall quality. I also decided to play a little with Kotlin language from JetBrains, which seems to be reasonable choice for mobile applications running on Android. Nevertheless, writing an app in Kotlin requires some additional configuration and we should remember, it&rsquo;s still in beta version."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/posts/bunch-of-updates-in-my-android-oss/><link crossorigin=anonymous href=/assets/css/stylesheet.cdcf872f971c70fddc7fd480e8457cd308ed0cf287b498bcdc6183fc6d147858.css integrity="sha256-zc+HL5cccP3cf9SA6EV80wjtDPKHtJi83GGD/G0UeFg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Bunch of updates in my OSS for Android"><meta property="og:description" content="Introduction In the last days I prepared a bunch of updates in my open-source software for Android. Most of them are bug fixes and are related to increasing robustness of the projects as well as their overall quality. I also decided to play a little with Kotlin language from JetBrains, which seems to be reasonable choice for mobile applications running on Android. Nevertheless, writing an app in Kotlin requires some additional configuration and we should remember, it&rsquo;s still in beta version."><meta property="og:type" content="article"><meta property="og:url" content="https://wittchen.io/posts/bunch-of-updates-in-my-android-oss/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-11-08T16:53:00+00:00"><meta property="article:modified_time" content="2015-11-08T16:53:00+00:00"><meta property="og:site_name" content="Piotr Wittchen"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bunch of updates in my OSS for Android"><meta name=twitter:description content="Introduction In the last days I prepared a bunch of updates in my open-source software for Android. Most of them are bug fixes and are related to increasing robustness of the projects as well as their overall quality. I also decided to play a little with Kotlin language from JetBrains, which seems to be reasonable choice for mobile applications running on Android. Nevertheless, writing an app in Kotlin requires some additional configuration and we should remember, it&rsquo;s still in beta version."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wittchen.io/posts/"},{"@type":"ListItem","position":2,"name":"Bunch of updates in my OSS for Android","item":"https://wittchen.io/posts/bunch-of-updates-in-my-android-oss/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bunch of updates in my OSS for Android","name":"Bunch of updates in my OSS for Android","description":"Introduction In the last days I prepared a bunch of updates in my open-source software for Android. Most of them are bug fixes and are related to increasing robustness of the projects as well as their overall quality. I also decided to play a little with Kotlin language from JetBrains, which seems to be reasonable choice for mobile applications running on Android. Nevertheless, writing an app in Kotlin requires some additional configuration and we should remember, it\u0026rsquo;s still in beta version.","keywords":["android","open-source"],"articleBody":"Introduction In the last days I prepared a bunch of updates in my open-source software for Android. Most of them are bug fixes and are related to increasing robustness of the projects as well as their overall quality. I also decided to play a little with Kotlin language from JetBrains, which seems to be reasonable choice for mobile applications running on Android. Nevertheless, writing an app in Kotlin requires some additional configuration and we should remember, it’s still in beta version. If you are interested in Kotlin programming for Android, take a look at Getting started with Android and Kotlin guide from official Kotlin website. You can also take a look at one of my sample apps written in Kotlin and its configuration in Gradle.\nSummary of updates ReactiveNetwork v. 0.1.3  fixed bug with incorrect status after going back from background inside the sample app reported in issue #31 fixed RxJava usage in sample app fixed RxJava usage in code snippets in README.md added static code analysis updated code formatting added sample sample app in Kotlin  Unfortunately, in Android we cannot use Java 8 yet and code should be written in Java 7. We can do some hacks like using RetroLambda or libraries implementing part of functionalities available in Java 8 like streams, but these solutions are still hacks - not the right way. In Kotlin we can use lambdas like in Java 8. In addition, we have a lot of other cool features, which allow us to write less lines of code and detect possible mistakes while writing apps. E.g. Kotlin helps us to avoid NPEs with its additional operators like !!, which tells us that NPE can occur, so we can think of eliminating this possibility. If we don’t use this operator when we should, IntelliJ IDEA or Android Studio will warn us. Below, we can see exemplary usage of ReactiveNetwork library with Kotlin. In this code snippet, we are using so called synthetic properties from Kotlin Extensions for Android. Value connectivity_status is an id of the view defined in XML layout. We can call it directly in Kotlin code and treat as object. It’s really useful and allows us to avoid calling findViewById(...) method for every view in Activity or injecting views with additional libraries like ButterKnife or KotterKnife. It means that we can get rid of a lot of boilerplate code.\nReactiveSensors  fixed RxJava usage in sample app fixed RxJava usage in code snippets in README.md added static code analysis refactored sample app and removed repetitions in code  In this project I made only changes inside the documentation, improved Gradle configuration and added another sample app. There were no changes inside the library code, so there was no need to release new library version to Maven Central Repository. Moreover, I’m going to add sample app in Kotlin for this project in the nearest future.\nReactiveBeacons v. 0.3.0  replaced distinct() operator with distinctUntilChanged() operator in Observable observe() method in ReactiveBeacons class added permissions ACCESS_FINE_LOCATION and ACCESS_COARSE_LOCATION to satisfy requirements of Android 6 renamed void requestBluetoothAccessIfDisabled(activity) method to void requestBluetoothAccess(activity) added boolean isBluetoothEnabled() method added boolean isLocationEnabled(context) method added void requestLocationAccess(activity) method modified sample app in order to make it work on Android 6 Marshmallow reduced target API from 23 to 22 in library due to problems with additional permissions and new permission model (it can be subject of improvements in the next releases) added package private AccessRequester class added sample app in Kotlin  WeatherIconView v. 1.1.0  added icons from 2.0 version of the original weather-icons project updated compile sdk version updated Gradle Build Tools version  Prefser v. 2.0.2  fixed bug reported in issue #70: get(...) method now returns a null value instead of “null” string when setting default value to null of String type fixed RxJava usage in sample app fixed RxJava usage in code snippets in README.md changed code formatting to SquareAndroid added static code analysis improved code according to static code analysis suggestions  Kirai v. 1.1.0  removed formatter(...) method from Kirai class added format(...) method accepting implementation of Formatter interface to Kirai class added Syntax interface and HtmlSyntax class implementing this interface added put(String key, Object value, Syntax syntax) method to Piece class set HtmlSyntax as default Syntax implementation in Piece class removed dependencies to Android SDK updated project dependencies applied Square code style updated tests, sample app and code snippets in README.md added gh-pages with JavaDoc  Any suggestions of further improvements are more than welcome as usual!\n","wordCount":"743","inLanguage":"en","datePublished":"2015-11-08T16:53:00Z","dateModified":"2015-11-08T16:53:00Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/posts/bunch-of-updates-in-my-android-oss/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)">Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/posts/>Posts</a></div><h1 class=post-title>Bunch of updates in my OSS for Android</h1><div class=post-meta><span title="2015-11-08 16:53:00 +0000 UTC">November 8, 2015</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;743 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/posts/bunch-of-updates-in-my-android-oss.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>In the last days I prepared a bunch of updates in my open-source software for Android. Most of them are bug fixes and are related to increasing robustness of the projects as well as their overall quality. I also decided to play a little with <a href=https://kotlinlang.org/>Kotlin</a> language from JetBrains, which seems to be reasonable choice for mobile applications running on Android. Nevertheless, writing an app in Kotlin requires some additional configuration and we should remember, it&rsquo;s still in beta version. If you are interested in Kotlin programming for Android, take a look at <a href=https://kotlinlang.org/docs/tutorials/kotlin-android.html>Getting started with Android and Kotlin</a> guide from official Kotlin website. You can also take a look at <a href=https://github.com/pwittchen/ReactiveNetwork/tree/master/app-kotlin>one of my sample apps</a> written in Kotlin and <a href=https://github.com/pwittchen/ReactiveNetwork/blob/master/app-kotlin/build.gradle>its configuration in Gradle</a>.</p><h2 id=summary-of-updates>Summary of updates<a hidden class=anchor aria-hidden=true href=#summary-of-updates>#</a></h2><h3 id=reactivenetworkhttpsgithubcompwittchenreactivenetwork-v-013><a href=https://github.com/pwittchen/ReactiveNetwork>ReactiveNetwork</a> v. 0.1.3<a hidden class=anchor aria-hidden=true href=#reactivenetworkhttpsgithubcompwittchenreactivenetwork-v-013>#</a></h3><ul><li>fixed bug with incorrect status after going back from background inside the sample app reported in issue <a href=https://github.com/pwittchen/ReactiveNetwork/issues/31>#31</a></li><li>fixed RxJava usage in sample app</li><li>fixed RxJava usage in code snippets in <code>README.md</code></li><li>added static code analysis</li><li>updated code formatting</li><li>added sample <a href=https://github.com/pwittchen/ReactiveNetwork/tree/master/app-kotlin>sample app in Kotlin</a></li></ul><p>Unfortunately, in Android we cannot use Java 8 yet and code should be written in Java 7. We can do some hacks like using RetroLambda or libraries implementing part of functionalities available in Java 8 like streams, but these solutions are still hacks - not the right way. In Kotlin we can use lambdas like in Java 8. In addition, we have a lot of other cool features, which allow us to write less lines of code and detect possible mistakes while writing apps. E.g. Kotlin helps us to avoid NPEs with its additional operators like <code>!!</code>, which tells us that NPE can occur, so we can think of eliminating this possibility. If we don&rsquo;t use this operator when we should, IntelliJ IDEA or Android Studio will warn us. Below, we can see exemplary usage of ReactiveNetwork library with Kotlin. In this code snippet, we are using so called <em>synthetic properties</em> from <a href=https://kotlinlang.org/docs/tutorials/android-plugin.html>Kotlin Extensions for Android</a>. Value <code>connectivity_status</code> is an id of the view defined in XML layout. We can call it directly in Kotlin code and treat as object. It&rsquo;s really useful and allows us to avoid calling <code>findViewById(...)</code> method for every view in Activity or injecting views with additional libraries like ButterKnife or KotterKnife. It means that we can get rid of a lot of boilerplate code.</p><h3 id=reactivesensorshttpsgithubcompwittchenreactivesensors><a href=https://github.com/pwittchen/ReactiveSensors>ReactiveSensors</a><a hidden class=anchor aria-hidden=true href=#reactivesensorshttpsgithubcompwittchenreactivesensors>#</a></h3><ul><li>fixed RxJava usage in sample app</li><li>fixed RxJava usage in code snippets in <code>README.md</code></li><li>added static code analysis</li><li>refactored sample app and removed repetitions in code</li></ul><p>In this project I made only changes inside the documentation, improved Gradle configuration and added another sample app. There were no changes inside the library code, so there was no need to release new library version to Maven Central Repository. Moreover, I&rsquo;m going to add sample app in Kotlin for this project in the nearest future.</p><h3 id=reactivebeaconshttpsgithubcompwittchenreactivebeacons-v-030><a href=https://github.com/pwittchen/ReactiveBeacons>ReactiveBeacons</a> v. 0.3.0<a hidden class=anchor aria-hidden=true href=#reactivebeaconshttpsgithubcompwittchenreactivebeacons-v-030>#</a></h3><ul><li>replaced <code>distinct()</code> operator with <code>distinctUntilChanged()</code> operator in <code>Observable observe()</code> method in <code>ReactiveBeacons</code> class</li><li>added permissions <code>ACCESS_FINE_LOCATION</code> and <code>ACCESS_COARSE_LOCATION</code> to satisfy requirements of Android 6</li><li>renamed <code>void requestBluetoothAccessIfDisabled(activity)</code> method to <code>void requestBluetoothAccess(activity)</code></li><li>added <code>boolean isBluetoothEnabled()</code> method</li><li>added <code>boolean isLocationEnabled(context)</code> method</li><li>added <code>void requestLocationAccess(activity)</code> method</li><li>modified sample app in order to make it work on Android 6 Marshmallow</li><li>reduced target API from 23 to 22 in library due to problems with additional permissions and new permission model (it can be subject of improvements in the next releases)</li><li>added package private <code>AccessRequester</code> class</li><li>added <a href=https://github.com/pwittchen/ReactiveBeacons/tree/master/app-kotlin>sample app in Kotlin</a></li></ul><h3 id=weathericonviewhttpsgithubcompwittchenweathericonview-v-110><a href=https://github.com/pwittchen/WeatherIconView>WeatherIconView</a> v. 1.1.0<a hidden class=anchor aria-hidden=true href=#weathericonviewhttpsgithubcompwittchenweathericonview-v-110>#</a></h3><ul><li>added icons from 2.0 version of the original <a href=https://github.com/erikflowers/weather-icons/>weather-icons project</a></li><li>updated compile sdk version</li><li>updated Gradle Build Tools version</li></ul><h3 id=prefserhttpsgithubcompwittchenprefser-v-202><a href=https://github.com/pwittchen/prefser>Prefser</a> v. 2.0.2<a hidden class=anchor aria-hidden=true href=#prefserhttpsgithubcompwittchenprefser-v-202>#</a></h3><ul><li>fixed bug reported in issue <a href=https://github.com/pwittchen/prefser/issues/70>#70</a>: <code>get(...)</code> method now returns a <code>null</code> value instead of &ldquo;null&rdquo; string when setting default value to null of String type</li><li>fixed RxJava usage in sample app</li><li>fixed RxJava usage in code snippets in <code>README.md</code></li><li>changed code formatting to <code>SquareAndroid</code></li><li>added static code analysis</li><li>improved code according to static code analysis suggestions</li></ul><h3 id=kiraihttpsgithubcompwittchenkirai-v-110><a href=https://github.com/pwittchen/kirai>Kirai</a> v. 1.1.0<a hidden class=anchor aria-hidden=true href=#kiraihttpsgithubcompwittchenkirai-v-110>#</a></h3><ul><li>removed <code>formatter(...)</code> method from <code>Kirai</code> class</li><li>added <code>format(...)</code> method accepting implementation of <code>Formatter</code> interface to <code>Kirai</code> class</li><li>added <code>Syntax</code> interface and <code>HtmlSyntax</code> class implementing this interface</li><li>added <code>put(String key, Object value, Syntax syntax)</code> method to <code>Piece</code> class</li><li>set <code>HtmlSyntax</code> as default <code>Syntax</code> implementation in <code>Piece</code> class</li><li>removed dependencies to Android SDK</li><li>updated project dependencies</li><li>applied <code>Square</code> code style</li><li>updated tests, sample app and code snippets in <code>README.md</code></li><li>added gh-pages with JavaDoc</li></ul><p>Any suggestions of further improvements are more than welcome as usual!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/android/>android</a></li><li><a href=https://wittchen.io/tags/open-source/>open-source</a></li></ul><nav class=paginav><a class=prev href=https://wittchen.io/posts/new-release-of-kirai-140/><span class=title>« Prev</span><br><span>New release of Kirai - elegant string formatting library for Java</span></a>
<a class=next href=https://wittchen.io/posts/an-opinionated-guide-to-modern-java-by-parallel-universe/><span class=title>Next »</span><br><span>An Opinionated Guide to Modern Java by Parallel Universe</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://wittchen.io/>Piotr Wittchen</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>