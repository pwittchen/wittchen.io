<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to change Fragment layout on orientation change? | Piotr Wittchen</title><meta name=keywords content="android,java"><meta name=description content="When we work with Activities in Android, defining different layouts for different screen orientations is easy. The only thing we need to do, is to create two *.xml files with the same name for layouts in two separate directories (res/layout/ and res/layout-land/). In Fragments it&rsquo;s not that easy. In such case, we need to perform additional operations in order to achieve our goal. Fragment in Android is not re-inflated on configuration change, but we can recreate layout and repopulate view manually."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/posts/how-to-change-fragment-layout-on-orientation-change/><link crossorigin=anonymous href=/assets/css/stylesheet.cdcf872f971c70fddc7fd480e8457cd308ed0cf287b498bcdc6183fc6d147858.css integrity="sha256-zc+HL5cccP3cf9SA6EV80wjtDPKHtJi83GGD/G0UeFg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="How to change Fragment layout on orientation change?"><meta property="og:description" content="When we work with Activities in Android, defining different layouts for different screen orientations is easy. The only thing we need to do, is to create two *.xml files with the same name for layouts in two separate directories (res/layout/ and res/layout-land/). In Fragments it&rsquo;s not that easy. In such case, we need to perform additional operations in order to achieve our goal. Fragment in Android is not re-inflated on configuration change, but we can recreate layout and repopulate view manually."><meta property="og:type" content="article"><meta property="og:url" content="https://wittchen.io/posts/how-to-change-fragment-layout-on-orientation-change/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-08-15T22:50:00+00:00"><meta property="article:modified_time" content="2013-08-15T22:50:00+00:00"><meta property="og:site_name" content="Piotr Wittchen"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to change Fragment layout on orientation change?"><meta name=twitter:description content="When we work with Activities in Android, defining different layouts for different screen orientations is easy. The only thing we need to do, is to create two *.xml files with the same name for layouts in two separate directories (res/layout/ and res/layout-land/). In Fragments it&rsquo;s not that easy. In such case, we need to perform additional operations in order to achieve our goal. Fragment in Android is not re-inflated on configuration change, but we can recreate layout and repopulate view manually."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wittchen.io/posts/"},{"@type":"ListItem","position":2,"name":"How to change Fragment layout on orientation change?","item":"https://wittchen.io/posts/how-to-change-fragment-layout-on-orientation-change/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to change Fragment layout on orientation change?","name":"How to change Fragment layout on orientation change?","description":"When we work with Activities in Android, defining different layouts for different screen orientations is easy. The only thing we need to do, is to create two *.xml files with the same name for layouts in two separate directories (res/layout/ and res/layout-land/). In Fragments it\u0026rsquo;s not that easy. In such case, we need to perform additional operations in order to achieve our goal. Fragment in Android is not re-inflated on configuration change, but we can recreate layout and repopulate view manually.","keywords":["android","java"],"articleBody":"When we work with Activities in Android, defining different layouts for different screen orientations is easy. The only thing we need to do, is to create two *.xml files with the same name for layouts in two separate directories (res/layout/ and res/layout-land/). In Fragments it’s not that easy. In such case, we need to perform additional operations in order to achieve our goal. Fragment in Android is not re-inflated on configuration change, but we can recreate layout and repopulate view manually. We need to create two layouts for different orientations of the screen in the same way as for Activity:\n res/layout/my_fragment.xml res/layout-land/my_fragment.xml  Then, we need to put code shown below to our fragment. Of course, it requires little adjustments depending on concrete project.\npublic class MyFragment extends Fragment { @Override public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle bundle) { View view = inflater.inflate(R.layout.my_fragment, container, false); // Find your buttons in view, set up onclicks, set up callbacks to your parent fragment or activity here.  // You can create ViewHolder or separate method for that.  // example of accessing views: TextView textViewExample = (TextView) view.findViewById(R.id.text_view_example);  // textViewExample.setText(\"example\");  return view; } @Override public void onConfigurationChanged(Configuration newConfig) { super.onConfigurationChanged(newConfig); LayoutInflater inflater = LayoutInflater.from(getActivity()); populateViewForOrientation(inflater, (ViewGroup) getView()); } private void populateViewForOrientation(LayoutInflater inflater, ViewGroup viewGroup) { viewGroup.removeAllViewsInLayout(); View subview = inflater.inflate(R.layout.my_fragment, viewGroup); // Find your buttons in subview, set up onclicks, set up callbacks to your parent fragment or activity here.  // You can create ViewHolder or separate method for that.  // example of accessing views: TextView textViewExample = (TextView) view.findViewById(R.id.text_view_example);  // textViewExample.setText(\"example\");  } } That’s it!\n","wordCount":"262","inLanguage":"en","datePublished":"2013-08-15T22:50:00Z","dateModified":"2013-08-15T22:50:00Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/posts/how-to-change-fragment-layout-on-orientation-change/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)">Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/posts/>Posts</a></div><h1 class=post-title>How to change Fragment layout on orientation change?</h1><div class=post-meta><span title="2013-08-15 22:50:00 +0000 UTC">August 15, 2013</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;262 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/posts/how-to-change-fragment-layout-on-orientation-change.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>When we work with Activities in Android, defining different layouts for different screen orientations is easy. The only thing we need to do, is to create two <code>*.xml</code> files with the same name for layouts in two separate directories (<em>res/layout/</em> and <em>res/layout-land/</em>). In <a href=http://developer.android.com/guide/components/fragments.html>Fragments</a> it&rsquo;s not that easy. In such case, we need to perform additional operations in order to achieve our goal. Fragment in Android is not re-inflated on configuration change, but we can recreate layout and repopulate view manually. We need to create two layouts for different orientations of the screen in the same way as for Activity:</p><ul><li><code>res/layout/my_fragment.xml</code></li><li><code>res/layout-land/my_fragment.xml</code></li></ul><p>Then, we need to put code shown below to our fragment. Of course, it requires little adjustments depending on concrete project.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MyFragment</span> <span class=kd>extends</span> <span class=n>Fragment</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>View</span> <span class=nf>onCreateView</span><span class=o>(</span><span class=n>LayoutInflater</span> <span class=n>inflater</span><span class=o>,</span> <span class=n>ViewGroup</span> <span class=n>container</span><span class=o>,</span> <span class=n>Bundle</span> <span class=n>bundle</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>View</span> <span class=n>view</span> <span class=o>=</span> <span class=n>inflater</span><span class=o>.</span><span class=na>inflate</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>layout</span><span class=o>.</span><span class=na>my_fragment</span><span class=o>,</span> <span class=n>container</span><span class=o>,</span> <span class=kc>false</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// Find your buttons in view, set up onclicks, set up callbacks to your parent fragment or activity here.
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>        <span class=c1>// You can create ViewHolder or separate method for that.
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// example of accessing views: TextView textViewExample = (TextView) view.findViewById(R.id.text_view_example);
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// textViewExample.setText(&#34;example&#34;);
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>view</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onConfigurationChanged</span><span class=o>(</span><span class=n>Configuration</span> <span class=n>newConfig</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>.</span><span class=na>onConfigurationChanged</span><span class=o>(</span><span class=n>newConfig</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>LayoutInflater</span> <span class=n>inflater</span> <span class=o>=</span> <span class=n>LayoutInflater</span><span class=o>.</span><span class=na>from</span><span class=o>(</span><span class=n>getActivity</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>populateViewForOrientation</span><span class=o>(</span><span class=n>inflater</span><span class=o>,</span> <span class=o>(</span><span class=n>ViewGroup</span><span class=o>)</span> <span class=n>getView</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>void</span> <span class=nf>populateViewForOrientation</span><span class=o>(</span><span class=n>LayoutInflater</span> <span class=n>inflater</span><span class=o>,</span> <span class=n>ViewGroup</span> <span class=n>viewGroup</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>viewGroup</span><span class=o>.</span><span class=na>removeAllViewsInLayout</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>View</span> <span class=n>subview</span> <span class=o>=</span> <span class=n>inflater</span><span class=o>.</span><span class=na>inflate</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>layout</span><span class=o>.</span><span class=na>my_fragment</span><span class=o>,</span> <span class=n>viewGroup</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Find your buttons in subview, set up onclicks, set up callbacks to your parent fragment or activity here.
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>        <span class=c1>// You can create ViewHolder or separate method for that.
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// example of accessing views: TextView textViewExample = (TextView) view.findViewById(R.id.text_view_example);
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// textViewExample.setText(&#34;example&#34;);
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>That&rsquo;s it!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/android/>android</a></li><li><a href=https://wittchen.io/tags/java/>java</a></li></ul><nav class=paginav><a class=prev href=https://wittchen.io/posts/asynchronous-loading-and-caching-bitmaps-with-volley/><span class=title>« Prev</span><br><span>Asynchronous loading and caching bitmaps with Volley</span></a>
<a class=next href=https://wittchen.io/posts/first-google-glass-hackathon-in-poland/><span class=title>Next »</span><br><span>First Google Glass Hackathon in Poland</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://wittchen.io/>Piotr Wittchen</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>