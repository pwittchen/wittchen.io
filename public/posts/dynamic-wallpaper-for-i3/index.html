<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Dynamic wallpaper for i3" />
<meta property="og:description" content="Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wittchen.io/posts/dynamic-wallpaper-for-i3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-29T20:29:36+00:00" />
<meta property="article:modified_time" content="2020-08-15T18:09:42+02:00" />

<title>Dynamic wallpaper for i3 | Piotr Wittchen</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css" integrity="sha256-gsXb0jRHzuC0wqo&#43;0Izglh&#43;qQOH6Nw7uT4yfAuDUa18=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.4e258ca2a1d96c29889d3a803f8ddf3f3ac6d93b3a7fd1940d9752b7e810484f.js" integrity="sha256-TiWMoqHZbCmInTqAP43fPzrG2Ts6f9GUDZdSt&#43;gQSE8=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Piotr Wittchen</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  <ul>
<li><a href="/">About</a></li>
<li><a href="/posts/">Posts</a></li>
<li><a href="/gh/">Code</a></li>
<li><a href="/talks/">Talks</a></li>
<li><a href="/contact/">Contact</a></li>
</ul>










</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Dynamic wallpaper for i3</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents"></nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown">
  <h1>
    <a href="/posts/dynamic-wallpaper-for-i3/">Dynamic wallpaper for i3</a>
  </h1>
  
  <h5>Mar 29, 2020</h5>



  
  <div>
    
      <a href="/tags/i3/">i3</a>, 
      <a href="/tags/linux/">linux</a>
  </div>
  



<p>Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day. I wanted to have the same thing on my Linux. Luckily, on Arch and i3, it&rsquo;s pretty easy to achieve.</p>
<p>I could create very simple bash script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> setbg <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  cp $1 ~/.config/wall.jpg
</span></span><span style="display:flex;"><span>  DISPLAY<span style="color:#f92672">=</span>:0.0 feh --bg-scale ~/.config/wall.jpg
</span></span><span style="display:flex;"><span>  notify-send <span style="color:#e6db74">&#34;wallpaper changed&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hour<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>date +%H<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>time_of_day<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>sunwait poll 50.2849923N 18.6493647E<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[[</span> $time_of_day <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;DAY&#34;</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">[</span> $hour -lt <span style="color:#ae81ff">12</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> setbg $1 <span style="color:#75715e"># morning</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> $hour -gt <span style="color:#ae81ff">11</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">[</span> $hour -lt <span style="color:#ae81ff">15</span> <span style="color:#f92672">]</span>            <span style="color:#f92672">&amp;&amp;</span> setbg $2 <span style="color:#75715e"># midday</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> $hour -gt <span style="color:#ae81ff">14</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">[[</span> $time_of_day <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;DAY&#34;</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> setbg $3 <span style="color:#75715e"># dusk</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[[</span> $time_of_day <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;NIGHT&#34;</span> <span style="color:#f92672">]]</span>                   <span style="color:#f92672">&amp;&amp;</span> setbg $4 <span style="color:#75715e"># night</span>
</span></span></code></pre></div><p>In this example, I simply take the current hour and check if there&rsquo;s day or night inside <code>time_of_day</code> variable with <code>sunwait</code> program. It&rsquo;s pretty neat program and also allows to check time of the sunset and sunrise basing on our timezone and location. When <code>sunwait</code> generates wrong data, we can explicitly provide latitude and longitude for it. E.g <code>sunwait poll 50.2849923N 18.6493647E</code>. I&rsquo;m using <code>feh</code> for setting my desktop background image with <code>DISPLAY=:0.0</code> instruction, which is required, when we want to execute our program in the cron job. Code snippet above is parametrized part of my larger <a href="https://github.com/pwittchen/dotfiles/blob/master/.scripts/set_bg.sh">set_bg.sh</a> script, which you can find in my <a href="https://github.com/pwittchen/dotfiles">dotfiles</a>, but you can put direct paths to your wallpapers in it. You can also check my wrapper for this script in <a href="https://github.com/pwittchen/dotfiles/blob/master/.scripts/set_bg_daynight.sh">set_bg_daynight.sh</a> file. In this case, we just need wallpapers for morning, midday, dusk and night. Of course, we can improve this script and introduce more parts of the day, but I didn&rsquo;t want to make it too complicated.</p>
<p>Once we are ready, we can put our script into <code>~/.config/i3/config</code> file, to set appropriate wallpaper after login:</p>
<pre tabindex="0"><code>exec --no-startup-id /path/to/our/script.sh
</code></pre><p>and create a cron job, which will update our wallpaper every hour:</p>
<pre tabindex="0"><code>1 * * * * /path/to/our/script.sh
</code></pre><p>That&rsquo;s all we need. Now, we can have macOS-like dynamic wallpapers on Linux and i3.</p>
<p>If you want to use macOS wallpapers from Mojave or Catalina OS version for this script, you can check <a href="https://github.com/pwittchen/wallpapers/tree/master/dynamic">dynamic</a> directory of my <a href="https://github.com/pwittchen/wallpapers">wallpapers</a> repository. You can also use any wallpapers you want for this script.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/pwittchen/wittchen.io/commit/d00fe6d9b20b9e5911002fc6f5b17542dafb3520" title='Last modified by Piotr Wittchen | Aug 15, 2020' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>Aug 15, 2020</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/pwittchen/wittchen.io/edit/master/content/content/posts/dynamic-wallpaper-for-i3.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents"></nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












