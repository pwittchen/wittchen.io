<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Dynamic wallpaper for i3 | Piotr Wittchen</title>
<meta name=keywords content="i3,linux"><meta name=description content="Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day. I wanted to have the same thing on my Linux. Luckily, on Arch and i3, it&rsquo;s pretty easy to achieve."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/posts/dynamic-wallpaper-for-i3/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wittchen.io/posts/dynamic-wallpaper-for-i3/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wittchen.io/posts/dynamic-wallpaper-for-i3/"><meta property="og:site_name" content="Piotr Wittchen"><meta property="og:title" content="Dynamic wallpaper for i3"><meta property="og:description" content="Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day. I wanted to have the same thing on my Linux. Luckily, on Arch and i3, it’s pretty easy to achieve."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-03-29T20:29:36+00:00"><meta property="article:modified_time" content="2020-03-29T20:29:36+00:00"><meta property="article:tag" content="I3"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="Dynamic wallpaper for i3"><meta name=twitter:description content="Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day. I wanted to have the same thing on my Linux. Luckily, on Arch and i3, it&rsquo;s pretty easy to achieve."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wittchen.io/posts/"},{"@type":"ListItem","position":2,"name":"Dynamic wallpaper for i3","item":"https://wittchen.io/posts/dynamic-wallpaper-for-i3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Dynamic wallpaper for i3","name":"Dynamic wallpaper for i3","description":"Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day. I wanted to have the same thing on my Linux. Luckily, on Arch and i3, it\u0026rsquo;s pretty easy to achieve.\n","keywords":["i3","linux"],"articleBody":"Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day. I wanted to have the same thing on my Linux. Luckily, on Arch and i3, it’s pretty easy to achieve.\nI could create very simple bash script:\nfunction setbg { cp $1 ~/.config/wall.jpg DISPLAY=:0.0 feh --bg-scale ~/.config/wall.jpg notify-send \"wallpaper changed\" } hour=$(date +%H) time_of_day=$(sunwait poll 50.2849923N 18.6493647E) [[ $time_of_day == \"DAY\" ]] \u0026\u0026 [ $hour -lt 12 ] \u0026\u0026 setbg $1 # morning [ $hour -gt 11 ] \u0026\u0026 [ $hour -lt 15 ] \u0026\u0026 setbg $2 # midday [ $hour -gt 14 ] \u0026\u0026 [[ $time_of_day == \"DAY\" ]] \u0026\u0026 setbg $3 # dusk [[ $time_of_day == \"NIGHT\" ]] \u0026\u0026 setbg $4 # night In this example, I simply take the current hour and check if there’s day or night inside time_of_day variable with sunwait program. It’s pretty neat program and also allows to check time of the sunset and sunrise basing on our timezone and location. When sunwait generates wrong data, we can explicitly provide latitude and longitude for it. E.g sunwait poll 50.2849923N 18.6493647E. I’m using feh for setting my desktop background image with DISPLAY=:0.0 instruction, which is required, when we want to execute our program in the cron job. Code snippet above is parametrized part of my larger set_bg.sh script, which you can find in my dotfiles, but you can put direct paths to your wallpapers in it. You can also check my wrapper for this script in set_bg_daynight.sh file. In this case, we just need wallpapers for morning, midday, dusk and night. Of course, we can improve this script and introduce more parts of the day, but I didn’t want to make it too complicated.\nOnce we are ready, we can put our script into ~/.config/i3/config file, to set appropriate wallpaper after login:\nexec --no-startup-id /path/to/our/script.sh and create a cron job, which will update our wallpaper every hour:\n1 * * * * /path/to/our/script.sh That’s all we need. Now, we can have macOS-like dynamic wallpapers on Linux and i3.\nIf you want to use macOS wallpapers from Mojave or Catalina OS version for this script, you can check dynamic directory of my wallpapers repository. You can also use any wallpapers you want for this script.\n","wordCount":"438","inLanguage":"en","datePublished":"2020-03-29T20:29:36Z","dateModified":"2020-03-29T20:29:36Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/posts/dynamic-wallpaper-for-i3/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)">Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Dynamic wallpaper for i3</h1><div class=post-meta><span title='2020-03-29 20:29:36 +0000 UTC'>March 29, 2020</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;438 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/posts/dynamic-wallpaper-for-i3.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Some time ago, I was using macOS. The thing I liked about this OS since Mojave version was the dynamic wallpaper feature. Wallpaper representing picture of the Mojave desert in California was dynamically changing during the day. In the morning, we could see the dawn and sunrise, later picture during the midday, in the evening, desert during the dusk and finally picture at night. I liked the fact that wallpaper were adjusting to the time of the day. I wanted to have the same thing on my Linux. Luckily, on Arch and i3, it&rsquo;s pretty easy to achieve.</p><p>I could create very simple bash script:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>function</span> setbg <span class=o>{</span>
</span></span><span class=line><span class=cl>  cp <span class=nv>$1</span> ~/.config/wall.jpg
</span></span><span class=line><span class=cl>  <span class=nv>DISPLAY</span><span class=o>=</span>:0.0 feh --bg-scale ~/.config/wall.jpg
</span></span><span class=line><span class=cl>  notify-send <span class=s2>&#34;wallpaper changed&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>hour</span><span class=o>=</span><span class=k>$(</span>date +%H<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=nv>time_of_day</span><span class=o>=</span><span class=k>$(</span>sunwait poll 50.2849923N 18.6493647E<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> <span class=nv>$time_of_day</span> <span class=o>==</span> <span class=s2>&#34;DAY&#34;</span> <span class=o>]]</span> <span class=o>&amp;&amp;</span> <span class=o>[</span> <span class=nv>$hour</span> -lt <span class=m>12</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> setbg <span class=nv>$1</span> <span class=c1># morning</span>
</span></span><span class=line><span class=cl><span class=o>[</span> <span class=nv>$hour</span> -gt <span class=m>11</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=o>[</span> <span class=nv>$hour</span> -lt <span class=m>15</span> <span class=o>]</span>            <span class=o>&amp;&amp;</span> setbg <span class=nv>$2</span> <span class=c1># midday</span>
</span></span><span class=line><span class=cl><span class=o>[</span> <span class=nv>$hour</span> -gt <span class=m>14</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=o>[[</span> <span class=nv>$time_of_day</span> <span class=o>==</span> <span class=s2>&#34;DAY&#34;</span> <span class=o>]]</span> <span class=o>&amp;&amp;</span> setbg <span class=nv>$3</span> <span class=c1># dusk</span>
</span></span><span class=line><span class=cl><span class=o>[[</span> <span class=nv>$time_of_day</span> <span class=o>==</span> <span class=s2>&#34;NIGHT&#34;</span> <span class=o>]]</span>                   <span class=o>&amp;&amp;</span> setbg <span class=nv>$4</span> <span class=c1># night</span>
</span></span></code></pre></div><p>In this example, I simply take the current hour and check if there&rsquo;s day or night inside <code>time_of_day</code> variable with <code>sunwait</code> program. It&rsquo;s pretty neat program and also allows to check time of the sunset and sunrise basing on our timezone and location. When <code>sunwait</code> generates wrong data, we can explicitly provide latitude and longitude for it. E.g <code>sunwait poll 50.2849923N 18.6493647E</code>. I&rsquo;m using <code>feh</code> for setting my desktop background image with <code>DISPLAY=:0.0</code> instruction, which is required, when we want to execute our program in the cron job. Code snippet above is parametrized part of my larger <a href=https://github.com/pwittchen/dotfiles/blob/master/.scripts/set_bg.sh>set_bg.sh</a> script, which you can find in my <a href=https://github.com/pwittchen/dotfiles>dotfiles</a>, but you can put direct paths to your wallpapers in it. You can also check my wrapper for this script in <a href=https://github.com/pwittchen/dotfiles/blob/master/.scripts/set_bg_daynight.sh>set_bg_daynight.sh</a> file. In this case, we just need wallpapers for morning, midday, dusk and night. Of course, we can improve this script and introduce more parts of the day, but I didn&rsquo;t want to make it too complicated.</p><p>Once we are ready, we can put our script into <code>~/.config/i3/config</code> file, to set appropriate wallpaper after login:</p><pre tabindex=0><code>exec --no-startup-id /path/to/our/script.sh
</code></pre><p>and create a cron job, which will update our wallpaper every hour:</p><pre tabindex=0><code>1 * * * * /path/to/our/script.sh
</code></pre><p>That&rsquo;s all we need. Now, we can have macOS-like dynamic wallpapers on Linux and i3.</p><p>If you want to use macOS wallpapers from Mojave or Catalina OS version for this script, you can check <a href=https://github.com/pwittchen/wallpapers/tree/master/dynamic>dynamic</a> directory of my <a href=https://github.com/pwittchen/wallpapers>wallpapers</a> repository. You can also use any wallpapers you want for this script.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/i3/>I3</a></li><li><a href=https://wittchen.io/tags/linux/>Linux</a></li></ul><nav class=paginav><a class=next href=https://wittchen.io/posts/spotify-song-in-i3-status-bar/><span class=title>Next »</span><br><span>Spotify song in i3 status bar</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://wittchen.io/>Piotr Wittchen</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>