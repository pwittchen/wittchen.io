<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Creating a Docker container with Alpine Linux including Java 8 and 9 | Piotr Wittchen</title><meta name=keywords content="java"><meta name=description content="Recently, I&rsquo;ve decided to refresh my knowledge regarding Docker and created an image with Alpine Linux and Java 9, which can be a useful base for the future projects. I used Alpine as a base image because it became quite popular in the Docker world due to its simplicity and the fact that it&rsquo;s pretty lightweight when we compare it to containers based on other Linux distributions. Pure Alpine Docker container has about 4."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/posts/creating-a-docker-container-with-alpine-linux-including-java-8-and-9/><link crossorigin=anonymous href=/assets/css/stylesheet.cdcf872f971c70fddc7fd480e8457cd308ed0cf287b498bcdc6183fc6d147858.css integrity="sha256-zc+HL5cccP3cf9SA6EV80wjtDPKHtJi83GGD/G0UeFg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Creating a Docker container with Alpine Linux including Java 8 and 9"><meta property="og:description" content="Recently, I&rsquo;ve decided to refresh my knowledge regarding Docker and created an image with Alpine Linux and Java 9, which can be a useful base for the future projects. I used Alpine as a base image because it became quite popular in the Docker world due to its simplicity and the fact that it&rsquo;s pretty lightweight when we compare it to containers based on other Linux distributions. Pure Alpine Docker container has about 4."><meta property="og:type" content="article"><meta property="og:url" content="https://wittchen.io/posts/creating-a-docker-container-with-alpine-linux-including-java-8-and-9/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-12-27T14:43:00+00:00"><meta property="article:modified_time" content="2017-12-27T14:43:00+00:00"><meta property="og:site_name" content="Piotr Wittchen"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating a Docker container with Alpine Linux including Java 8 and 9"><meta name=twitter:description content="Recently, I&rsquo;ve decided to refresh my knowledge regarding Docker and created an image with Alpine Linux and Java 9, which can be a useful base for the future projects. I used Alpine as a base image because it became quite popular in the Docker world due to its simplicity and the fact that it&rsquo;s pretty lightweight when we compare it to containers based on other Linux distributions. Pure Alpine Docker container has about 4."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wittchen.io/posts/"},{"@type":"ListItem","position":2,"name":"Creating a Docker container with Alpine Linux including Java 8 and 9","item":"https://wittchen.io/posts/creating-a-docker-container-with-alpine-linux-including-java-8-and-9/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating a Docker container with Alpine Linux including Java 8 and 9","name":"Creating a Docker container with Alpine Linux including Java 8 and 9","description":"Recently, I\u0026rsquo;ve decided to refresh my knowledge regarding Docker and created an image with Alpine Linux and Java 9, which can be a useful base for the future projects. I used Alpine as a base image because it became quite popular in the Docker world due to its simplicity and the fact that it\u0026rsquo;s pretty lightweight when we compare it to containers based on other Linux distributions. Pure Alpine Docker container has about 4.","keywords":["java"],"articleBody":"Recently, I’ve decided to refresh my knowledge regarding Docker and created an image with Alpine Linux and Java 9, which can be a useful base for the future projects. I used Alpine as a base image because it became quite popular in the Docker world due to its simplicity and the fact that it’s pretty lightweight when we compare it to containers based on other Linux distributions. Pure Alpine Docker container has about 4.144 MB, what is really impressing.\nContainer with Java 9 My Dockerfile looks pretty simple:\nFROMalpine:latestMAINTAINERpwittchenUSERrootRUN wget http://download.java.net/java/jdk9-alpine/archive/181/binaries/jdk-9-ea+181_linux-x64-musl_bin.tar.gzRUN tar -xzvf *.tar.gzRUN chmod +x jdk-9RUN mv jdk-9 /usr/local/shareENV JAVA_HOME=/usr/local/share/jdk-9ENV PATH=\"$JAVA_HOME/bin:${PATH}\"RUN rm -rf *.tar.gzWe’re downloading JDK, unpacking it, moving to /usr/local/share directory, creating $JAVA_HOME environmental variable and adding $JAVA_HOME/bin to the $PATH. After that, we’re removing downloaded *.tar.gz file. We can find it on Docker Hub: https://hub.docker.com/r/pwittchen/alpine-java9/ To pull the image from Docker Hub, just type:\nsudo docker pull pwittchen/alpine-java9 To run it with CLI, type:\nsudo docker run -i -t pwittchen/alpine-java9 Then, we can play around with jshell inside the container:\n/ # jshell Dec 27, 2017 1:18:10 PM java.util.prefs.FileSystemPreferences$1 run INFO: Created user preferences directory. | Welcome to JShell -- Version 9-ea | For an introduction type: /help intro jshell System.out.println(\"hello from docker!\") hello from docker! This container is not so small and has about 919.2 MB. It contains whole JDK, so probably this size could be reduced.\nNote!\nRight now (21st of March 2018), this solution doesn’t work any longer. Please, search for an official Alpine image with Java 9 or use image with Ubuntu and Java 9 located in dockerfiles-java repo.\nContainer with Java 8 I’ve also created another image with Java 8 (just in case):\nFROMalpine:latestMAINTAINERpwittchenUSERrootRUN apk updateRUN apk fetch openjdk8RUN apk add openjdk8We can also find it on GitHub: github.com/pwittchen/dockerfiles-java (inside the alpine-java8 directory), Docker Hub: https://hub.docker.com/r/pwittchen/alpine-java8/ and pull it from the Docker Hub:\nsudo docker pull pwittchen/alpine-java8 and run it with CLI as follows:\nsudo docker run -i -t pwittchen/alpine-java8 In this case, container has 118.5 MB, which is better result than for the previous container. In this case, we’re installing Java 8 for Alpine from official repository, so probably it’s already optimized. I hope, you’ll find it useful while developing your projects in Java 8 or Java 9.\n","wordCount":"377","inLanguage":"en","datePublished":"2017-12-27T14:43:00Z","dateModified":"2017-12-27T14:43:00Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/posts/creating-a-docker-container-with-alpine-linux-including-java-8-and-9/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)"><img src=https://wittchen.io/apple-touch-icon.png alt aria-label=logo height=35>Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/posts/>Posts</a></div><h1 class=post-title>Creating a Docker container with Alpine Linux including Java 8 and 9</h1><div class=post-meta><span title="2017-12-27 14:43:00 +0000 UTC">December 27, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;377 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/posts/creating-a-docker-container-with-alpine-linux-including-java-8-and-9.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Recently, I&rsquo;ve decided to refresh my knowledge regarding <a href=https://www.docker.com/>Docker</a> and created an image with <a href=https://alpinelinux.org/>Alpine Linux</a> and Java 9, which can be a useful base for the future projects. I used Alpine as a base image because it became quite popular in the Docker world due to its simplicity and the fact that it&rsquo;s pretty lightweight when we compare it to containers based on other Linux distributions. Pure Alpine Docker container has about 4.144 MB, what is really impressing.</p><h2 id=container-with-java-9>Container with Java 9<a hidden class=anchor aria-hidden=true href=#container-with-java-9>#</a></h2><p>My <code>Dockerfile</code> looks pretty simple:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-docker data-lang=docker><span class=line><span class=cl><span class=k>FROM</span><span class=s> alpine:latest</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>MAINTAINER</span><span class=s> pwittchen</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>USER</span><span class=s> root</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> wget http://download.java.net/java/jdk9-alpine/archive/181/binaries/jdk-9-ea+181_linux-x64-musl_bin.tar.gz<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> tar -xzvf *.tar.gz<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> chmod +x jdk-9<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> mv jdk-9 /usr/local/share<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>ENV</span> <span class=nv>JAVA_HOME</span><span class=o>=</span>/usr/local/share/jdk-9<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>ENV</span> <span class=nv>PATH</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$JAVA_HOME</span><span class=s2>/bin:</span><span class=si>${</span><span class=nv>PATH</span><span class=si>}</span><span class=s2>&#34;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> rm -rf *.tar.gz<span class=err>
</span></span></span></code></pre></div><p>We&rsquo;re downloading JDK, unpacking it, moving to <code>/usr/local/share</code> directory, creating <code>$JAVA_HOME</code> environmental variable and adding <code>$JAVA_HOME/bin</code> to the <code>$PATH</code>. After that, we&rsquo;re removing downloaded <code>*.tar.gz</code> file. We can find it on Docker Hub: <a href=https://hub.docker.com/r/pwittchen/alpine-java9/>https://hub.docker.com/r/pwittchen/alpine-java9/</a> To pull the image from Docker Hub, just type:</p><pre tabindex=0><code>sudo docker pull pwittchen/alpine-java9
</code></pre><p>To run it with CLI, type:</p><pre tabindex=0><code>sudo docker run -i -t pwittchen/alpine-java9
</code></pre><p>Then, we can play around with jshell inside the container:</p><pre tabindex=0><code>/ # jshell
Dec 27, 2017 1:18:10 PM java.util.prefs.FileSystemPreferences$1 run
INFO: Created user preferences directory.
|  Welcome to JShell -- Version 9-ea
|  For an introduction type: /help intro

jshell&gt; System.out.println(&#34;hello from docker!&#34;)
hello from docker!
</code></pre><p>This container is not so small and has about 919.2 MB. It contains whole JDK, so probably this size could be reduced.</p><p><strong>Note!</strong></p><p>Right now (21st of March 2018), this solution doesn&rsquo;t work any longer. Please, search for an official Alpine image with Java 9 or use image with Ubuntu and Java 9 located in <a href=https://github.com/pwittchen/dockerfiles-java>dockerfiles-java</a> repo.</p><h2 id=container-with-java-8>Container with Java 8<a hidden class=anchor aria-hidden=true href=#container-with-java-8>#</a></h2><p>I&rsquo;ve also created another image with Java 8 (just in case):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-docker data-lang=docker><span class=line><span class=cl><span class=k>FROM</span><span class=s> alpine:latest</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>MAINTAINER</span><span class=s> pwittchen</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>USER</span><span class=s> root</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apk update<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apk fetch openjdk8<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apk add openjdk8<span class=err>
</span></span></span></code></pre></div><p>We can also find it on GitHub: <a href=https://github.com/pwittchen/dockerfiles-java>github.com/pwittchen/dockerfiles-java</a> (inside the <code>alpine-java8</code> directory), Docker Hub: <a href=https://hub.docker.com/r/pwittchen/alpine-java8/>https://hub.docker.com/r/pwittchen/alpine-java8/</a> and pull it from the Docker Hub:</p><pre tabindex=0><code>sudo docker pull pwittchen/alpine-java8
</code></pre><p>and run it with CLI as follows:</p><pre tabindex=0><code>sudo docker run -i -t pwittchen/alpine-java8
</code></pre><p>In this case, container has 118.5 MB, which is better result than for the previous container. In this case, we&rsquo;re installing Java 8 for Alpine from official repository, so probably it&rsquo;s already optimized. I hope, you&rsquo;ll find it useful while developing your projects in Java 8 or Java 9.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/java/>java</a></li></ul><nav class=paginav><a class=prev href=https://wittchen.io/posts/air-quality-monitoring-script-for-argos-linux-and-bitbar-macos/><span class=title>« Prev</span><br><span>Air quality monitoring script for Argos (Linux) and BitBar (macOS)</span></a>
<a class=next href=https://wittchen.io/posts/droidcon-poland-2017-is-your-app-really-connected/><span class=title>Next »</span><br><span>DroidCon Poland 2017 - Is your app really connected?</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://wittchen.io/>Piotr Wittchen</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>