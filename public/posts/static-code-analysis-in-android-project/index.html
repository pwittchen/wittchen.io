<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Static code analysis in Android project | Piotr Wittchen</title>
<meta name=keywords content="android,gradle"><meta name=description content="Overview
I&rsquo;ve recently read great article telling how to improve quality and syntax of your Android code by Vincent Brison. It presents how to use tools like Checkstyle, Findbugs, PMD, and Android Lint for Static Code Analysis in Android project. Static Code Analysis allows us to keep consistency of the source code style and helps us to find errors, warnings, possible bugs, bottlenecks and ways to improve the projects. I highly recommend to use tools like those mentioned."><meta name=author content="Piotr Wittchen"><link rel=canonical href=https://wittchen.io/posts/static-code-analysis-in-android-project/><link crossorigin=anonymous href=/assets/css/stylesheet.4a824105f186decca41ccc96dd9047842de7c7350551e0447bbf802e4461e6c7.css integrity="sha256-SoJBBfGG3sykHMyW3ZBHhC3nxzUFUeBEe7+ALkRh5sc=" rel="preload stylesheet" as=style><link rel=icon href=https://wittchen.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wittchen.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wittchen.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wittchen.io/apple-touch-icon.png><link rel=mask-icon href=https://wittchen.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wittchen.io/posts/static-code-analysis-in-android-project/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wittchen.io/posts/static-code-analysis-in-android-project/"><meta property="og:site_name" content="Piotr Wittchen"><meta property="og:title" content="Static code analysis in Android project"><meta property="og:description" content="Overview I’ve recently read great article telling how to improve quality and syntax of your Android code by Vincent Brison. It presents how to use tools like Checkstyle, Findbugs, PMD, and Android Lint for Static Code Analysis in Android project. Static Code Analysis allows us to keep consistency of the source code style and helps us to find errors, warnings, possible bugs, bottlenecks and ways to improve the projects. I highly recommend to use tools like those mentioned."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-03-26T00:23:00+00:00"><meta property="article:modified_time" content="2015-03-26T00:23:00+00:00"><meta property="article:tag" content="Android"><meta property="article:tag" content="Gradle"><meta name=twitter:card content="summary"><meta name=twitter:title content="Static code analysis in Android project"><meta name=twitter:description content="Overview
I&rsquo;ve recently read great article telling how to improve quality and syntax of your Android code by Vincent Brison. It presents how to use tools like Checkstyle, Findbugs, PMD, and Android Lint for Static Code Analysis in Android project. Static Code Analysis allows us to keep consistency of the source code style and helps us to find errors, warnings, possible bugs, bottlenecks and ways to improve the projects. I highly recommend to use tools like those mentioned."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wittchen.io/posts/"},{"@type":"ListItem","position":2,"name":"Static code analysis in Android project","item":"https://wittchen.io/posts/static-code-analysis-in-android-project/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Static code analysis in Android project","name":"Static code analysis in Android project","description":"Overview I\u0026rsquo;ve recently read great article telling how to improve quality and syntax of your Android code by Vincent Brison. It presents how to use tools like Checkstyle, Findbugs, PMD, and Android Lint for Static Code Analysis in Android project. Static Code Analysis allows us to keep consistency of the source code style and helps us to find errors, warnings, possible bugs, bottlenecks and ways to improve the projects. I highly recommend to use tools like those mentioned.\n","keywords":["android","gradle"],"articleBody":"Overview I’ve recently read great article telling how to improve quality and syntax of your Android code by Vincent Brison. It presents how to use tools like Checkstyle, Findbugs, PMD, and Android Lint for Static Code Analysis in Android project. Static Code Analysis allows us to keep consistency of the source code style and helps us to find errors, warnings, possible bugs, bottlenecks and ways to improve the projects. I highly recommend to use tools like those mentioned.\nExample Visit repository at: https://github.com/vincentbrison/vb-android-app-quality. The most important files are:\napp/build.gradle config/quality.gradle We can run analysis by executing the following command: ./gradlew check Besides that, we can run each command like checkstyle, findbugs, pmd or lint separately if we want to. In addition, when we build the project with command:\n./gradlew build\ncheck command will be executed as well, because of the following line in quality.gradle file: check.dependsOn 'checkstyle', 'findbugs', 'pmd', 'lint' After that, we can find output with our reports in directory: app/build/reports/. Of course, we can customize output directory and names of the report files. In default configuration, check command with generate reports in HTML format. Only output from the checkstyle operation will be generated in XML format. We can customize findbugs, pmd and lint, to generate XML reports instead of HTML reports in quality.gradle file.\nSensitivity of the build We can customize rules of the Static Code Analysis tools in restrictive and non-restrictive way. In findbugs and pmd task, we can set ignoreFailures attribute as follows: ignoreFailures = false When it’s set to false, tasks will only generate reports, but when we set it to true, build will fail, when at least one error will be found. In lint task, we can customize attribute abortOnError as follows: abortOnError true It will literally abort the build, when any lint error occur. Warnings will be ignored. When we want to ignore errors, we can set this attribute to false.\nStatic Code Analysis on CI server When we want to perform Static Code Analysis on CI server, we can do it easily from the command line interface. If we want to automatically collect and analyze reports generated by mentioned tools, we should generate them in XML format instead of HTML, so they can be parsed by appropriate plugins. Mentioned tools can be easily integrated with Jenkins CI server. We need the following plugins:\nCheckstyle FindBugs PMD Android Lint After installing those plugins, we can define post-build actions in our Jenkins Job, provide paths to the appropriate XML reports and then we can view results of the reports and trend graphs directly from web panel of our Jenkins server. Exemplary trend graphs looks as follows:\nIf we have unit tests in our project, we can also generate test reports and monitor test trend. In the chart below, failed build don’t have generated test reports that’s why chart may look strange. In addition, number of tests was decreased, because they were migrated from JUnit3 to JUnit4. In JUnit3 for some reason each test case is treated as an additional unit test. JUnit4 report shows real number of tests.\nIn every build, we can browse generated reports and their details.\nI really recommend to use Static Code Analysis tools and reporting plugins on CI in the projects, because they will increase quality of the code really fast and will allow to eliminate many errors before shipping the application.\n","wordCount":"563","inLanguage":"en","datePublished":"2015-03-26T00:23:00Z","dateModified":"2015-03-26T00:23:00Z","author":{"@type":"Person","name":"Piotr Wittchen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wittchen.io/posts/static-code-analysis-in-android-project/"},"publisher":{"@type":"Organization","name":"Piotr Wittchen","logo":{"@type":"ImageObject","url":"https://wittchen.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wittchen.io/ accesskey=h title="Piotr Wittchen (Alt + H)">Piotr Wittchen</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wittchen.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://wittchen.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://wittchen.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://wittchen.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://wittchen.io/contact/ title=contact><span>contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wittchen.io/>Home</a>&nbsp;»&nbsp;<a href=https://wittchen.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Static code analysis in Android project</h1><div class=post-meta><span title='2015-03-26 00:23:00 +0000 UTC'>March 26, 2015</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;563 words&nbsp;·&nbsp;Piotr Wittchen&nbsp;|&nbsp;<a href=https://github.com/pwittchen/wittchen.io/blob/master/content/posts/static-code-analysis-in-android-project.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h2><p>I&rsquo;ve recently read great article telling <a href=http://vincentbrison.com/2014/07/19/how-to-improve-quality-and-syntax-of-your-android-code/>how to improve quality and syntax of your Android code</a> by <a href=http://vincentbrison.com/>Vincent Brison</a>. It presents how to use tools like <a href=http://checkstyle.sourceforge.net/>Checkstyle</a>, <a href=http://findbugs.sourceforge.net/>Findbugs</a>, <a href=http://pmd.sourceforge.net/>PMD</a>, and <a href=http://tools.android.com/tips/lint>Android Lint</a> for <a href=http://en.wikipedia.org/wiki/Static_program_analysis>Static Code Analysis</a> in Android project. Static Code Analysis allows us to keep consistency of the source code style and helps us to find errors, warnings, possible bugs, bottlenecks and ways to improve the projects. I highly recommend to use tools like those mentioned.</p><h2 id=example>Example<a hidden class=anchor aria-hidden=true href=#example>#</a></h2><p>Visit repository at: <a href=https://github.com/vincentbrison/vb-android-app-quality>https://github.com/vincentbrison/vb-android-app-quality</a>. The most important files are:</p><ul><li><a href=https://github.com/vincentbrison/vb-android-app-quality/blob/master/app/build.gradle>app/build.gradle</a></li><li><a href=https://github.com/vincentbrison/vb-android-app-quality/blob/master/config/quality.gradle>config/quality.gradle</a></li></ul><p>We can run analysis by executing the following command: <code>./gradlew check</code> Besides that, we can run each command like <code>checkstyle</code>, <code>findbugs</code>, <code>pmd</code> or <code>lint</code> separately if we want to. In addition, when we build the project with command:</p><p><code>./gradlew build</code></p><p><code>check</code> command will be executed as well, because of the following line in <code>quality.gradle</code> file: <code>check.dependsOn 'checkstyle', 'findbugs', 'pmd', 'lint'</code> After that, we can find output with our reports in directory: <code>app/build/reports/</code>. Of course, we can customize output directory and names of the report files. In default configuration, <code>check</code> command with generate reports in HTML format. Only output from the <code>checkstyle</code> operation will be generated in XML format. We can customize <code>findbugs</code>, <code>pmd</code> and <code>lint</code>, to generate XML reports instead of HTML reports in <code>quality.gradle</code> file.</p><h2 id=sensitivity-of-the-build>Sensitivity of the build<a hidden class=anchor aria-hidden=true href=#sensitivity-of-the-build>#</a></h2><p>We can customize rules of the Static Code Analysis tools in restrictive and non-restrictive way. In <code>findbugs</code> and <code>pmd</code> task, we can set <code>ignoreFailures</code> attribute as follows: <code>ignoreFailures = false</code> When it&rsquo;s set to <code>false</code>, tasks will only generate reports, but when we set it to <code>true</code>, build will fail, when at least one error will be found. In <code>lint</code> task, we can customize attribute <code>abortOnError</code> as follows: <code>abortOnError true</code> It will literally abort the build, when any lint error occur. Warnings will be ignored. When we want to ignore errors, we can set this attribute to <code>false</code>.</p><h2 id=static-code-analysis-on-ci-server>Static Code Analysis on CI server<a hidden class=anchor aria-hidden=true href=#static-code-analysis-on-ci-server>#</a></h2><p>When we want to perform Static Code Analysis on CI server, we can do it easily from the command line interface. If we want to automatically collect and analyze reports generated by mentioned tools, we should generate them in XML format instead of HTML, so they can be parsed by appropriate plugins. Mentioned tools can be easily integrated with <a href=https://jenkins-ci.org/>Jenkins CI server</a>. We need the following plugins:</p><ul><li><a href=https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin>Checkstyle</a></li><li><a href=https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin>FindBugs</a></li><li><a href=https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin>PMD</a></li><li><a href=https://wiki.jenkins-ci.org/display/JENKINS/Android+Lint+Plugin>Android Lint</a></li></ul><p>After installing those plugins, we can define post-build actions in our Jenkins Job, provide paths to the appropriate XML reports and then we can view results of the reports and trend graphs directly from web panel of our Jenkins server. Exemplary trend graphs looks as follows:</p><p><img alt=lint_checkstyle_findbugs_pmd_trends loading=lazy src=/posts/2015/sca-android/lint_checkstyle_findbugs_pmd_trends.png></p><p>If we have unit tests in our project, we can also generate test reports and monitor test trend. In the chart below, failed build don&rsquo;t have generated test reports that&rsquo;s why chart may look strange. In addition, number of tests was decreased, because they were migrated from JUnit3 to JUnit4. In JUnit3 for some reason each test case is treated as an additional unit test. JUnit4 report shows real number of tests.</p><p><img alt=test_trend loading=lazy src=/posts/2015/sca-android/test_trend.png></p><p>In every build, we can browse generated reports and their details.</p><p><img alt=android_build_report loading=lazy src=/posts/2015/sca-android/android_build_report.png></p><p>I really recommend to use Static Code Analysis tools and reporting plugins on CI in the projects, because they will increase quality of the code really fast and will allow to eliminate many errors before shipping the application.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wittchen.io/tags/android/>Android</a></li><li><a href=https://wittchen.io/tags/gradle/>Gradle</a></li></ul><nav class=paginav><a class=prev href=https://wittchen.io/posts/making-ubuntu-faster/><span class=title>« Prev</span><br><span>Making Ubuntu faster</span>
</a><a class=next href=https://wittchen.io/posts/the-one-hacker-way/><span class=title>Next »</span><br><span>The One Hacker Way</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://wittchen.io/>Piotr Wittchen</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>